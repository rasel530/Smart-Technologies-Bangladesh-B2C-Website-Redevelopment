{"version":3,"names":["cov_wmf6zey3v","actualCoverage","express","s","require","body","validationResult","bcrypt","jwt","PrismaClient","emailService","smsService","otpService","authMiddleware","sessionMiddleware","sessionService","passwordService","phoneValidationService","configService","loggerService","router","Router","prisma","handleValidationErrors","req","res","next","f","errors","isEmpty","b","status","json","error","details","array","post","optional","isEmail","normalizeEmail","isLength","min","max","notEmpty","trim","email","password","firstName","lastName","phone","message","messageBn","userInfo","passwordValidation","validatePasswordStrength","isValid","strength","score","feedback","warnings","suggestions","passwordPolicy","getPasswordPolicy","validateEmail","isDisposableEmail","phoneValidation","validateForUseCase","errorBn","code","existingUser","user","findFirst","where","OR","normalizedPhone","field","hashedPassword","hashPassword","create","data","role","select","id","createdAt","savePasswordToHistory","isTestingMode","isEmailVerificationDisabled","isPhoneVerificationDisabled","verificationToken","generateVerificationToken","expiresAt","Date","now","emailVerificationToken","userId","token","emailResult","sendVerificationEmail","success","delete","requiresEmailVerification","otpResult","generatePhoneOTP","requiresPhoneVerification","operator","operatorDetails","updatedUser","update","emailVerified","phoneVerified","testingMode","verificationSkipped","console","process","env","NODE_ENV","isBoolean","identifier","rememberMe","includes","loginType","findUnique","isValidPassword","compare","requiresVerification","verificationMessage","verificationMessageBn","verificationType","lastLoginAt","sessionResult","createSession","maxAge","sessionId","setSessionCookie","sessionHeaders","Object","keys","forEach","key","set","jwtSecretLogin","JWT_SECRET","Error","sign","expiresIn","name","stack","allDevices","getSessionId","validation","validateSession","valid","clearSessionCookie","sessionExpired","result","destroyAllUserSessions","destroySession","reason","destroyedCount","jwtSecretRefresh","decoded","verify","jwtSecretNew","newToken","include","sendWelcomeEmail","emailVerificationTokens","gt","recentToken","getTime","deleteMany","isVerified","isPhoneVerified","mock","otp","verifyResult","verifyPhoneOTP","verifiedAt","resendResult","resendPhoneOTP","waitTime","authenticate","currentPassword","newPassword","confirmPassword","isCurrentPasswordValid","verifyPassword","isSameAsCurrent","isPasswordReused","hashedNewPassword","log","toISOString","timestamp","resetToken","temporaryPassword","generateStrongPassword","hashedTempPassword","sendPasswordResetEmail","get","policy","validateBangladeshPhoneNumber","operators","getSupportedOperators","validateRememberMeToken","tokenValid","refreshResult","refreshFromRememberMeToken","jwtToken","refreshedFrom","currentSessionId","clearCookie","module","exports"],"sources":["auth.js"],"sourcesContent":["const express = require('express');\r\nconst { body, validationResult } = require('express-validator');\r\nconst bcrypt = require('bcryptjs');\r\nconst jwt = require('jsonwebtoken');\r\nconst { PrismaClient } = require('@prisma/client');\r\nconst { emailService } = require('../services/emailService');\r\nconst { smsService } = require('../services/smsService');\r\nconst { otpService } = require('../services/otpService');\r\nconst { authMiddleware } = require('../middleware/auth');\r\nconst { sessionMiddleware } = require('../middleware/session');\r\nconst { sessionService } = require('../services/sessionService');\r\nconst { passwordService } = require('../services/passwordService');\r\nconst { phoneValidationService } = require('../services/phoneValidationService');\r\nconst { configService } = require('../services/config');\r\nconst { loggerService } = require('../services/logger');\r\n\r\nconst router = express.Router();\r\nconst prisma = new PrismaClient();\r\n\r\n// Validation middleware\r\nconst handleValidationErrors = (req, res, next) => {\r\n  const errors = validationResult(req);\r\n  if (!errors.isEmpty()) {\r\n    return res.status(400).json({\r\n      error: 'Validation failed',\r\n      details: errors.array()\r\n    });\r\n  }\r\n  next();\r\n};\r\n\r\n// Register endpoint\r\nrouter.post('/register', [\r\n  body('email').optional().isEmail().normalizeEmail(),\r\n  body('password').isLength({ min: 8, max: 128 }),\r\n  body('firstName').notEmpty().trim(),\r\n  body('lastName').notEmpty().trim(),\r\n  body('phone').notEmpty().trim()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n  const { email, password, firstName, lastName, phone } = req.body;\r\n\r\n  // Validate that at least email or phone is provided\r\n  if (!email && !phone) {\r\n    return res.status(400).json({\r\n      error: 'Email or phone required',\r\n      message: 'Please provide either email or phone number for registration',\r\n      messageBn: 'অনুগ্রহ ইমেল বা ফোন নম্বর দিন'\r\n    });\r\n  }\r\n\r\n  // Validate password strength\r\n  const userInfo = { firstName, lastName, email, phone };\r\n  const passwordValidation = passwordService.validatePasswordStrength(password, userInfo);\r\n  \r\n  if (!passwordValidation.isValid) {\r\n    return res.status(400).json({\r\n      error: 'Password does not meet requirements',\r\n      message: 'Password is too weak or does not meet security requirements',\r\n      messageBn: 'পাসওয়ার্ড খুবই বা নিরাপত্তিগিয় পূর্ব',\r\n      details: {\r\n        strength: passwordValidation.strength,\r\n        score: passwordValidation.score,\r\n        feedback: passwordValidation.feedback,\r\n        warnings: passwordValidation.warnings,\r\n        suggestions: passwordValidation.suggestions,\r\n        passwordPolicy: passwordService.getPasswordPolicy()\r\n      }\r\n    });\r\n  }\r\n\r\n    // Validate email if provided\r\n    if (email) {\r\n      if (!emailService.validateEmail(email)) {\r\n        return res.status(400).json({\r\n          error: 'Invalid email format',\r\n          message: 'Please provide a valid email address',\r\n          messageBn: 'অনুগ্রহ ইমেল ঠিকানা দিন'\r\n        });\r\n      }\r\n\r\n      if (emailService.isDisposableEmail(email)) {\r\n        return res.status(400).json({\r\n          error: 'Disposable email not allowed',\r\n          message: 'Please use a permanent email address for registration',\r\n          messageBn: 'নিবন্ধন ইমেল ব্যবহার করুন, অনুগ্রহ ইমেল ব্যবহার করুন'\r\n        });\r\n      }\r\n    }\r\n\r\n    // Validate phone if provided\r\n    let phoneValidation = null;\r\n    if (phone) {\r\n      phoneValidation = phoneValidationService.validateForUseCase(phone, 'registration');\r\n      if (!phoneValidation.isValid) {\r\n        return res.status(400).json({\r\n          error: 'Invalid phone format',\r\n          message: phoneValidation.error,\r\n          messageBn: phoneValidation.errorBn,\r\n          code: phoneValidation.code\r\n        });\r\n      }\r\n    }\r\n\r\n    // Check if user already exists\r\n    const existingUser = await prisma.user.findFirst({\r\n      where: {\r\n        OR: [\r\n          ...(email ? [{ email }] : []),\r\n          ...(phoneValidation?.isValid ? [{ phone: phoneValidation.normalizedPhone }] : [])\r\n        ]\r\n      }\r\n    });\r\n\r\n    if (existingUser) {\r\n      return res.status(409).json({\r\n        error: 'User already exists',\r\n        message: 'An account with this email or phone number already exists',\r\n        messageBn: 'এই ইমেল বা ফোন নম্বর দিয়ে একাউন্ট বিদ্যমান রয়েছে',\r\n        field: existingUser.email === email ? 'email' : 'phone'\r\n      });\r\n    }\r\n\r\n    // Hash password using password service\r\n    const hashedPassword = await passwordService.hashPassword(password);\r\n\r\n    // Create user with PENDING status\r\n    const user = await prisma.user.create({\r\n      data: {\r\n        email,\r\n        password: hashedPassword,\r\n        firstName,\r\n        lastName,\r\n        phone: phoneValidation?.normalizedPhone || phone,\r\n        role: 'CUSTOMER',\r\n        status: 'PENDING'\r\n      },\r\n      select: {\r\n        id: true,\r\n        email: true,\r\n        firstName: true,\r\n        lastName: true,\r\n        phone: true,\r\n        role: true,\r\n        status: true,\r\n        createdAt: true\r\n      }\r\n    });\r\n\r\n    // Save password to history\r\n    await passwordService.savePasswordToHistory(user.id, hashedPassword);\r\n\r\n    // Check if testing mode is enabled\r\n    const isTestingMode = configService.isTestingMode();\r\n    const isEmailVerificationDisabled = configService.isEmailVerificationDisabled();\r\n    const isPhoneVerificationDisabled = configService.isPhoneVerificationDisabled();\r\n\r\n    // Handle verification based on what's provided and testing mode\r\n    if (email && !isEmailVerificationDisabled) {\r\n      // Email verification flow\r\n      const verificationToken = emailService.generateVerificationToken();\r\n      const expiresAt = new Date(Date.now() + 24 * 60 * 60 * 1000); // 24 hours\r\n\r\n      // Save verification token to database\r\n      await prisma.emailVerificationToken.create({\r\n        data: {\r\n          userId: user.id,\r\n          token: verificationToken,\r\n          expiresAt\r\n        }\r\n      });\r\n\r\n      // Send verification email\r\n      const emailResult = await emailService.sendVerificationEmail(\r\n        email,\r\n        `${firstName} ${lastName}`,\r\n        verificationToken\r\n      );\r\n\r\n      if (!emailResult.success) {\r\n        // If email fails, delete user and token for cleanup\r\n        await prisma.emailVerificationToken.delete({\r\n          where: { userId: user.id }\r\n        });\r\n        await prisma.user.delete({\r\n          where: { id: user.id }\r\n        });\r\n\r\n        return res.status(500).json({\r\n          error: 'Registration failed',\r\n          message: 'Failed to send verification email. Please try again later.',\r\n          messageBn: 'যাচাই ইমেল পাঠানো ব্যর্থ হয়েছে। অনুগ্রহ চেষ্টা করুন।'\r\n        });\r\n      }\r\n\r\n      res.status(201).json({\r\n        message: 'Registration successful. Please check your email to verify your account.',\r\n        messageBn: 'নিবন্ধন সফল। আপনার অ্যাকাউন্ট যাচাই করার জন্য ইমেল চেক করুন।',\r\n        user: {\r\n          id: user.id,\r\n          email: user.email,\r\n          firstName: user.firstName,\r\n          lastName: user.lastName,\r\n          role: user.role,\r\n          status: user.status\r\n        },\r\n        requiresEmailVerification: true\r\n      });\r\n\r\n    } else if (phoneValidation?.isValid && !isPhoneVerificationDisabled) {\r\n      // Phone verification flow\r\n      const otpResult = await otpService.generatePhoneOTP(phoneValidation.normalizedPhone, user.id);\r\n\r\n      if (!otpResult.success) {\r\n        // If OTP fails, delete user for cleanup\r\n        await prisma.user.delete({\r\n          where: { id: user.id }\r\n        });\r\n\r\n        return res.status(500).json({\r\n          error: 'Registration failed',\r\n          message: otpResult.error || 'Failed to send OTP. Please try again later.',\r\n          messageBn: otpResult.errorBn || 'OTP পাঠানো ব্যর্থ হয়েছে। অনুগ্রহ চেষ্টা করুন।'\r\n        });\r\n      }\r\n\r\n      res.status(201).json({\r\n        message: 'Registration successful. Please check your phone for OTP verification.',\r\n        messageBn: 'নিবন্ধন সফল। আপনার ফোনে OTP যাচাই করার জন্য চেক করুন।',\r\n        user: {\r\n          id: user.id,\r\n          phone: user.phone,\r\n          firstName: user.firstName,\r\n          lastName: user.lastName,\r\n          role: user.role,\r\n          status: user.status\r\n        },\r\n        requiresPhoneVerification: true,\r\n        phone: phoneValidation.normalizedPhone,\r\n        operator: phoneValidation.operator,\r\n        operatorDetails: phoneValidation.operatorDetails\r\n      });\r\n\r\n    } else {\r\n      // Skip verification - activate account immediately (testing mode or verification disabled)\r\n      const updatedUser = await prisma.user.update({\r\n        where: { id: user.id },\r\n        data: {\r\n          status: 'ACTIVE',\r\n          emailVerified: email ? new Date() : null,\r\n          phoneVerified: phoneValidation?.isValid ? new Date() : null\r\n        },\r\n        select: {\r\n          id: true,\r\n          email: true,\r\n          firstName: true,\r\n          lastName: true,\r\n          phone: true,\r\n          role: true,\r\n          status: true,\r\n          emailVerified: true,\r\n          phoneVerified: true\r\n        }\r\n      });\r\n\r\n      res.status(201).json({\r\n        message: isTestingMode\r\n          ? 'Registration successful in testing mode. Account is automatically activated.'\r\n          : 'Registration successful. Account is activated without verification.',\r\n        messageBn: isTestingMode\r\n          ? 'টেস্টিং মোডে নিবন্ধন সফল। অ্যাকাউন্ট স্বয়ংক্রিয় সক্রিয় করা হয়েছে।'\r\n          : 'নিবন্ধন সফল। যাচাই ছাড়া অ্যাকাউন্ট সক্রিয় করা হয়েছে।',\r\n        user: updatedUser,\r\n        testingMode: isTestingMode,\r\n        verificationSkipped: true\r\n      });\r\n    }\r\n\r\n  } catch (error) {\r\n    console.error('Registration error:', error);\r\n    res.status(500).json({\r\n      error: 'Registration failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'নিবন্ধন ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Login endpoint\r\nrouter.post('/login', [\r\n  body('identifier').notEmpty().trim(),\r\n  body('password').notEmpty().trim(),\r\n  body('rememberMe').optional().isBoolean()\r\n], handleValidationErrors, async (req, res) => {\r\n  const { identifier, password, rememberMe } = req.body;\r\n\r\n  try {\r\n\r\n    // Determine if identifier is email or phone\r\n    const isEmail = identifier.includes('@');\r\n    let user;\r\n    let loginType;\r\n\r\n    if (isEmail) {\r\n      // Validate email format\r\n      if (!emailService.validateEmail(identifier)) {\r\n        return res.status(400).json({\r\n          error: 'Invalid email format',\r\n          message: 'Please provide a valid email address',\r\n          messageBn: 'অনুগ্রহ ইমেল ঠিকানা দিন'\r\n        });\r\n      }\r\n      \r\n      // Find user by email\r\n      user = await prisma.user.findUnique({\r\n        where: { email: identifier }\r\n      });\r\n      loginType = 'email';\r\n    } else {\r\n      // Validate phone number\r\n      const phoneValidation = phoneValidationService.validateForUseCase(identifier, 'login');\r\n      if (!phoneValidation.isValid) {\r\n        return res.status(400).json({\r\n          error: 'Invalid phone format',\r\n          message: phoneValidation.error,\r\n          messageBn: phoneValidation.errorBn,\r\n          code: phoneValidation.code\r\n        });\r\n      }\r\n      \r\n      // Find user by phone\r\n      user = await prisma.user.findUnique({\r\n        where: { phone: phoneValidation.normalizedPhone }\r\n      });\r\n      loginType = 'phone';\r\n    }\r\n\r\n    if (!user || !user.password) {\r\n      return res.status(401).json({\r\n        error: 'Invalid credentials',\r\n        message: `Invalid ${loginType} or password`,\r\n        messageBn: loginType === 'email' ? 'অবৈধ ইমেল বা পাসওয়ার্ড' : 'অবৈধ ফোন বা পাসওয়ার্ড'\r\n      });\r\n    }\r\n\r\n    // Verify password\r\n    const isValidPassword = await bcrypt.compare(password, user.password);\r\n    if (!isValidPassword) {\r\n      return res.status(401).json({\r\n        error: 'Invalid credentials',\r\n        message: `Invalid ${loginType} or password`,\r\n        messageBn: loginType === 'email' ? 'অবৈধ ইমেল বা পাসওয়ার্ড' : 'অবৈধ ফোন বা পাসওয়ার্ড'\r\n      });\r\n    }\r\n\r\n    // Check if user is verified (skip if testing mode or verification disabled)\r\n    const isTestingMode = configService.isTestingMode();\r\n    const isEmailVerificationDisabled = configService.isEmailVerificationDisabled();\r\n    const isPhoneVerificationDisabled = configService.isPhoneVerificationDisabled();\r\n    \r\n    const requiresVerification =\r\n      (loginType === 'email' && !isEmailVerificationDisabled) ||\r\n      (loginType === 'phone' && !isPhoneVerificationDisabled);\r\n    \r\n    if (user.status === 'PENDING' && requiresVerification && !isTestingMode) {\r\n      const verificationMessage = loginType === 'email'\r\n        ? 'Please verify your email address before logging in'\r\n        : 'Please verify your phone number before logging in';\r\n      const verificationMessageBn = loginType === 'email'\r\n        ? 'লগিন করার আগে ইমেল যাচাই করুন'\r\n        : 'লগিন করার আগে ফোন নম্বর যাচাই করুন';\r\n      \r\n      return res.status(403).json({\r\n        error: 'Account not verified',\r\n        message: verificationMessage,\r\n        messageBn: verificationMessageBn,\r\n        requiresVerification: true,\r\n        verificationType: loginType\r\n      });\r\n    }\r\n    \r\n    // Auto-activate pending users in testing mode or when verification is disabled\r\n    if (user.status === 'PENDING' && (isTestingMode || !requiresVerification)) {\r\n      await prisma.user.update({\r\n        where: { id: user.id },\r\n        data: {\r\n          status: 'ACTIVE',\r\n          emailVerified: loginType === 'email' ? new Date() : user.emailVerified,\r\n          phoneVerified: loginType === 'phone' ? new Date() : user.phoneVerified\r\n        }\r\n      });\r\n      \r\n      // Refresh user data after update\r\n      user = await prisma.user.findUnique({\r\n        where: { id: user.id },\r\n        select: {\r\n          id: true,\r\n          email: true,\r\n          phone: true,\r\n          firstName: true,\r\n          lastName: true,\r\n          role: true,\r\n          status: true,\r\n          emailVerified: true,\r\n          phoneVerified: true\r\n        }\r\n      });\r\n    }\r\n\r\n    // Update last login\r\n    await prisma.user.update({\r\n      where: { id: user.id },\r\n      data: { lastLoginAt: new Date() }\r\n    });\r\n\r\n    // Create secure session instead of JWT token\r\n    const sessionResult = await sessionService.createSession(user.id, req, {\r\n      loginType,\r\n      rememberMe: rememberMe || false,\r\n      maxAge: rememberMe ? 7 * 24 * 60 * 60 * 1000 : 24 * 60 * 60 * 1000 // 7 days if remember me, 24 hours default\r\n    });\r\n\r\n    if (!sessionResult.sessionId) {\r\n      return res.status(500).json({\r\n        error: 'Login failed',\r\n        message: 'Unable to create session',\r\n        messageBn: 'লগিন ব্যর্থ হয়েছে'\r\n      });\r\n    }\r\n\r\n    // Set session cookie with remember me options\r\n    sessionMiddleware.setSessionCookie(res, sessionResult.sessionId, {\r\n      maxAge: sessionResult.maxAge,\r\n      rememberMe: rememberMe || false\r\n    });\r\n\r\n    // Add session headers\r\n    const sessionHeaders = sessionMiddleware.sessionHeaders(sessionResult);\r\n    Object.keys(sessionHeaders).forEach(key => {\r\n      res.set(key, sessionHeaders[key]);\r\n    });\r\n\r\n    // Generate JWT token for API compatibility (shorter expiry)\r\n    const jwtSecretLogin = process.env.JWT_SECRET;\r\n    if (!jwtSecretLogin) {\r\n      throw new Error('JWT_SECRET environment variable is required');\r\n    }\r\n    \r\n    const token = jwt.sign(\r\n      {\r\n        userId: user.id,\r\n        email: user.email,\r\n        phone: user.phone,\r\n        role: user.role,\r\n        sessionId: sessionResult.sessionId\r\n      },\r\n      jwtSecretLogin,\r\n      { expiresIn: '1h' } // Shorter expiry for JWT, session manages long-term auth\r\n    );\r\n\r\n    res.json({\r\n      message: 'Login successful',\r\n      messageBn: 'লগিন সফল',\r\n      user: {\r\n        id: user.id,\r\n        email: user.email,\r\n        phone: user.phone,\r\n        firstName: user.firstName,\r\n        lastName: user.lastName,\r\n        role: user.role,\r\n        status: user.status\r\n      },\r\n      token, // For API compatibility\r\n      sessionId: sessionResult.sessionId,\r\n      expiresAt: sessionResult.expiresAt,\r\n      maxAge: sessionResult.maxAge,\r\n      loginType,\r\n      rememberMe: rememberMe || false\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Login error:', error);\r\n    console.error('Login error details:', {\r\n      name: error.name,\r\n      message: error.message,\r\n      stack: error.stack\r\n    });\r\n    res.status(500).json({\r\n      error: 'Login failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'লগিন ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Logout endpoint\r\nrouter.post('/logout', [\r\n  body('allDevices').optional().isBoolean()\r\n], async (req, res) => {\r\n  try {\r\n    const { allDevices } = req.body;\r\n    const sessionId = sessionMiddleware.getSessionId(req);\r\n\r\n    if (!sessionId) {\r\n      return res.status(400).json({\r\n        error: 'No session found',\r\n        message: 'No active session to logout',\r\n        messageBn: 'লগআউট করার জন্য কোনো সেশন পাওয়া যায়নি'\r\n      });\r\n    }\r\n\r\n    // Validate session to get user ID\r\n    const validation = await sessionService.validateSession(sessionId, req);\r\n    \r\n    if (!validation.valid) {\r\n      // Clear session cookie anyway\r\n      sessionMiddleware.clearSessionCookie(res);\r\n      \r\n      return res.json({\r\n        message: 'Logout successful',\r\n        messageBn: 'লগআউট সফল',\r\n        sessionExpired: true\r\n      });\r\n    }\r\n\r\n    let result;\r\n    if (allDevices) {\r\n      // Destroy all sessions for this user\r\n      result = await sessionService.destroyAllUserSessions(validation.userId, sessionId);\r\n    } else {\r\n      // Destroy current session only\r\n      result = await sessionService.destroySession(sessionId, 'user_logout');\r\n    }\r\n\r\n    if (!result.success) {\r\n      return res.status(500).json({\r\n        error: 'Logout failed',\r\n        message: result.reason,\r\n        messageBn: 'লগআউট ব্যর্থ হয়েছে'\r\n      });\r\n    }\r\n\r\n    // Clear session cookie\r\n    sessionMiddleware.clearSessionCookie(res);\r\n\r\n    res.json({\r\n      message: 'Logout successful',\r\n      messageBn: 'লগআউট সফল',\r\n      allDevices: allDevices || false,\r\n      destroyedCount: allDevices ? result.destroyedCount : 1\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Logout error:', error);\r\n    res.status(500).json({\r\n      error: 'Logout failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'লগআউট ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Refresh token endpoint\r\nrouter.post('/refresh', async (req, res) => {\r\n  try {\r\n    const { token } = req.body;\r\n\r\n    if (!token) {\r\n      return res.status(401).json({\r\n        error: 'Token required',\r\n        messageBn: 'টোকেন প্রয়োজন'\r\n      });\r\n    }\r\n\r\n    // Verify token\r\n    const jwtSecretRefresh = process.env.JWT_SECRET;\r\n    if (!jwtSecretRefresh) {\r\n      throw new Error('JWT_SECRET environment variable is required');\r\n    }\r\n    \r\n    const decoded = jwt.verify(token, jwtSecretRefresh);\r\n    \r\n    // Get user info\r\n    const user = await prisma.user.findUnique({\r\n      where: { id: decoded.userId },\r\n      select: {\r\n        id: true,\r\n        email: true,\r\n        firstName: true,\r\n        lastName: true,\r\n        role: true,\r\n        status: true\r\n      }\r\n    });\r\n\r\n    if (!user) {\r\n      return res.status(401).json({\r\n        error: 'User not found',\r\n        messageBn: 'ব্যবহার্টার পাওয়া যায়নি'\r\n      });\r\n    }\r\n\r\n    // Generate new token\r\n    const jwtSecretNew = process.env.JWT_SECRET;\r\n    if (!jwtSecretNew) {\r\n      throw new Error('JWT_SECRET environment variable is required');\r\n    }\r\n    \r\n    const newToken = jwt.sign(\r\n      { userId: user.id, email: user.email, role: user.role },\r\n      jwtSecretNew,\r\n      { expiresIn: '7d' }\r\n    );\r\n\r\n    res.json({\r\n      message: 'Token refreshed successfully',\r\n      messageBn: 'টোকেন সফল হয়েছে',\r\n      user,\r\n      token: newToken\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Token refresh error:', error);\r\n    res.status(401).json({\r\n      error: 'Invalid token',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Token expired or invalid',\r\n      messageBn: 'টোকেন মেয়াদীপূর্ণ বা অবৈধ'\r\n    });\r\n  }\r\n});\r\n\r\n// Email verification endpoint\r\nrouter.post('/verify-email', [\r\n  body('token').notEmpty().trim()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { token } = req.body;\r\n\r\n    if (!token) {\r\n      return res.status(400).json({\r\n        error: 'Token required',\r\n        message: 'Verification token is required',\r\n        messageBn: 'যাচাই টোকেন প্রয়োজন'\r\n      });\r\n    }\r\n\r\n    // Find verification token\r\n    const verificationToken = await prisma.emailVerificationToken.findUnique({\r\n      where: { token },\r\n      include: {\r\n        user: true\r\n      }\r\n    });\r\n\r\n    if (!verificationToken) {\r\n      return res.status(400).json({\r\n        error: 'Invalid token',\r\n        message: 'Verification token is invalid or has been used',\r\n        messageBn: 'যাচাই টোকেন অবৈধ বা ব্যবহার হয়েছে'\r\n      });\r\n    }\r\n\r\n    // Check if token has expired\r\n    if (verificationToken.expiresAt < new Date()) {\r\n      // Delete expired token\r\n      await prisma.emailVerificationToken.delete({\r\n        where: { id: verificationToken.id }\r\n      });\r\n\r\n      return res.status(400).json({\r\n        error: 'Token expired',\r\n        message: 'Verification token has expired. Please request a new one.',\r\n        messageBn: 'যাচাই টোকেন মেয়াদীপূর্ণ হয়েছে। নতুন একটি অনুরোধ করুন।'\r\n      });\r\n    }\r\n\r\n    // Check if user is already verified\r\n    if (verificationToken.user.emailVerified) {\r\n      return res.status(400).json({\r\n        error: 'Already verified',\r\n        message: 'Email has already been verified',\r\n        messageBn: 'ইমেল আগেই যাচাই হয়েছে'\r\n      });\r\n    }\r\n\r\n    // Update user status and email verification timestamp\r\n    const updatedUser = await prisma.user.update({\r\n      where: { id: verificationToken.userId },\r\n      data: {\r\n        status: 'ACTIVE',\r\n        emailVerified: new Date()\r\n      },\r\n      select: {\r\n        id: true,\r\n        email: true,\r\n        firstName: true,\r\n        lastName: true,\r\n        role: true,\r\n        status: true,\r\n        emailVerified: true\r\n      }\r\n    });\r\n\r\n    // Delete verification token\r\n    await prisma.emailVerificationToken.delete({\r\n      where: { id: verificationToken.id }\r\n    });\r\n\r\n    // Send welcome email\r\n    await emailService.sendWelcomeEmail(\r\n      verificationToken.user.email,\r\n      `${verificationToken.user.firstName} ${verificationToken.user.lastName}`\r\n    );\r\n\r\n    res.json({\r\n      message: 'Email verified successfully',\r\n      messageBn: 'ইমেল সফল যাচাই হয়েছে',\r\n      user: updatedUser\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Email verification error:', error);\r\n    res.status(500).json({\r\n      error: 'Verification failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'যাচাই ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Resend verification email endpoint\r\nrouter.post('/resend-verification', [\r\n  body('email').isEmail().normalizeEmail()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { email } = req.body;\r\n\r\n    // Find user\r\n    const user = await prisma.user.findUnique({\r\n      where: { email },\r\n      include: {\r\n        emailVerificationTokens: {\r\n          where: {\r\n            expiresAt: {\r\n              gt: new Date()\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    if (!user) {\r\n      return res.status(404).json({\r\n        error: 'User not found',\r\n        message: 'No account found with this email address',\r\n        messageBn: 'এই ইমেল ঠিকানা কোনো ব্যবহার্টার পাওয়া যায়নি'\r\n      });\r\n    }\r\n\r\n    // Check if email is already verified\r\n    if (user.emailVerified) {\r\n      return res.status(400).json({\r\n        error: 'Already verified',\r\n        message: 'Email has already been verified',\r\n        messageBn: 'ইমেল আগেই যাচাই হয়েছে'\r\n      });\r\n    }\r\n\r\n    // Check if there's already a recent verification token (within 5 minutes)\r\n    const recentToken = user.emailVerificationTokens[0];\r\n    if (recentToken && (Date.now() - recentToken.createdAt.getTime()) < 5 * 60 * 1000) {\r\n      return res.status(429).json({\r\n        error: 'Too many requests',\r\n        message: 'Please wait before requesting another verification email',\r\n        messageBn: 'অন্য যাচাই ইমেল অনুরোধ করার জন্য অপেক্ষা করুন'\r\n      });\r\n    }\r\n\r\n    // Delete any existing tokens for this user\r\n    await prisma.emailVerificationToken.deleteMany({\r\n      where: { userId: user.id }\r\n    });\r\n\r\n    // Generate new verification token\r\n    const verificationToken = emailService.generateVerificationToken();\r\n    const expiresAt = new Date(Date.now() + 24 * 60 * 60 * 1000); // 24 hours\r\n\r\n    // Save new verification token\r\n    await prisma.emailVerificationToken.create({\r\n      data: {\r\n        userId: user.id,\r\n        token: verificationToken,\r\n        expiresAt\r\n      }\r\n    });\r\n\r\n    // Send verification email\r\n    const emailResult = await emailService.sendVerificationEmail(\r\n      email,\r\n      `${user.firstName} ${user.lastName}`,\r\n      verificationToken\r\n    );\r\n\r\n    if (!emailResult.success) {\r\n      return res.status(500).json({\r\n        error: 'Failed to send email',\r\n        message: 'Unable to send verification email. Please try again later.',\r\n        messageBn: 'যাচাই ইমেল পাঠানো ব্যর্থ হয়েছে। অনুগ্রহ চেষ্টা করুন।'\r\n      });\r\n    }\r\n\r\n    res.json({\r\n      message: 'Verification email sent successfully',\r\n      messageBn: 'যাচাই ইমেল সফল পাঠানো হয়েছে',\r\n      email: email\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Resend verification error:', error);\r\n    res.status(500).json({\r\n      error: 'Failed to resend verification',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'যাচাই পুনরায়া পাঠানো ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Send OTP endpoint\r\nrouter.post('/send-otp', [\r\n  body('phone').notEmpty().trim()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { phone } = req.body;\r\n\r\n    // Validate phone number with enhanced service\r\n    const phoneValidation = phoneValidationService.validateForUseCase(phone, 'otp');\r\n    if (!phoneValidation.isValid) {\r\n      return res.status(400).json({\r\n        error: 'Invalid phone format',\r\n        message: phoneValidation.error,\r\n        messageBn: phoneValidation.errorBn,\r\n        code: phoneValidation.code\r\n      });\r\n    }\r\n\r\n    const normalizedPhone = phoneValidation.normalizedPhone;\r\n\r\n    // Check if phone is already verified\r\n    const isVerified = await otpService.isPhoneVerified(normalizedPhone);\r\n    if (isVerified) {\r\n      return res.status(400).json({\r\n        error: 'Phone already verified',\r\n        message: 'This phone number is already registered and verified',\r\n        messageBn: 'এই ফোন নম্বর আগেই নিবন্ধন ও যাচাই হয়েছে'\r\n      });\r\n    }\r\n\r\n    // Generate and send OTP\r\n    const otpResult = await otpService.generatePhoneOTP(normalizedPhone);\r\n\r\n    if (!otpResult.success) {\r\n      return res.status(400).json({\r\n        error: 'Failed to send OTP',\r\n        message: otpResult.error,\r\n        messageBn: otpResult.errorBn,\r\n        code: otpResult.code\r\n      });\r\n    }\r\n\r\n    res.json({\r\n      message: 'OTP sent successfully',\r\n      messageBn: 'OTP সফল পাঠানো হয়েছে',\r\n      phone: normalizedPhone,\r\n      operator: otpResult.operator,\r\n      operatorDetails: otpResult.operatorDetails,\r\n      expiresAt: otpResult.expiresAt,\r\n      mock: otpResult.mock || false\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Send OTP error:', error);\r\n    res.status(500).json({\r\n      error: 'Failed to send OTP',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'OTP পাঠানো ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Verify OTP endpoint\r\nrouter.post('/verify-otp', [\r\n  body('phone').notEmpty().trim(),\r\n  body('otp').notEmpty().trim().isLength({ min: 6, max: 6 })\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { phone, otp } = req.body;\r\n\r\n    // Validate phone number with enhanced service\r\n    const phoneValidation = phoneValidationService.validateForUseCase(phone, 'otp');\r\n    if (!phoneValidation.isValid) {\r\n      return res.status(400).json({\r\n        error: 'Invalid phone format',\r\n        message: phoneValidation.error,\r\n        messageBn: phoneValidation.errorBn,\r\n        code: phoneValidation.code\r\n      });\r\n    }\r\n\r\n    const normalizedPhone = phoneValidation.normalizedPhone;\r\n\r\n    // Verify OTP\r\n    const verifyResult = await otpService.verifyPhoneOTP(normalizedPhone, otp);\r\n\r\n    if (!verifyResult.success) {\r\n      return res.status(400).json({\r\n        error: 'OTP verification failed',\r\n        message: verifyResult.error,\r\n        messageBn: verifyResult.errorBn,\r\n        code: verifyResult.code\r\n      });\r\n    }\r\n\r\n    // If OTP was for registration, find and update user\r\n    if (verifyResult.userId) {\r\n      const user = await prisma.user.findUnique({\r\n        where: { id: verifyResult.userId },\r\n        select: {\r\n          id: true,\r\n          email: true,\r\n          firstName: true,\r\n          lastName: true,\r\n          phone: true,\r\n          role: true,\r\n          status: true,\r\n          phoneVerified: true\r\n        }\r\n      });\r\n\r\n      if (user) {\r\n        return res.json({\r\n          message: 'Phone verified successfully. Account is now active.',\r\n          messageBn: 'ফোন সফল যাচাই হয়েছে। অ্যাকাউন্ট এখন সক্রিয়।',\r\n          user,\r\n          verifiedAt: verifyResult.verifiedAt\r\n        });\r\n      }\r\n    }\r\n\r\n    res.json({\r\n      message: 'OTP verified successfully',\r\n      messageBn: 'OTP সফল যাচাই হয়েছে',\r\n      phone: normalizedPhone,\r\n      verifiedAt: verifyResult.verifiedAt\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Verify OTP error:', error);\r\n    res.status(500).json({\r\n      error: 'OTP verification failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'OTP যাচাই ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Resend OTP endpoint\r\nrouter.post('/resend-otp', [\r\n  body('phone').notEmpty().trim()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { phone } = req.body;\r\n\r\n    // Validate phone number with enhanced service\r\n    const phoneValidation = phoneValidationService.validateForUseCase(phone, 'otp');\r\n    if (!phoneValidation.isValid) {\r\n      return res.status(400).json({\r\n        error: 'Invalid phone format',\r\n        message: phoneValidation.error,\r\n        messageBn: phoneValidation.errorBn,\r\n        code: phoneValidation.code\r\n      });\r\n    }\r\n\r\n    const normalizedPhone = phoneValidation.normalizedPhone;\r\n\r\n    // Resend OTP\r\n    const resendResult = await otpService.resendPhoneOTP(normalizedPhone);\r\n\r\n    if (!resendResult.success) {\r\n      return res.status(400).json({\r\n        error: 'Failed to resend OTP',\r\n        message: resendResult.error,\r\n        messageBn: resendResult.errorBn,\r\n        code: resendResult.code,\r\n        waitTime: resendResult.waitTime\r\n      });\r\n    }\r\n\r\n    res.json({\r\n      message: 'OTP resent successfully',\r\n      messageBn: 'OTP পুনরায়া পাঠানো হয়েছে',\r\n      phone: normalizedPhone,\r\n      operator: resendResult.operator,\r\n      operatorDetails: resendResult.operatorDetails,\r\n      expiresAt: resendResult.expiresAt,\r\n      mock: resendResult.mock || false\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Resend OTP error:', error);\r\n    res.status(500).json({\r\n      error: 'Failed to resend OTP',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'OTP পুনরায়া ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Change password endpoint\r\nrouter.post('/change-password', [\r\n  authMiddleware.authenticate(),\r\n  body('currentPassword').notEmpty().trim(),\r\n  body('newPassword').isLength({ min: 8, max: 128 }),\r\n  body('confirmPassword').notEmpty().trim()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { currentPassword, newPassword, confirmPassword } = req.body;\r\n    const userId = req.user.id;\r\n\r\n    // Check if new passwords match\r\n    if (newPassword !== confirmPassword) {\r\n      return res.status(400).json({\r\n        error: 'Passwords do not match',\r\n        message: 'New password and confirmation password must be same',\r\n        messageBn: 'নতুন পাসওয়ার্ড একই হবি হতে হবে'\r\n      });\r\n    }\r\n\r\n    // Get user with current password\r\n    const user = await prisma.user.findUnique({\r\n      where: { id: userId },\r\n      select: {\r\n        id: true,\r\n        email: true,\r\n        firstName: true,\r\n        lastName: true,\r\n        phone: true,\r\n        password: true\r\n      }\r\n    });\r\n\r\n    if (!user) {\r\n      return res.status(404).json({\r\n        error: 'User not found',\r\n        message: 'User account not found',\r\n        messageBn: 'ব্যবহার্টার পাওয়া যায়নি'\r\n      });\r\n    }\r\n\r\n    // Verify current password\r\n    const isCurrentPasswordValid = await passwordService.verifyPassword(currentPassword, user.password);\r\n    if (!isCurrentPasswordValid) {\r\n      return res.status(401).json({\r\n        error: 'Invalid current password',\r\n        message: 'The current password you entered is incorrect',\r\n        messageBn: 'আপনি যে পাসওয়ার্ড দিয়েছেন সেটা ভুল'\r\n      });\r\n    }\r\n\r\n    // Check if new password is same as current password\r\n    const isSameAsCurrent = await passwordService.verifyPassword(newPassword, user.password);\r\n    if (isSameAsCurrent) {\r\n      return res.status(400).json({\r\n        error: 'Same password',\r\n        message: 'New password must be different from current password',\r\n        messageBn: 'নতুন পাসওয়ার্ড বর্তমান পাসওয়ার্ড থেকে হতে হবে'\r\n      });\r\n    }\r\n\r\n    // Validate new password strength\r\n    const userInfo = {\r\n      firstName: user.firstName,\r\n      lastName: user.lastName,\r\n      email: user.email,\r\n      phone: user.phone\r\n    };\r\n    const passwordValidation = passwordService.validatePasswordStrength(newPassword, userInfo);\r\n    \r\n    if (!passwordValidation.isValid) {\r\n      return res.status(400).json({\r\n        error: 'Password does not meet requirements',\r\n        message: 'New password is too weak or does not meet security requirements',\r\n        messageBn: 'নতুন পাসওয়ার্ড খুবই বা নিরাপত্তিগিয় পূর্ব',\r\n        details: {\r\n          strength: passwordValidation.strength,\r\n          score: passwordValidation.score,\r\n          feedback: passwordValidation.feedback,\r\n          warnings: passwordValidation.warnings,\r\n          suggestions: passwordValidation.suggestions,\r\n          passwordPolicy: passwordService.getPasswordPolicy()\r\n        }\r\n      });\r\n    }\r\n\r\n    // Check if password has been used before\r\n    const isPasswordReused = await passwordService.isPasswordReused(userId, newPassword);\r\n    if (isPasswordReused) {\r\n      return res.status(400).json({\r\n        error: 'Password already used',\r\n        message: 'You cannot reuse a password that has been used in the last 5 changes',\r\n        messageBn: 'আপনি শেষ 5টি পাসওয়ার্ড পরিবর্তন ব্যবহার করা পাসওয়ার্ড ব্যবহার করতে পারেন'\r\n      });\r\n    }\r\n\r\n    // Hash new password\r\n    const hashedNewPassword = await passwordService.hashPassword(newPassword);\r\n\r\n    // Update user password\r\n    await prisma.user.update({\r\n      where: { id: userId },\r\n      data: { password: hashedNewPassword }\r\n    });\r\n\r\n    // Save new password to history\r\n    await passwordService.savePasswordToHistory(userId, hashedNewPassword);\r\n\r\n    // Log password change (you might want to add proper logging here)\r\n    console.log(`Password changed for user ${userId} at ${new Date().toISOString()}`);\r\n\r\n    res.json({\r\n      message: 'Password changed successfully',\r\n      messageBn: 'পাসওয়ার্ড সফল হয়েছে',\r\n      timestamp: new Date().toISOString()\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Change password error:', error);\r\n    res.status(500).json({\r\n      error: 'Password change failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'পাসওয়ার্ড পরিবর্তন ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Request password reset endpoint\r\nrouter.post('/forgot-password', [\r\n  body('email').isEmail().normalizeEmail()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { email } = req.body;\r\n\r\n    // Find user\r\n    const user = await prisma.user.findUnique({\r\n      where: { email }\r\n    });\r\n\r\n    if (!user) {\r\n      // Don't reveal if user exists or not for security\r\n      return res.json({\r\n        message: 'If an account with that email exists, a password reset link has been sent',\r\n        messageBn: 'যদি এই ইমেল ঠিকানা কোনো অ্যাকাউন্ট থাকলে, একটি পাসওয়ার্ড রিসেট লিঙ্ক পাঠানো হয়েছে'\r\n      });\r\n    }\r\n\r\n    // Generate reset token (you might want to use a separate token service)\r\n    const resetToken = emailService.generateVerificationToken();\r\n    const expiresAt = new Date(Date.now() + 1 * 60 * 60 * 1000); // 1 hour\r\n\r\n    // Save reset token (using email verification token table for simplicity)\r\n    await prisma.emailVerificationToken.create({\r\n      data: {\r\n        userId: user.id,\r\n        token: resetToken,\r\n        expiresAt\r\n      }\r\n    });\r\n\r\n    // Generate temporary strong password\r\n    const temporaryPassword = passwordService.generateStrongPassword(12);\r\n    const hashedTempPassword = await passwordService.hashPassword(temporaryPassword);\r\n\r\n    // Update user with temporary password\r\n    await prisma.user.update({\r\n      where: { id: user.id },\r\n      data: { password: hashedTempPassword }\r\n    });\r\n\r\n    // Save temporary password to history\r\n    await passwordService.savePasswordToHistory(user.id, hashedTempPassword);\r\n\r\n    // Send reset email with temporary password\r\n    const emailResult = await emailService.sendPasswordResetEmail(\r\n      email,\r\n      `${user.firstName} ${user.lastName}`,\r\n      temporaryPassword,\r\n      resetToken\r\n    );\r\n\r\n    if (!emailResult.success) {\r\n      return res.status(500).json({\r\n        error: 'Failed to send reset email',\r\n        message: 'Unable to send password reset email. Please try again later.',\r\n        messageBn: 'পাসওয়ার্ড রিসেট ইমেল পাঠানো ব্যর্থ হয়েছে। অনুগ্রহ চেষ্টা করুন।'\r\n      });\r\n    }\r\n\r\n    res.json({\r\n      message: 'Password reset email sent successfully',\r\n      messageBn: 'পাসওয়ার্ড রিসেট ইমেল সফল পাঠানো হয়েছে',\r\n      email: email\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Forgot password error:', error);\r\n    res.status(500).json({\r\n      error: 'Password reset failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'পাসওয়ার্ড রিসেট ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Reset password endpoint (with token)\r\nrouter.post('/reset-password', [\r\n  body('token').notEmpty().trim(),\r\n  body('newPassword').isLength({ min: 8, max: 128 }),\r\n  body('confirmPassword').notEmpty().trim()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { token, newPassword, confirmPassword } = req.body;\r\n\r\n    // Check if new passwords match\r\n    if (newPassword !== confirmPassword) {\r\n      return res.status(400).json({\r\n        error: 'Passwords do not match',\r\n        message: 'New password and confirmation password must be same',\r\n        messageBn: 'নতুন পাসওয়ার্ড একই হবি হতে হবে'\r\n      });\r\n    }\r\n\r\n    // Find reset token\r\n    const resetToken = await prisma.emailVerificationToken.findUnique({\r\n      where: { token },\r\n      include: {\r\n        user: true\r\n      }\r\n    });\r\n\r\n    if (!resetToken) {\r\n      return res.status(400).json({\r\n        error: 'Invalid token',\r\n        message: 'Password reset token is invalid or has been used',\r\n        messageBn: 'পাসওয়ার্ড রিসেট টোকেন অবৈধ বা ব্যবহার হয়েছে'\r\n      });\r\n    }\r\n\r\n    // Check if token has expired\r\n    if (resetToken.expiresAt < new Date()) {\r\n      // Delete expired token\r\n      await prisma.emailVerificationToken.delete({\r\n        where: { id: resetToken.id }\r\n      });\r\n\r\n      return res.status(400).json({\r\n        error: 'Token expired',\r\n        message: 'Password reset token has expired. Please request a new one.',\r\n        messageBn: 'পাসওয়ার্ড রিসেট টোকেন মেয়াদীপূর্ণ হয়েছে। নতুন একটি অনুরোধ করুন।'\r\n      });\r\n    }\r\n\r\n    // Validate new password strength\r\n    const userInfo = {\r\n      firstName: resetToken.user.firstName,\r\n      lastName: resetToken.user.lastName,\r\n      email: resetToken.user.email,\r\n      phone: resetToken.user.phone\r\n    };\r\n    const passwordValidation = passwordService.validatePasswordStrength(newPassword, userInfo);\r\n    \r\n    if (!passwordValidation.isValid) {\r\n      return res.status(400).json({\r\n        error: 'Password does not meet requirements',\r\n        message: 'New password is too weak or does not meet security requirements',\r\n        messageBn: 'নতুন পাসওয়ার্ড খুবই বা নিরাপত্তিগিয় পূর্ব',\r\n        details: {\r\n          strength: passwordValidation.strength,\r\n          score: passwordValidation.score,\r\n          feedback: passwordValidation.feedback,\r\n          warnings: passwordValidation.warnings,\r\n          suggestions: passwordValidation.suggestions,\r\n          passwordPolicy: passwordService.getPasswordPolicy()\r\n        }\r\n      });\r\n    }\r\n\r\n    // Check if password has been used before\r\n    const isPasswordReused = await passwordService.isPasswordReused(resetToken.userId, newPassword);\r\n    if (isPasswordReused) {\r\n      return res.status(400).json({\r\n        error: 'Password already used',\r\n        message: 'You cannot reuse a password that has been used in the last 5 changes',\r\n        messageBn: 'আপনি শেষ 5টি পাসওয়ার্ড পরিবর্তন ব্যবহার করা পাসওয়ার্ড ব্যবহার করতে পারেন'\r\n      });\r\n    }\r\n\r\n    // Hash new password\r\n    const hashedNewPassword = await passwordService.hashPassword(newPassword);\r\n\r\n    // Update user password\r\n    await prisma.user.update({\r\n      where: { id: resetToken.userId },\r\n      data: { password: hashedNewPassword }\r\n    });\r\n\r\n    // Save new password to history\r\n    await passwordService.savePasswordToHistory(resetToken.userId, hashedNewPassword);\r\n\r\n    // Delete reset token\r\n    await prisma.emailVerificationToken.delete({\r\n      where: { id: resetToken.id }\r\n    });\r\n\r\n    // Update user status to active if pending\r\n    if (resetToken.user.status === 'PENDING') {\r\n      await prisma.user.update({\r\n        where: { id: resetToken.userId },\r\n        data: { status: 'ACTIVE' }\r\n      });\r\n    }\r\n\r\n    // Log password reset\r\n    console.log(`Password reset for user ${resetToken.userId} at ${new Date().toISOString()}`);\r\n\r\n    res.json({\r\n      message: 'Password reset successfully',\r\n      messageBn: 'পাসওয়ার্ড সফল হয়েছে',\r\n      timestamp: new Date().toISOString()\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Reset password error:', error);\r\n    res.status(500).json({\r\n      error: 'Password reset failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'পাসওয়ার্ড রিসেট ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Get password policy endpoint\r\nrouter.get('/password-policy', async (req, res) => {\r\n  try {\r\n    const policy = passwordService.getPasswordPolicy();\r\n    \r\n    res.json({\r\n      policy,\r\n      message: 'Current password policy requirements',\r\n      messageBn: 'বর্তমান পাসওয়ার্ড নীতিমালা'\r\n    });\r\n  } catch (error) {\r\n    console.error('Get password policy error:', error);\r\n    res.status(500).json({\r\n      error: 'Failed to get password policy',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'পাসওয়ার্ড নীতিমালা পাওতে ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Get phone validation info endpoint\r\nrouter.post('/validate-phone', [\r\n  body('phone').notEmpty().trim()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { phone } = req.body;\r\n\r\n    const validation = phoneValidationService.validateBangladeshPhoneNumber(phone);\r\n\r\n    res.json({\r\n      validation,\r\n      message: validation.isValid ? 'Valid phone number' : 'Invalid phone number',\r\n      messageBn: validation.isValid ? 'বৈধ ফোন নম্বর' : 'অবৈধ ফোন নম্বর'\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Phone validation error:', error);\r\n    res.status(500).json({\r\n      error: 'Validation failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'যাচাই ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Get supported operators endpoint\r\nrouter.get('/operators', async (req, res) => {\r\n  try {\r\n    const operators = phoneValidationService.getSupportedOperators();\r\n\r\n    res.json({\r\n      operators,\r\n      message: 'Supported mobile operators',\r\n      messageBn: 'সমর্থিত মোবাইল অপারেটর'\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Get operators error:', error);\r\n    res.status(500).json({\r\n      error: 'Failed to get operators',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'অপারেটর পাওতে ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Remember me token validation endpoint\r\nrouter.post('/validate-remember-me', [\r\n  body('token').notEmpty().trim()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { token } = req.body;\r\n\r\n    if (!token) {\r\n      return res.status(400).json({\r\n        error: 'Token required',\r\n        message: 'Remember me token is required',\r\n        messageBn: 'রিমেম্বার মি টোকেন প্রয়োজন'\r\n      });\r\n    }\r\n\r\n    // Validate remember me token\r\n    const validation = await sessionService.validateRememberMeToken(token);\r\n    \r\n    if (!validation.valid) {\r\n      return res.status(400).json({\r\n        error: 'Invalid token',\r\n        message: validation.reason || 'Remember me token is invalid or expired',\r\n        messageBn: validation.reason || 'রিমেম্বার মি টোকেন অবৈধ বা মেয়াদীপূর্ণ'\r\n      });\r\n    }\r\n\r\n    // Get user details\r\n    const user = await prisma.user.findUnique({\r\n      where: { id: validation.userId },\r\n      select: {\r\n        id: true,\r\n        email: true,\r\n        firstName: true,\r\n        lastName: true,\r\n        phone: true,\r\n        role: true,\r\n        status: true\r\n      }\r\n    });\r\n\r\n    if (!user) {\r\n      return res.status(404).json({\r\n        error: 'User not found',\r\n        message: 'User account not found',\r\n        messageBn: 'ব্যবহার্টার পাওয়া যায়নি'\r\n      });\r\n    }\r\n\r\n    res.json({\r\n      message: 'Remember me token is valid',\r\n      messageBn: 'রিমেম্বার মি টোকেন বৈধ',\r\n      user,\r\n      tokenValid: true,\r\n      createdAt: validation.createdAt\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Remember me token validation error:', error);\r\n    res.status(500).json({\r\n      error: 'Validation failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'যাচাই ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Refresh session using remember me token\r\nrouter.post('/refresh-from-remember-me', [\r\n  body('token').notEmpty().trim()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { token } = req.body;\r\n\r\n    if (!token) {\r\n      return res.status(400).json({\r\n        error: 'Token required',\r\n        message: 'Remember me token is required',\r\n        messageBn: 'রিমেম্বার মি টোকেন প্রয়োজন'\r\n      });\r\n    }\r\n\r\n    // Refresh session using remember me token\r\n    const refreshResult = await sessionService.refreshFromRememberMeToken(token, req);\r\n    \r\n    if (!refreshResult.success) {\r\n      return res.status(400).json({\r\n        error: 'Session refresh failed',\r\n        message: refreshResult.reason || 'Failed to refresh session from remember me token',\r\n        messageBn: refreshResult.reason || 'রিমেম্বার মি টোকেন থেকে সেশন রিফ্রেশ ব্যর্থ হয়েছে'\r\n      });\r\n    }\r\n\r\n    // Get user details\r\n    const user = await prisma.user.findUnique({\r\n      where: { id: refreshResult.userId },\r\n      select: {\r\n        id: true,\r\n        email: true,\r\n        firstName: true,\r\n        lastName: true,\r\n        phone: true,\r\n        role: true,\r\n        status: true\r\n      }\r\n    });\r\n\r\n    if (!user) {\r\n      return res.status(404).json({\r\n        error: 'User not found',\r\n        message: 'User account not found',\r\n        messageBn: 'ব্যবহার্টার পাওয়া যায়নি'\r\n      });\r\n    }\r\n\r\n    // Set session cookie\r\n    sessionMiddleware.setSessionCookie(res, refreshResult.sessionId, {\r\n      maxAge: refreshResult.maxAge,\r\n      rememberMe: true\r\n    });\r\n\r\n    // Add session headers\r\n    const sessionHeaders = sessionMiddleware.sessionHeaders(refreshResult);\r\n    Object.keys(sessionHeaders).forEach(key => {\r\n      res.set(key, sessionHeaders[key]);\r\n    });\r\n\r\n    // Generate JWT token for API compatibility\r\n    const jwtSecretLogin = process.env.JWT_SECRET;\r\n    if (!jwtSecretLogin) {\r\n      throw new Error('JWT_SECRET environment variable is required');\r\n    }\r\n    \r\n    const jwtToken = jwt.sign(\r\n      {\r\n        userId: user.id,\r\n        email: user.email,\r\n        phone: user.phone,\r\n        role: user.role,\r\n        sessionId: refreshResult.sessionId\r\n      },\r\n      jwtSecretLogin,\r\n      { expiresIn: '1h' }\r\n    );\r\n\r\n    res.json({\r\n      message: 'Session refreshed successfully',\r\n      messageBn: 'সেশন সফল হয়েছে',\r\n      user,\r\n      token: jwtToken,\r\n      sessionId: refreshResult.sessionId,\r\n      expiresAt: refreshResult.expiresAt,\r\n      maxAge: refreshResult.maxAge,\r\n      rememberMe: true,\r\n      refreshedFrom: 'remember_me_token'\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Remember me session refresh error:', error);\r\n    res.status(500).json({\r\n      error: 'Session refresh failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'সেশন রিফ্রেশ ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Disable remember me functionality\r\nrouter.post('/disable-remember-me', [\r\n  authMiddleware.authenticate(),\r\n  body('allDevices').optional().isBoolean()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { allDevices } = req.body;\r\n    const userId = req.user.id;\r\n    const currentSessionId = req.sessionId;\r\n\r\n    if (allDevices) {\r\n      // Destroy all remember me sessions for this user\r\n      const result = await sessionService.destroyAllUserSessions(userId, currentSessionId);\r\n      \r\n      // Clear remember me cookies\r\n      res.clearCookie('rememberMe');\r\n      res.clearCookie('rememberMeEnabled');\r\n\r\n      res.json({\r\n        message: 'Remember me disabled on all devices',\r\n        messageBn: 'সব ডিভাইসে রিমেম্বার মি নিষ্ক্রিয় করা হয়েছে',\r\n        allDevices: true,\r\n        destroyedCount: result.destroyedCount\r\n      });\r\n    } else {\r\n      // Destroy current session only\r\n      const result = await sessionService.destroySession(currentSessionId, 'disable_remember_me');\r\n      \r\n      // Clear remember me cookies\r\n      res.clearCookie('rememberMe');\r\n      res.clearCookie('rememberMeEnabled');\r\n\r\n      res.json({\r\n        message: 'Remember me disabled on current device',\r\n        messageBn: 'বর্তমান ডিভাইসে রিমেম্বার মি নিষ্ক্রিয় করা হয়েছে',\r\n        allDevices: false,\r\n        destroyedCount: 1\r\n      });\r\n    }\r\n\r\n  } catch (error) {\r\n    console.error('Disable remember me error:', error);\r\n    res.status(500).json({\r\n      error: 'Failed to disable remember me',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'রিমেম্বার মি নিষ্ক্রিয় করতে ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\nmodule.exports = router;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}