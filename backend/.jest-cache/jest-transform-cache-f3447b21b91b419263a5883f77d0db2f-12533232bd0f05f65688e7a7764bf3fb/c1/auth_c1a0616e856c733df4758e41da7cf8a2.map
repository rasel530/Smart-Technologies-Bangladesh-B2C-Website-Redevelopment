{"version":3,"names":["cov_wmf6zey3v","actualCoverage","express","s","require","body","validationResult","bcrypt","jwt","PrismaClient","emailService","smsService","otpService","authMiddleware","sessionMiddleware","sessionService","passwordService","phoneValidationService","configService","loggerService","loginSecurityService","loginSecurityMiddleware","router","Router","prisma","handleValidationErrors","req","res","next","f","errors","isEmpty","b","status","json","error","details","array","post","optional","isEmail","normalizeEmail","isLength","min","max","notEmpty","trim","email","password","firstName","lastName","fname","lname","phone","phoneNumber","confirmPassword","finalFirstName","finalLastName","finalPhone","message","messageBn","userInfo","passwordValidation","validatePasswordStrength","isValid","strength","score","feedback","warnings","suggestions","passwordPolicy","getPasswordPolicy","validateEmail","isDisposableEmail","phoneValidation","validateForUseCase","errorBn","code","existingUser","user","findFirst","where","OR","normalizedPhone","field","hashedPassword","hashPassword","create","data","role","select","id","createdAt","savePasswordToHistory","isTestingMode","isEmailVerificationDisabled","isPhoneVerificationDisabled","verificationToken","generateVerificationToken","expiresAt","Date","now","emailVerificationToken","userId","token","emailResult","sendVerificationEmail","success","delete","requiresEmailVerification","otpResult","generatePhoneOTP","requiresPhoneVerification","operator","operatorDetails","updatedUser","update","emailVerified","phoneVerified","testingMode","verificationSkipped","console","process","env","NODE_ENV","isBoolean","isString","enforce","identifier","rememberMe","captcha","deviceFingerprint","includes","loginType","findUnique","isValidPassword","compare","requiresVerification","verificationMessage","verificationMessageBn","verificationType","lastLoginAt","sessionResult","createSession","maxAge","sessionId","setSessionCookie","sessionHeaders","Object","keys","forEach","key","set","jwtSecretLogin","JWT_SECRET","Error","sign","expiresIn","JWT_EXPIRES_IN","recordSuccessfulLogin","securityContext","name","stack","authError","recordFailedLogin","validateCaptcha","ip","allDevices","getSessionId","validation","validateSession","valid","clearSessionCookie","sessionExpired","result","destroyAllUserSessions","destroySession","reason","destroyedCount","jwtSecretRefresh","decoded","verify","jwtSecretNew","newToken","include","sendWelcomeEmail","emailVerificationTokens","gt","recentToken","getTime","deleteMany","isVerified","isPhoneVerified","mock","otp","verifyResult","verifyPhoneOTP","verifiedAt","resendResult","resendPhoneOTP","waitTime","authenticate","currentPassword","newPassword","isCurrentPasswordValid","verifyPassword","isSameAsCurrent","isPasswordReused","hashedNewPassword","log","toISOString","timestamp","resetToken","temporaryPassword","generateStrongPassword","hashedTempPassword","sendPasswordResetEmail","get","policy","validateBangladeshPhoneNumber","operators","getSupportedOperators","validateRememberMeToken","tokenValid","refreshResult","refreshFromRememberMeToken","jwtToken","refreshedFrom","currentSessionId","clearCookie","module","exports"],"sources":["auth.js"],"sourcesContent":["const express = require('express');\r\nconst { body, validationResult } = require('express-validator');\r\nconst bcrypt = require('bcryptjs');\r\nconst jwt = require('jsonwebtoken');\r\nconst { PrismaClient } = require('@prisma/client');\r\nconst { emailService } = require('../services/emailService');\r\nconst { smsService } = require('../services/smsService');\r\nconst { otpService } = require('../services/otpService');\r\nconst { authMiddleware } = require('../middleware/auth');\r\nconst { sessionMiddleware } = require('../middleware/session');\r\nconst { sessionService } = require('../services/sessionService');\r\nconst { passwordService } = require('../services/passwordService');\r\nconst { phoneValidationService } = require('../services/phoneValidationService');\r\nconst { configService } = require('../services/config');\r\nconst { loggerService } = require('../services/logger');\r\nconst { loginSecurityService } = require('../services/loginSecurityService');\r\nconst { loginSecurityMiddleware } = require('../middleware/loginSecurity');\r\n\r\nconst router = express.Router();\r\nconst prisma = new PrismaClient();\r\n\r\n// Validation middleware\r\nconst handleValidationErrors = (req, res, next) => {\r\n  const errors = validationResult(req);\r\n  if (!errors.isEmpty()) {\r\n    return res.status(400).json({\r\n      error: 'Validation failed',\r\n      details: errors.array()\r\n    });\r\n  }\r\n  next();\r\n};\r\n\r\n// Register endpoint\r\nrouter.post('/register', [\r\n  body('email').optional().isEmail().normalizeEmail(),\r\n  body('password').isLength({ min: 8, max: 128 }),\r\n  body('firstName').optional().notEmpty().trim(),\r\n  body('lastName').optional().notEmpty().trim(),\r\n  body('fname').optional().notEmpty().trim(),\r\n  body('lname').optional().notEmpty().trim(),\r\n  body('phone').optional().notEmpty().trim(),\r\n  body('phoneNumber').optional().notEmpty().trim(),\r\n  body('confirmPassword').notEmpty().trim()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n  const {\r\n    email,\r\n    password,\r\n    firstName,\r\n    lastName,\r\n    fname,\r\n    lname,\r\n    phone,\r\n    phoneNumber,\r\n    confirmPassword\r\n  } = req.body;\r\n  \r\n  // Handle property name variations\r\n  const finalFirstName = firstName || fname;\r\n  const finalLastName = lastName || lname;\r\n  const finalPhone = phone || phoneNumber;\r\n  \r\n  // Validate that at least email or phone is provided\r\n  if (!email && !finalPhone) {\r\n    return res.status(400).json({\r\n      error: 'Email or phone required',\r\n      message: 'Please provide either email or phone number for registration',\r\n      messageBn: 'অনুগ্রহ ইমেল বা ফোন নম্বর দিন'\r\n    });\r\n  }\r\n  \r\n  // Validate confirm password matches\r\n  if (password !== confirmPassword) {\r\n    return res.status(400).json({\r\n      error: 'Passwords do not match',\r\n      message: 'Password and confirm password must match',\r\n      messageBn: 'পাসওয়ার্ড এবং নিশ্চিত পাসওয়ার্ড মিলতে হবে'\r\n    });\r\n  }\r\n\r\n\r\n  // Validate password strength\r\n  const userInfo = { firstName: finalFirstName, lastName: finalLastName, email, phone: finalPhone };\r\n  const passwordValidation = passwordService.validatePasswordStrength(password, userInfo);\r\n  \r\n  if (!passwordValidation.isValid) {\r\n    return res.status(400).json({\r\n      error: 'Password does not meet requirements',\r\n      message: 'Password is too weak or does not meet security requirements',\r\n      messageBn: 'পাসওয়ার্ড খুবই বা নিরাপত্তিগিয় পূর্ব',\r\n      details: {\r\n        strength: passwordValidation.strength,\r\n        score: passwordValidation.score,\r\n        feedback: passwordValidation.feedback,\r\n        warnings: passwordValidation.warnings,\r\n        suggestions: passwordValidation.suggestions,\r\n        passwordPolicy: passwordService.getPasswordPolicy()\r\n      }\r\n    });\r\n  }\r\n\r\n    // Validate email if provided\r\n    if (email) {\r\n      if (!emailService.validateEmail(email)) {\r\n        return res.status(400).json({\r\n          error: 'Invalid email format',\r\n          message: 'Please provide a valid email address',\r\n          messageBn: 'অনুগ্রহ ইমেল ঠিকানা দিন'\r\n        });\r\n      }\r\n\r\n      if (emailService.isDisposableEmail(email)) {\r\n        return res.status(400).json({\r\n          error: 'Disposable email not allowed',\r\n          message: 'Please use a permanent email address for registration',\r\n          messageBn: 'নিবন্ধন ইমেল ব্যবহার করুন, অনুগ্রহ ইমেল ব্যবহার করুন'\r\n        });\r\n      }\r\n    }\r\n\r\n    // Validate phone if provided\r\n    let phoneValidation = null;\r\n    if (finalPhone) {\r\n      phoneValidation = phoneValidationService.validateForUseCase(finalPhone, 'registration');\r\n      if (!phoneValidation.isValid) {\r\n        return res.status(400).json({\r\n          error: 'Invalid phone format',\r\n          message: phoneValidation.error,\r\n          messageBn: phoneValidation.errorBn,\r\n          code: phoneValidation.code\r\n        });\r\n      }\r\n    }\r\n\r\n    // Check if user already exists\r\n    const existingUser = await prisma.user.findFirst({\r\n      where: {\r\n        OR: [\r\n          ...(email ? [{ email }] : []),\r\n          ...(phoneValidation?.isValid ? [{ phone: phoneValidation.normalizedPhone }] : [])\r\n        ]\r\n      }\r\n    });\r\n\r\n    if (existingUser) {\r\n      return res.status(409).json({\r\n        error: 'User already exists',\r\n        message: 'An account with this email or phone number already exists',\r\n        messageBn: 'এই ইমেল বা ফোন নম্বর দিয়ে একাউন্ট বিদ্যমান রয়েছে',\r\n        field: existingUser.email === email ? 'email' : 'phone'\r\n      });\r\n    }\r\n\r\n    // Hash password using password service\r\n    const hashedPassword = await passwordService.hashPassword(password);\r\n\r\n    // Create user with PENDING status\r\n    const user = await prisma.user.create({\r\n      data: {\r\n        email,\r\n        password: hashedPassword,\r\n        firstName: finalFirstName,\r\n        lastName: finalLastName,\r\n        phone: phoneValidation?.normalizedPhone || finalPhone,\r\n        role: 'CUSTOMER',\r\n        status: 'PENDING'\r\n      },\r\n      select: {\r\n        id: true,\r\n        email: true,\r\n        firstName: true,\r\n        lastName: true,\r\n        phone: true,\r\n        role: true,\r\n        status: true,\r\n        createdAt: true\r\n      }\r\n    });\r\n\r\n    // Save password to history\r\n    await passwordService.savePasswordToHistory(user.id, hashedPassword);\r\n\r\n    // Check if testing mode is enabled\r\n    const isTestingMode = configService.isTestingMode();\r\n    const isEmailVerificationDisabled = configService.isEmailVerificationDisabled();\r\n    const isPhoneVerificationDisabled = configService.isPhoneVerificationDisabled();\r\n\r\n    // Handle verification based on what's provided and testing mode\r\n    if (email && !isEmailVerificationDisabled) {\r\n      // Email verification flow\r\n      const verificationToken = emailService.generateVerificationToken();\r\n      const expiresAt = new Date(Date.now() + 24 * 60 * 60 * 1000); // 24 hours\r\n\r\n      // Save verification token to database\r\n      await prisma.emailVerificationToken.create({\r\n        data: {\r\n          userId: user.id,\r\n          token: verificationToken,\r\n          expiresAt\r\n        }\r\n      });\r\n\r\n      // Send verification email\r\n      const emailResult = await emailService.sendVerificationEmail(\r\n        email,\r\n        `${firstName} ${lastName}`,\r\n        verificationToken\r\n      );\r\n\r\n      if (!emailResult.success) {\r\n        // If email fails, delete user and token for cleanup\r\n        await prisma.emailVerificationToken.delete({\r\n          where: { userId: user.id }\r\n        });\r\n        await prisma.user.delete({\r\n          where: { id: user.id }\r\n        });\r\n\r\n        return res.status(500).json({\r\n          error: 'Registration failed',\r\n          message: 'Failed to send verification email. Please try again later.',\r\n          messageBn: 'যাচাই ইমেল পাঠানো ব্যর্থ হয়েছে। অনুগ্রহ চেষ্টা করুন।'\r\n        });\r\n      }\r\n\r\n      res.status(201).json({\r\n        message: 'Registration successful. Please check your email to verify your account.',\r\n        messageBn: 'নিবন্ধন সফল। আপনার অ্যাকাউন্ট যাচাই করার জন্য ইমেল চেক করুন।',\r\n        user: {\r\n          id: user.id,\r\n          email: user.email,\r\n          firstName: user.firstName,\r\n          lastName: user.lastName,\r\n          role: user.role,\r\n          status: user.status\r\n        },\r\n        requiresEmailVerification: true\r\n      });\r\n\r\n    } else if (phoneValidation?.isValid && !isPhoneVerificationDisabled) {\r\n      // Phone verification flow\r\n      const otpResult = await otpService.generatePhoneOTP(phoneValidation.normalizedPhone, user.id);\r\n\r\n      if (!otpResult.success) {\r\n        // If OTP fails, delete user for cleanup\r\n        await prisma.user.delete({\r\n          where: { id: user.id }\r\n        });\r\n\r\n        return res.status(500).json({\r\n          error: 'Registration failed',\r\n          message: otpResult.error || 'Failed to send OTP. Please try again later.',\r\n          messageBn: otpResult.errorBn || 'OTP পাঠানো ব্যর্থ হয়েছে। অনুগ্রহ চেষ্টা করুন।'\r\n        });\r\n      }\r\n\r\n      res.status(201).json({\r\n        message: 'Registration successful. Please check your phone for OTP verification.',\r\n        messageBn: 'নিবন্ধন সফল। আপনার ফোনে OTP যাচাই করার জন্য চেক করুন।',\r\n        user: {\r\n          id: user.id,\r\n          phone: user.phone,\r\n          firstName: user.firstName,\r\n          lastName: user.lastName,\r\n          role: user.role,\r\n          status: user.status\r\n        },\r\n        requiresPhoneVerification: true,\r\n        phone: phoneValidation.normalizedPhone,\r\n        operator: phoneValidation.operator,\r\n        operatorDetails: phoneValidation.operatorDetails\r\n      });\r\n\r\n    } else {\r\n      // Skip verification - activate account immediately (testing mode or verification disabled)\r\n      const updatedUser = await prisma.user.update({\r\n        where: { id: user.id },\r\n        data: {\r\n          status: 'ACTIVE',\r\n          emailVerified: email ? new Date() : null,\r\n          phoneVerified: phoneValidation?.isValid ? new Date() : null\r\n        },\r\n        select: {\r\n          id: true,\r\n          email: true,\r\n          firstName: true,\r\n          lastName: true,\r\n          phone: true,\r\n          role: true,\r\n          status: true,\r\n          emailVerified: true,\r\n          phoneVerified: true\r\n        }\r\n      });\r\n\r\n      res.status(201).json({\r\n        message: isTestingMode\r\n          ? 'Registration successful in testing mode. Account is automatically activated.'\r\n          : 'Registration successful. Account is activated without verification.',\r\n        messageBn: isTestingMode\r\n          ? 'টেস্টিং মোডে নিবন্ধন সফল। অ্যাকাউন্ট স্বয়ংক্রিয় সক্রিয় করা হয়েছে।'\r\n          : 'নিবন্ধন সফল। যাচাই ছাড়া অ্যাকাউন্ট সক্রিয় করা হয়েছে।',\r\n        user: updatedUser,\r\n        testingMode: isTestingMode,\r\n        verificationSkipped: true\r\n      });\r\n    }\r\n\r\n  } catch (error) {\r\n    console.error('Registration error:', error);\r\n    res.status(500).json({\r\n      error: 'Registration failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'নিবন্ধন ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Login endpoint\r\nrouter.post('/login', [\r\n  body('identifier').notEmpty().trim(),\r\n  body('password').notEmpty().trim(),\r\n  body('rememberMe').optional().isBoolean(),\r\n  body('captcha').optional().isString(),\r\n  body('deviceFingerprint').optional().isString()\r\n], handleValidationErrors,\r\n  loginSecurityMiddleware.enforce(),\r\n  async (req, res) => {\r\n  const { identifier, password, rememberMe, captcha, deviceFingerprint } = req.body;\r\n\r\n  try {\r\n\r\n    // Determine if identifier is email or phone\r\n    const isEmail = identifier.includes('@');\r\n    let user;\r\n    let loginType;\r\n\r\n    if (isEmail) {\r\n      // Validate email format\r\n      if (!emailService.validateEmail(identifier)) {\r\n        return res.status(400).json({\r\n          error: 'Invalid email format',\r\n          message: 'Please provide a valid email address',\r\n          messageBn: 'অনুগ্রহ ইমেল ঠিকানা দিন'\r\n        });\r\n      }\r\n      \r\n      // Find user by email\r\n      user = await prisma.user.findUnique({\r\n        where: { email: identifier }\r\n      });\r\n      loginType = 'email';\r\n    } else {\r\n      // Validate phone number\r\n      const phoneValidation = phoneValidationService.validateForUseCase(identifier, 'login');\r\n      if (!phoneValidation.isValid) {\r\n        return res.status(400).json({\r\n          error: 'Invalid phone format',\r\n          message: phoneValidation.error,\r\n          messageBn: phoneValidation.errorBn,\r\n          code: phoneValidation.code\r\n        });\r\n      }\r\n      \r\n      // Find user by phone\r\n      user = await prisma.user.findUnique({\r\n        where: { phone: phoneValidation.normalizedPhone }\r\n      });\r\n      loginType = 'phone';\r\n    }\r\n\r\n    if (!user || !user.password) {\r\n      return res.status(401).json({\r\n        error: 'Invalid credentials',\r\n        message: `Invalid ${loginType} or password`,\r\n        messageBn: loginType === 'email' ? 'অবৈধ ইমেল বা পাসওয়ার্ড' : 'অবৈধ ফোন বা পাসওয়ার্ড'\r\n      });\r\n    }\r\n\r\n    // Verify password\r\n    const isValidPassword = await bcrypt.compare(password, user.password);\r\n    if (!isValidPassword) {\r\n      return res.status(401).json({\r\n        error: 'Invalid credentials',\r\n        message: `Invalid ${loginType} or password`,\r\n        messageBn: loginType === 'email' ? 'অবৈধ ইমেল বা পাসওয়ার্ড' : 'অবৈধ ফোন বা পাসওয়ার্ড'\r\n      });\r\n    }\r\n\r\n    // Check if user is verified (skip if testing mode or verification disabled)\r\n    const isTestingMode = configService.isTestingMode();\r\n    const isEmailVerificationDisabled = configService.isEmailVerificationDisabled();\r\n    const isPhoneVerificationDisabled = configService.isPhoneVerificationDisabled();\r\n    \r\n    const requiresVerification =\r\n      (loginType === 'email' && !isEmailVerificationDisabled) ||\r\n      (loginType === 'phone' && !isPhoneVerificationDisabled);\r\n    \r\n    if (user.status === 'PENDING' && requiresVerification && !isTestingMode) {\r\n      const verificationMessage = loginType === 'email'\r\n        ? 'Please verify your email address before logging in'\r\n        : 'Please verify your phone number before logging in';\r\n      const verificationMessageBn = loginType === 'email'\r\n        ? 'লগিন করার আগে ইমেল যাচাই করুন'\r\n        : 'লগিন করার আগে ফোন নম্বর যাচাই করুন';\r\n      \r\n      return res.status(403).json({\r\n        error: 'Account not verified',\r\n        message: verificationMessage,\r\n        messageBn: verificationMessageBn,\r\n        requiresVerification: true,\r\n        verificationType: loginType\r\n      });\r\n    }\r\n    \r\n    // Auto-activate pending users in testing mode or when verification is disabled\r\n    if (user.status === 'PENDING' && (isTestingMode || !requiresVerification)) {\r\n      await prisma.user.update({\r\n        where: { id: user.id },\r\n        data: {\r\n          status: 'ACTIVE',\r\n          emailVerified: loginType === 'email' ? new Date() : user.emailVerified,\r\n          phoneVerified: loginType === 'phone' ? new Date() : user.phoneVerified\r\n        }\r\n      });\r\n      \r\n      // Refresh user data after update\r\n      user = await prisma.user.findUnique({\r\n        where: { id: user.id },\r\n        select: {\r\n          id: true,\r\n          email: true,\r\n          phone: true,\r\n          firstName: true,\r\n          lastName: true,\r\n          role: true,\r\n          status: true,\r\n          emailVerified: true,\r\n          phoneVerified: true\r\n        }\r\n      });\r\n    }\r\n\r\n    // Update last login\r\n    await prisma.user.update({\r\n      where: { id: user.id },\r\n      data: { lastLoginAt: new Date() }\r\n    });\r\n\r\n    // Create secure session instead of JWT token\r\n    const sessionResult = await sessionService.createSession(user.id, req, {\r\n      loginType,\r\n      rememberMe: rememberMe || false,\r\n      maxAge: rememberMe ? 7 * 24 * 60 * 60 * 1000 : 24 * 60 * 60 * 1000 // 7 days if remember me, 24 hours default\r\n    });\r\n\r\n    if (!sessionResult.sessionId) {\r\n      return res.status(500).json({\r\n        error: 'Login failed',\r\n        message: 'Unable to create session',\r\n        messageBn: 'লগিন ব্যর্থ হয়েছে'\r\n      });\r\n    }\r\n\r\n    // Set session cookie with remember me options\r\n    sessionMiddleware.setSessionCookie(res, sessionResult.sessionId, {\r\n      maxAge: sessionResult.maxAge,\r\n      rememberMe: rememberMe || false\r\n    });\r\n\r\n    // Add session headers\r\n    const sessionHeaders = sessionMiddleware.sessionHeaders(sessionResult);\r\n    Object.keys(sessionHeaders).forEach(key => {\r\n      res.set(key, sessionHeaders[key]);\r\n    });\r\n\r\n    // Generate JWT token for API compatibility (shorter expiry)\r\n    const jwtSecretLogin = process.env.JWT_SECRET;\r\n    if (!jwtSecretLogin) {\r\n      throw new Error('JWT_SECRET environment variable is required');\r\n    }\r\n    \r\n    const token = jwt.sign(\r\n      {\r\n        userId: user.id,\r\n        email: user.email,\r\n        phone: user.phone,\r\n        role: user.role,\r\n        sessionId: sessionResult.sessionId\r\n      },\r\n      jwtSecretLogin,\r\n      { expiresIn: process.env.JWT_EXPIRES_IN || '15m' } // Shorter expiry for JWT, session manages long-term auth\r\n    );\r\n\r\n\r\n    // Record successful login and clear failed attempts\r\n    return loginSecurityMiddleware.recordSuccessfulLogin(req, { id: user.id }, (req, res) => {\r\n      res.json({\r\n        message: 'Login successful',\r\n        messageBn: 'লগিন সফল',\r\n        user: {\r\n          id: user.id,\r\n          email: user.email,\r\n          phone: user.phone,\r\n          firstName: user.firstName,\r\n          lastName: user.lastName,\r\n          role: user.role,\r\n          status: user.status\r\n        },\r\n        token, // For API compatibility\r\n        sessionId: sessionResult.sessionId,\r\n        expiresAt: sessionResult.expiresAt,\r\n        maxAge: sessionResult.maxAge,\r\n        loginType,\r\n        rememberMe: rememberMe || false,\r\n        securityContext: req.securityContext\r\n      });\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Login error:', error);\r\n    console.error('Login error details:', {\r\n      name: error.name,\r\n      message: error.message,\r\n      stack: error.stack\r\n    });\r\n    \r\n    // Record failed attempt due to system error\r\n    req.authError = 'system_error';\r\n    return loginSecurityMiddleware.recordFailedLogin()(req, res, () => {\r\n      res.status(500).json({\r\n        error: 'Login failed',\r\n        message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n        messageBn: 'লগিন ব্যর্থ হয়েছে'\r\n      });\r\n    });\r\n  }\r\n});\r\n\r\n// Basic captcha validation function (integrate with actual captcha service)\r\nasync function validateCaptcha(captcha, ip) {\r\n  // This is a placeholder - integrate with reCAPTCHA, hCaptcha, or similar\r\n  // For now, we'll accept any captcha if security doesn't require it\r\n  return true;\r\n}\r\n\r\n// Logout endpoint\r\nrouter.post('/logout', [\r\n  body('allDevices').optional().isBoolean()\r\n], async (req, res) => {\r\n  try {\r\n    const { allDevices } = req.body;\r\n    const sessionId = sessionMiddleware.getSessionId(req);\r\n\r\n    if (!sessionId) {\r\n      return res.status(400).json({\r\n        error: 'No session found',\r\n        message: 'No active session to logout',\r\n        messageBn: 'লগআউট করার জন্য কোনো সেশন পাওয়া যায়নি'\r\n      });\r\n    }\r\n\r\n    // Validate session to get user ID\r\n    const validation = await sessionService.validateSession(sessionId, req);\r\n    \r\n    if (!validation.valid) {\r\n      // Clear session cookie anyway\r\n      sessionMiddleware.clearSessionCookie(res);\r\n      \r\n      return res.json({\r\n        message: 'Logout successful',\r\n        messageBn: 'লগআউট সফল',\r\n        sessionExpired: true\r\n      });\r\n    }\r\n\r\n    let result;\r\n    if (allDevices) {\r\n      // Destroy all sessions for this user\r\n      result = await sessionService.destroyAllUserSessions(validation.userId, sessionId);\r\n    } else {\r\n      // Destroy current session only\r\n      result = await sessionService.destroySession(sessionId, 'user_logout');\r\n    }\r\n\r\n    if (!result.success) {\r\n      return res.status(500).json({\r\n        error: 'Logout failed',\r\n        message: result.reason,\r\n        messageBn: 'লগআউট ব্যর্থ হয়েছে'\r\n      });\r\n    }\r\n\r\n    // Clear session cookie\r\n    sessionMiddleware.clearSessionCookie(res);\r\n\r\n    res.json({\r\n      message: 'Logout successful',\r\n      messageBn: 'লগআউট সফল',\r\n      allDevices: allDevices || false,\r\n      destroyedCount: allDevices ? result.destroyedCount : 1\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Logout error:', error);\r\n    res.status(500).json({\r\n      error: 'Logout failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'লগআউট ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Refresh token endpoint\r\nrouter.post('/refresh', async (req, res) => {\r\n  try {\r\n    const { token } = req.body;\r\n\r\n    if (!token) {\r\n      return res.status(401).json({\r\n        error: 'Token required',\r\n        messageBn: 'টোকেন প্রয়োজন'\r\n      });\r\n    }\r\n\r\n    // Verify token\r\n    const jwtSecretRefresh = process.env.JWT_SECRET;\r\n    if (!jwtSecretRefresh) {\r\n      throw new Error('JWT_SECRET environment variable is required');\r\n    }\r\n    \r\n    const decoded = jwt.verify(token, jwtSecretRefresh);\r\n    \r\n    // Get user info\r\n    const user = await prisma.user.findUnique({\r\n      where: { id: decoded.userId },\r\n      select: {\r\n        id: true,\r\n        email: true,\r\n        firstName: true,\r\n        lastName: true,\r\n        role: true,\r\n        status: true\r\n      }\r\n    });\r\n\r\n    if (!user) {\r\n      return res.status(401).json({\r\n        error: 'User not found',\r\n        messageBn: 'ব্যবহার্টার পাওয়া যায়নি'\r\n      });\r\n    }\r\n\r\n    // Generate new token\r\n    const jwtSecretNew = process.env.JWT_SECRET;\r\n    if (!jwtSecretNew) {\r\n      throw new Error('JWT_SECRET environment variable is required');\r\n    }\r\n    \r\n    const newToken = jwt.sign(\r\n      { userId: user.id, email: user.email, role: user.role },\r\n      jwtSecretNew,\r\n      { expiresIn: process.env.JWT_EXPIRES_IN || '7d' }\r\n    );\r\n\r\n    res.json({\r\n      message: 'Token refreshed successfully',\r\n      messageBn: 'টোকেন সফল হয়েছে',\r\n      user,\r\n      token: newToken\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Token refresh error:', error);\r\n    res.status(401).json({\r\n      error: 'Invalid token',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Token expired or invalid',\r\n      messageBn: 'টোকেন মেয়াদীপূর্ণ বা অবৈধ'\r\n    });\r\n  }\r\n});\r\n\r\n// Email verification endpoint\r\nrouter.post('/verify-email', [\r\n  body('token').notEmpty().trim()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { token } = req.body;\r\n\r\n    if (!token) {\r\n      return res.status(400).json({\r\n        error: 'Token required',\r\n        message: 'Verification token is required',\r\n        messageBn: 'যাচাই টোকেন প্রয়োজন'\r\n      });\r\n    }\r\n\r\n    // Find verification token\r\n    const verificationToken = await prisma.emailVerificationToken.findUnique({\r\n      where: { token },\r\n      include: {\r\n        user: true\r\n      }\r\n    });\r\n\r\n    if (!verificationToken) {\r\n      return res.status(400).json({\r\n        error: 'Invalid token',\r\n        message: 'Verification token is invalid or has been used',\r\n        messageBn: 'যাচাই টোকেন অবৈধ বা ব্যবহার হয়েছে'\r\n      });\r\n    }\r\n\r\n    // Check if token has expired\r\n    if (verificationToken.expiresAt < new Date()) {\r\n      // Delete expired token\r\n      await prisma.emailVerificationToken.delete({\r\n        where: { id: verificationToken.id }\r\n      });\r\n\r\n      return res.status(400).json({\r\n        error: 'Token expired',\r\n        message: 'Verification token has expired. Please request a new one.',\r\n        messageBn: 'যাচাই টোকেন মেয়াদীপূর্ণ হয়েছে। নতুন একটি অনুরোধ করুন।'\r\n      });\r\n    }\r\n\r\n    // Check if user is already verified\r\n    if (verificationToken.user.emailVerified) {\r\n      return res.status(400).json({\r\n        error: 'Already verified',\r\n        message: 'Email has already been verified',\r\n        messageBn: 'ইমেল আগেই যাচাই হয়েছে'\r\n      });\r\n    }\r\n\r\n    // Update user status and email verification timestamp\r\n    const updatedUser = await prisma.user.update({\r\n      where: { id: verificationToken.userId },\r\n      data: {\r\n        status: 'ACTIVE',\r\n        emailVerified: new Date()\r\n      },\r\n      select: {\r\n        id: true,\r\n        email: true,\r\n        firstName: true,\r\n        lastName: true,\r\n        role: true,\r\n        status: true,\r\n        emailVerified: true\r\n      }\r\n    });\r\n\r\n    // Delete verification token\r\n    await prisma.emailVerificationToken.delete({\r\n      where: { id: verificationToken.id }\r\n    });\r\n\r\n    // Send welcome email\r\n    await emailService.sendWelcomeEmail(\r\n      verificationToken.user.email,\r\n      `${verificationToken.user.firstName} ${verificationToken.user.lastName}`\r\n    );\r\n\r\n    res.json({\r\n      message: 'Email verified successfully',\r\n      messageBn: 'ইমেল সফল যাচাই হয়েছে',\r\n      user: updatedUser\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Email verification error:', error);\r\n    res.status(500).json({\r\n      error: 'Verification failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'যাচাই ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Resend verification email endpoint\r\nrouter.post('/resend-verification', [\r\n  body('email').isEmail().normalizeEmail()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { email } = req.body;\r\n\r\n    // Find user\r\n    const user = await prisma.user.findUnique({\r\n      where: { email },\r\n      include: {\r\n        emailVerificationTokens: {\r\n          where: {\r\n            expiresAt: {\r\n              gt: new Date()\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    if (!user) {\r\n      return res.status(404).json({\r\n        error: 'User not found',\r\n        message: 'No account found with this email address',\r\n        messageBn: 'এই ইমেল ঠিকানা কোনো ব্যবহার্টার পাওয়া যায়নি'\r\n      });\r\n    }\r\n\r\n    // Check if email is already verified\r\n    if (user.emailVerified) {\r\n      return res.status(400).json({\r\n        error: 'Already verified',\r\n        message: 'Email has already been verified',\r\n        messageBn: 'ইমেল আগেই যাচাই হয়েছে'\r\n      });\r\n    }\r\n\r\n    // Check if there's already a recent verification token (within 5 minutes)\r\n    const recentToken = user.emailVerificationTokens[0];\r\n    if (recentToken && (Date.now() - recentToken.createdAt.getTime()) < 5 * 60 * 1000) {\r\n      return res.status(429).json({\r\n        error: 'Too many requests',\r\n        message: 'Please wait before requesting another verification email',\r\n        messageBn: 'অন্য যাচাই ইমেল অনুরোধ করার জন্য অপেক্ষা করুন'\r\n      });\r\n    }\r\n\r\n    // Delete any existing tokens for this user\r\n    await prisma.emailVerificationToken.deleteMany({\r\n      where: { userId: user.id }\r\n    });\r\n\r\n    // Generate new verification token\r\n    const verificationToken = emailService.generateVerificationToken();\r\n    const expiresAt = new Date(Date.now() + 24 * 60 * 60 * 1000); // 24 hours\r\n\r\n    // Save new verification token\r\n    await prisma.emailVerificationToken.create({\r\n      data: {\r\n        userId: user.id,\r\n        token: verificationToken,\r\n        expiresAt\r\n      }\r\n    });\r\n\r\n    // Send verification email\r\n    const emailResult = await emailService.sendVerificationEmail(\r\n      email,\r\n      `${user.firstName} ${user.lastName}`,\r\n      verificationToken\r\n    );\r\n\r\n    if (!emailResult.success) {\r\n      return res.status(500).json({\r\n        error: 'Failed to send email',\r\n        message: 'Unable to send verification email. Please try again later.',\r\n        messageBn: 'যাচাই ইমেল পাঠানো ব্যর্থ হয়েছে। অনুগ্রহ চেষ্টা করুন।'\r\n      });\r\n    }\r\n\r\n    res.json({\r\n      message: 'Verification email sent successfully',\r\n      messageBn: 'যাচাই ইমেল সফল পাঠানো হয়েছে',\r\n      email: email\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Resend verification error:', error);\r\n    res.status(500).json({\r\n      error: 'Failed to resend verification',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'যাচাই পুনরায়া পাঠানো ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Send OTP endpoint\r\nrouter.post('/send-otp', [\r\n  body('phone').notEmpty().trim()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { phone } = req.body;\r\n\r\n    // Validate phone number with enhanced service\r\n    const phoneValidation = phoneValidationService.validateForUseCase(phone, 'otp');\r\n    if (!phoneValidation.isValid) {\r\n      return res.status(400).json({\r\n        error: 'Invalid phone format',\r\n        message: phoneValidation.error,\r\n        messageBn: phoneValidation.errorBn,\r\n        code: phoneValidation.code\r\n      });\r\n    }\r\n\r\n    const normalizedPhone = phoneValidation.normalizedPhone;\r\n\r\n    // Check if phone is already verified\r\n    const isVerified = await otpService.isPhoneVerified(normalizedPhone);\r\n    if (isVerified) {\r\n      return res.status(400).json({\r\n        error: 'Phone already verified',\r\n        message: 'This phone number is already registered and verified',\r\n        messageBn: 'এই ফোন নম্বর আগেই নিবন্ধন ও যাচাই হয়েছে'\r\n      });\r\n    }\r\n\r\n    // Generate and send OTP\r\n    const otpResult = await otpService.generatePhoneOTP(normalizedPhone);\r\n\r\n    if (!otpResult.success) {\r\n      return res.status(400).json({\r\n        error: 'Failed to send OTP',\r\n        message: otpResult.error,\r\n        messageBn: otpResult.errorBn,\r\n        code: otpResult.code\r\n      });\r\n    }\r\n\r\n    res.json({\r\n      message: 'OTP sent successfully',\r\n      messageBn: 'OTP সফল পাঠানো হয়েছে',\r\n      phone: normalizedPhone,\r\n      operator: otpResult.operator,\r\n      operatorDetails: otpResult.operatorDetails,\r\n      expiresAt: otpResult.expiresAt,\r\n      mock: otpResult.mock || false\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Send OTP error:', error);\r\n    res.status(500).json({\r\n      error: 'Failed to send OTP',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'OTP পাঠানো ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Verify OTP endpoint\r\nrouter.post('/verify-otp', [\r\n  body('phone').notEmpty().trim(),\r\n  body('otp').notEmpty().trim().isLength({ min: 6, max: 6 })\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { phone, otp } = req.body;\r\n\r\n    // Validate phone number with enhanced service\r\n    const phoneValidation = phoneValidationService.validateForUseCase(phone, 'otp');\r\n    if (!phoneValidation.isValid) {\r\n      return res.status(400).json({\r\n        error: 'Invalid phone format',\r\n        message: phoneValidation.error,\r\n        messageBn: phoneValidation.errorBn,\r\n        code: phoneValidation.code\r\n      });\r\n    }\r\n\r\n    const normalizedPhone = phoneValidation.normalizedPhone;\r\n\r\n    // Verify OTP\r\n    const verifyResult = await otpService.verifyPhoneOTP(normalizedPhone, otp);\r\n\r\n    if (!verifyResult.success) {\r\n      return res.status(400).json({\r\n        error: 'OTP verification failed',\r\n        message: verifyResult.error,\r\n        messageBn: verifyResult.errorBn,\r\n        code: verifyResult.code\r\n      });\r\n    }\r\n\r\n    // If OTP was for registration, find and update user\r\n    if (verifyResult.userId) {\r\n      const user = await prisma.user.findUnique({\r\n        where: { id: verifyResult.userId },\r\n        select: {\r\n          id: true,\r\n          email: true,\r\n          firstName: true,\r\n          lastName: true,\r\n          phone: true,\r\n          role: true,\r\n          status: true,\r\n          phoneVerified: true\r\n        }\r\n      });\r\n\r\n      if (user) {\r\n        return res.json({\r\n          message: 'Phone verified successfully. Account is now active.',\r\n          messageBn: 'ফোন সফল যাচাই হয়েছে। অ্যাকাউন্ট এখন সক্রিয়।',\r\n          user,\r\n          verifiedAt: verifyResult.verifiedAt\r\n        });\r\n      }\r\n    }\r\n\r\n    res.json({\r\n      message: 'OTP verified successfully',\r\n      messageBn: 'OTP সফল যাচাই হয়েছে',\r\n      phone: normalizedPhone,\r\n      verifiedAt: verifyResult.verifiedAt\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Verify OTP error:', error);\r\n    res.status(500).json({\r\n      error: 'OTP verification failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'OTP যাচাই ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Resend OTP endpoint\r\nrouter.post('/resend-otp', [\r\n  body('phone').notEmpty().trim()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { phone } = req.body;\r\n\r\n    // Validate phone number with enhanced service\r\n    const phoneValidation = phoneValidationService.validateForUseCase(phone, 'otp');\r\n    if (!phoneValidation.isValid) {\r\n      return res.status(400).json({\r\n        error: 'Invalid phone format',\r\n        message: phoneValidation.error,\r\n        messageBn: phoneValidation.errorBn,\r\n        code: phoneValidation.code\r\n      });\r\n    }\r\n\r\n    const normalizedPhone = phoneValidation.normalizedPhone;\r\n\r\n    // Resend OTP\r\n    const resendResult = await otpService.resendPhoneOTP(normalizedPhone);\r\n\r\n    if (!resendResult.success) {\r\n      return res.status(400).json({\r\n        error: 'Failed to resend OTP',\r\n        message: resendResult.error,\r\n        messageBn: resendResult.errorBn,\r\n        code: resendResult.code,\r\n        waitTime: resendResult.waitTime\r\n      });\r\n    }\r\n\r\n    res.json({\r\n      message: 'OTP resent successfully',\r\n      messageBn: 'OTP পুনরায়া পাঠানো হয়েছে',\r\n      phone: normalizedPhone,\r\n      operator: resendResult.operator,\r\n      operatorDetails: resendResult.operatorDetails,\r\n      expiresAt: resendResult.expiresAt,\r\n      mock: resendResult.mock || false\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Resend OTP error:', error);\r\n    res.status(500).json({\r\n      error: 'Failed to resend OTP',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'OTP পুনরায়া ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Change password endpoint\r\nrouter.post('/change-password', [\r\n  authMiddleware.authenticate(),\r\n  body('currentPassword').notEmpty().trim(),\r\n  body('newPassword').isLength({ min: 8, max: 128 }),\r\n  body('confirmPassword').notEmpty().trim()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { currentPassword, newPassword, confirmPassword } = req.body;\r\n    const userId = req.user.id;\r\n\r\n    // Check if new passwords match\r\n    if (newPassword !== confirmPassword) {\r\n      return res.status(400).json({\r\n        error: 'Passwords do not match',\r\n        message: 'New password and confirmation password must be same',\r\n        messageBn: 'নতুন পাসওয়ার্ড একই হবি হতে হবে'\r\n      });\r\n    }\r\n\r\n    // Get user with current password\r\n    const user = await prisma.user.findUnique({\r\n      where: { id: userId },\r\n      select: {\r\n        id: true,\r\n        email: true,\r\n        firstName: true,\r\n        lastName: true,\r\n        phone: true,\r\n        password: true\r\n      }\r\n    });\r\n\r\n    if (!user) {\r\n      return res.status(404).json({\r\n        error: 'User not found',\r\n        message: 'User account not found',\r\n        messageBn: 'ব্যবহার্টার পাওয়া যায়নি'\r\n      });\r\n    }\r\n\r\n    // Verify current password\r\n    const isCurrentPasswordValid = await passwordService.verifyPassword(currentPassword, user.password);\r\n    if (!isCurrentPasswordValid) {\r\n      return res.status(401).json({\r\n        error: 'Invalid current password',\r\n        message: 'The current password you entered is incorrect',\r\n        messageBn: 'আপনি যে পাসওয়ার্ড দিয়েছেন সেটা ভুল'\r\n      });\r\n    }\r\n\r\n    // Check if new password is same as current password\r\n    const isSameAsCurrent = await passwordService.verifyPassword(newPassword, user.password);\r\n    if (isSameAsCurrent) {\r\n      return res.status(400).json({\r\n        error: 'Same password',\r\n        message: 'New password must be different from current password',\r\n        messageBn: 'নতুন পাসওয়ার্ড বর্তমান পাসওয়ার্ড থেকে হতে হবে'\r\n      });\r\n    }\r\n\r\n    // Validate new password strength\r\n    const userInfo = {\r\n      firstName: user.firstName,\r\n      lastName: user.lastName,\r\n      email: user.email,\r\n      phone: user.phone\r\n    };\r\n    const passwordValidation = passwordService.validatePasswordStrength(newPassword, userInfo);\r\n    \r\n    if (!passwordValidation.isValid) {\r\n      return res.status(400).json({\r\n        error: 'Password does not meet requirements',\r\n        message: 'New password is too weak or does not meet security requirements',\r\n        messageBn: 'নতুন পাসওয়ার্ড খুবই বা নিরাপত্তিগিয় পূর্ব',\r\n        details: {\r\n          strength: passwordValidation.strength,\r\n          score: passwordValidation.score,\r\n          feedback: passwordValidation.feedback,\r\n          warnings: passwordValidation.warnings,\r\n          suggestions: passwordValidation.suggestions,\r\n          passwordPolicy: passwordService.getPasswordPolicy()\r\n        }\r\n      });\r\n    }\r\n\r\n    // Check if password has been used before\r\n    const isPasswordReused = await passwordService.isPasswordReused(userId, newPassword);\r\n    if (isPasswordReused) {\r\n      return res.status(400).json({\r\n        error: 'Password already used',\r\n        message: 'You cannot reuse a password that has been used in the last 5 changes',\r\n        messageBn: 'আপনি শেষ 5টি পাসওয়ার্ড পরিবর্তন ব্যবহার করা পাসওয়ার্ড ব্যবহার করতে পারেন'\r\n      });\r\n    }\r\n\r\n    // Hash new password\r\n    const hashedNewPassword = await passwordService.hashPassword(newPassword);\r\n\r\n    // Update user password\r\n    await prisma.user.update({\r\n      where: { id: userId },\r\n      data: { password: hashedNewPassword }\r\n    });\r\n\r\n    // Save new password to history\r\n    await passwordService.savePasswordToHistory(userId, hashedNewPassword);\r\n\r\n    // Log password change (you might want to add proper logging here)\r\n    console.log(`Password changed for user ${userId} at ${new Date().toISOString()}`);\r\n\r\n    res.json({\r\n      message: 'Password changed successfully',\r\n      messageBn: 'পাসওয়ার্ড সফল হয়েছে',\r\n      timestamp: new Date().toISOString()\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Change password error:', error);\r\n    res.status(500).json({\r\n      error: 'Password change failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'পাসওয়ার্ড পরিবর্তন ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Request password reset endpoint\r\nrouter.post('/forgot-password', [\r\n  body('email').isEmail().normalizeEmail()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { email } = req.body;\r\n\r\n    // Find user\r\n    const user = await prisma.user.findUnique({\r\n      where: { email }\r\n    });\r\n\r\n    if (!user) {\r\n      // Don't reveal if user exists or not for security\r\n      return res.json({\r\n        message: 'If an account with that email exists, a password reset link has been sent',\r\n        messageBn: 'যদি এই ইমেল ঠিকানা কোনো অ্যাকাউন্ট থাকলে, একটি পাসওয়ার্ড রিসেট লিঙ্ক পাঠানো হয়েছে'\r\n      });\r\n    }\r\n\r\n    // Generate reset token (you might want to use a separate token service)\r\n    const resetToken = emailService.generateVerificationToken();\r\n    const expiresAt = new Date(Date.now() + 1 * 60 * 60 * 1000); // 1 hour\r\n\r\n    // Save reset token (using email verification token table for simplicity)\r\n    await prisma.emailVerificationToken.create({\r\n      data: {\r\n        userId: user.id,\r\n        token: resetToken,\r\n        expiresAt\r\n      }\r\n    });\r\n\r\n    // Generate temporary strong password\r\n    const temporaryPassword = passwordService.generateStrongPassword(12);\r\n    const hashedTempPassword = await passwordService.hashPassword(temporaryPassword);\r\n\r\n    // Update user with temporary password\r\n    await prisma.user.update({\r\n      where: { id: user.id },\r\n      data: { password: hashedTempPassword }\r\n    });\r\n\r\n    // Save temporary password to history\r\n    await passwordService.savePasswordToHistory(user.id, hashedTempPassword);\r\n\r\n    // Send reset email with temporary password\r\n    const emailResult = await emailService.sendPasswordResetEmail(\r\n      email,\r\n      `${user.firstName} ${user.lastName}`,\r\n      temporaryPassword,\r\n      resetToken\r\n    );\r\n\r\n    if (!emailResult.success) {\r\n      return res.status(500).json({\r\n        error: 'Failed to send reset email',\r\n        message: 'Unable to send password reset email. Please try again later.',\r\n        messageBn: 'পাসওয়ার্ড রিসেট ইমেল পাঠানো ব্যর্থ হয়েছে। অনুগ্রহ চেষ্টা করুন।'\r\n      });\r\n    }\r\n\r\n    res.json({\r\n      message: 'Password reset email sent successfully',\r\n      messageBn: 'পাসওয়ার্ড রিসেট ইমেল সফল পাঠানো হয়েছে',\r\n      email: email\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Forgot password error:', error);\r\n    res.status(500).json({\r\n      error: 'Password reset failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'পাসওয়ার্ড রিসেট ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Reset password endpoint (with token)\r\nrouter.post('/reset-password', [\r\n  body('token').notEmpty().trim(),\r\n  body('newPassword').isLength({ min: 8, max: 128 }),\r\n  body('confirmPassword').notEmpty().trim()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { token, newPassword, confirmPassword } = req.body;\r\n\r\n    // Check if new passwords match\r\n    if (newPassword !== confirmPassword) {\r\n      return res.status(400).json({\r\n        error: 'Passwords do not match',\r\n        message: 'New password and confirmation password must be same',\r\n        messageBn: 'নতুন পাসওয়ার্ড একই হবি হতে হবে'\r\n      });\r\n    }\r\n\r\n    // Find reset token\r\n    const resetToken = await prisma.emailVerificationToken.findUnique({\r\n      where: { token },\r\n      include: {\r\n        user: true\r\n      }\r\n    });\r\n\r\n    if (!resetToken) {\r\n      return res.status(400).json({\r\n        error: 'Invalid token',\r\n        message: 'Password reset token is invalid or has been used',\r\n        messageBn: 'পাসওয়ার্ড রিসেট টোকেন অবৈধ বা ব্যবহার হয়েছে'\r\n      });\r\n    }\r\n\r\n    // Check if token has expired\r\n    if (resetToken.expiresAt < new Date()) {\r\n      // Delete expired token\r\n      await prisma.emailVerificationToken.delete({\r\n        where: { id: resetToken.id }\r\n      });\r\n\r\n      return res.status(400).json({\r\n        error: 'Token expired',\r\n        message: 'Password reset token has expired. Please request a new one.',\r\n        messageBn: 'পাসওয়ার্ড রিসেট টোকেন মেয়াদীপূর্ণ হয়েছে। নতুন একটি অনুরোধ করুন।'\r\n      });\r\n    }\r\n\r\n    // Validate new password strength\r\n    const userInfo = {\r\n      firstName: resetToken.user.firstName,\r\n      lastName: resetToken.user.lastName,\r\n      email: resetToken.user.email,\r\n      phone: resetToken.user.phone\r\n    };\r\n    const passwordValidation = passwordService.validatePasswordStrength(newPassword, userInfo);\r\n    \r\n    if (!passwordValidation.isValid) {\r\n      return res.status(400).json({\r\n        error: 'Password does not meet requirements',\r\n        message: 'New password is too weak or does not meet security requirements',\r\n        messageBn: 'নতুন পাসওয়ার্ড খুবই বা নিরাপত্তিগিয় পূর্ব',\r\n        details: {\r\n          strength: passwordValidation.strength,\r\n          score: passwordValidation.score,\r\n          feedback: passwordValidation.feedback,\r\n          warnings: passwordValidation.warnings,\r\n          suggestions: passwordValidation.suggestions,\r\n          passwordPolicy: passwordService.getPasswordPolicy()\r\n        }\r\n      });\r\n    }\r\n\r\n    // Check if password has been used before\r\n    const isPasswordReused = await passwordService.isPasswordReused(resetToken.userId, newPassword);\r\n    if (isPasswordReused) {\r\n      return res.status(400).json({\r\n        error: 'Password already used',\r\n        message: 'You cannot reuse a password that has been used in the last 5 changes',\r\n        messageBn: 'আপনি শেষ 5টি পাসওয়ার্ড পরিবর্তন ব্যবহার করা পাসওয়ার্ড ব্যবহার করতে পারেন'\r\n      });\r\n    }\r\n\r\n    // Hash new password\r\n    const hashedNewPassword = await passwordService.hashPassword(newPassword);\r\n\r\n    // Update user password\r\n    await prisma.user.update({\r\n      where: { id: resetToken.userId },\r\n      data: { password: hashedNewPassword }\r\n    });\r\n\r\n    // Save new password to history\r\n    await passwordService.savePasswordToHistory(resetToken.userId, hashedNewPassword);\r\n\r\n    // Delete reset token\r\n    await prisma.emailVerificationToken.delete({\r\n      where: { id: resetToken.id }\r\n    });\r\n\r\n    // Update user status to active if pending\r\n    if (resetToken.user.status === 'PENDING') {\r\n      await prisma.user.update({\r\n        where: { id: resetToken.userId },\r\n        data: { status: 'ACTIVE' }\r\n      });\r\n    }\r\n\r\n    // Log password reset\r\n    console.log(`Password reset for user ${resetToken.userId} at ${new Date().toISOString()}`);\r\n\r\n    res.json({\r\n      message: 'Password reset successfully',\r\n      messageBn: 'পাসওয়ার্ড সফল হয়েছে',\r\n      timestamp: new Date().toISOString()\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Reset password error:', error);\r\n    res.status(500).json({\r\n      error: 'Password reset failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'পাসওয়ার্ড রিসেট ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Get password policy endpoint\r\nrouter.get('/password-policy', async (req, res) => {\r\n  try {\r\n    const policy = passwordService.getPasswordPolicy();\r\n    \r\n    res.json({\r\n      policy,\r\n      message: 'Current password policy requirements',\r\n      messageBn: 'বর্তমান পাসওয়ার্ড নীতিমালা'\r\n    });\r\n  } catch (error) {\r\n    console.error('Get password policy error:', error);\r\n    res.status(500).json({\r\n      error: 'Failed to get password policy',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'পাসওয়ার্ড নীতিমালা পাওতে ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Get phone validation info endpoint\r\nrouter.post('/validate-phone', [\r\n  body('phone').notEmpty().trim()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { phone } = req.body;\r\n\r\n    const validation = phoneValidationService.validateBangladeshPhoneNumber(phone);\r\n\r\n    res.json({\r\n      validation,\r\n      message: validation.isValid ? 'Valid phone number' : 'Invalid phone number',\r\n      messageBn: validation.isValid ? 'বৈধ ফোন নম্বর' : 'অবৈধ ফোন নম্বর'\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Phone validation error:', error);\r\n    res.status(500).json({\r\n      error: 'Validation failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'যাচাই ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Get supported operators endpoint\r\nrouter.get('/operators', async (req, res) => {\r\n  try {\r\n    const operators = phoneValidationService.getSupportedOperators();\r\n\r\n    res.json({\r\n      operators,\r\n      message: 'Supported mobile operators',\r\n      messageBn: 'সমর্থিত মোবাইল অপারেটর'\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Get operators error:', error);\r\n    res.status(500).json({\r\n      error: 'Failed to get operators',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'অপারেটর পাওতে ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Remember me token validation endpoint\r\nrouter.post('/validate-remember-me', [\r\n  body('token').notEmpty().trim()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { token } = req.body;\r\n\r\n    if (!token) {\r\n      return res.status(400).json({\r\n        error: 'Token required',\r\n        message: 'Remember me token is required',\r\n        messageBn: 'রিমেম্বার মি টোকেন প্রয়োজন'\r\n      });\r\n    }\r\n\r\n    // Validate remember me token\r\n    const validation = await sessionService.validateRememberMeToken(token);\r\n    \r\n    if (!validation.valid) {\r\n      return res.status(400).json({\r\n        error: 'Invalid token',\r\n        message: validation.reason || 'Remember me token is invalid or expired',\r\n        messageBn: validation.reason || 'রিমেম্বার মি টোকেন অবৈধ বা মেয়াদীপূর্ণ'\r\n      });\r\n    }\r\n\r\n    // Get user details\r\n    const user = await prisma.user.findUnique({\r\n      where: { id: validation.userId },\r\n      select: {\r\n        id: true,\r\n        email: true,\r\n        firstName: true,\r\n        lastName: true,\r\n        phone: true,\r\n        role: true,\r\n        status: true\r\n      }\r\n    });\r\n\r\n    if (!user) {\r\n      return res.status(404).json({\r\n        error: 'User not found',\r\n        message: 'User account not found',\r\n        messageBn: 'ব্যবহার্টার পাওয়া যায়নি'\r\n      });\r\n    }\r\n\r\n    res.json({\r\n      message: 'Remember me token is valid',\r\n      messageBn: 'রিমেম্বার মি টোকেন বৈধ',\r\n      user,\r\n      tokenValid: true,\r\n      createdAt: validation.createdAt\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Remember me token validation error:', error);\r\n    res.status(500).json({\r\n      error: 'Validation failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'যাচাই ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Refresh session using remember me token\r\nrouter.post('/refresh-from-remember-me', [\r\n  body('token').notEmpty().trim()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { token } = req.body;\r\n\r\n    if (!token) {\r\n      return res.status(400).json({\r\n        error: 'Token required',\r\n        message: 'Remember me token is required',\r\n        messageBn: 'রিমেম্বার মি টোকেন প্রয়োজন'\r\n      });\r\n    }\r\n\r\n    // Refresh session using remember me token\r\n    const refreshResult = await sessionService.refreshFromRememberMeToken(token, req);\r\n    \r\n    if (!refreshResult.success) {\r\n      return res.status(400).json({\r\n        error: 'Session refresh failed',\r\n        message: refreshResult.reason || 'Failed to refresh session from remember me token',\r\n        messageBn: refreshResult.reason || 'রিমেম্বার মি টোকেন থেকে সেশন রিফ্রেশ ব্যর্থ হয়েছে'\r\n      });\r\n    }\r\n\r\n    // Get user details\r\n    const user = await prisma.user.findUnique({\r\n      where: { id: refreshResult.userId },\r\n      select: {\r\n        id: true,\r\n        email: true,\r\n        firstName: true,\r\n        lastName: true,\r\n        phone: true,\r\n        role: true,\r\n        status: true\r\n      }\r\n    });\r\n\r\n    if (!user) {\r\n      return res.status(404).json({\r\n        error: 'User not found',\r\n        message: 'User account not found',\r\n        messageBn: 'ব্যবহার্টার পাওয়া যায়নি'\r\n      });\r\n    }\r\n\r\n    // Set session cookie\r\n    sessionMiddleware.setSessionCookie(res, refreshResult.sessionId, {\r\n      maxAge: refreshResult.maxAge,\r\n      rememberMe: true\r\n    });\r\n\r\n    // Add session headers\r\n    const sessionHeaders = sessionMiddleware.sessionHeaders(refreshResult);\r\n    Object.keys(sessionHeaders).forEach(key => {\r\n      res.set(key, sessionHeaders[key]);\r\n    });\r\n\r\n    // Generate JWT token for API compatibility\r\n    const jwtSecretLogin = process.env.JWT_SECRET;\r\n    if (!jwtSecretLogin) {\r\n      throw new Error('JWT_SECRET environment variable is required');\r\n    }\r\n    \r\n    const jwtToken = jwt.sign(\r\n      {\r\n        userId: user.id,\r\n        email: user.email,\r\n        phone: user.phone,\r\n        role: user.role,\r\n        sessionId: refreshResult.sessionId\r\n      },\r\n      jwtSecretLogin,\r\n      { expiresIn: process.env.JWT_EXPIRES_IN || '15m' }\r\n    );\r\n\r\n    res.json({\r\n      message: 'Session refreshed successfully',\r\n      messageBn: 'সেশন সফল হয়েছে',\r\n      user,\r\n      token: jwtToken,\r\n      sessionId: refreshResult.sessionId,\r\n      expiresAt: refreshResult.expiresAt,\r\n      maxAge: refreshResult.maxAge,\r\n      rememberMe: true,\r\n      refreshedFrom: 'remember_me_token'\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Remember me session refresh error:', error);\r\n    res.status(500).json({\r\n      error: 'Session refresh failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'সেশন রিফ্রেশ ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Disable remember me functionality\r\nrouter.post('/disable-remember-me', [\r\n  authMiddleware.authenticate(),\r\n  body('allDevices').optional().isBoolean()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { allDevices } = req.body;\r\n    const userId = req.user.id;\r\n    const currentSessionId = req.sessionId;\r\n\r\n    if (allDevices) {\r\n      // Destroy all remember me sessions for this user\r\n      const result = await sessionService.destroyAllUserSessions(userId, currentSessionId);\r\n      \r\n      // Clear remember me cookies\r\n      res.clearCookie('rememberMe');\r\n      res.clearCookie('rememberMeEnabled');\r\n\r\n      res.json({\r\n        message: 'Remember me disabled on all devices',\r\n        messageBn: 'সব ডিভাইসে রিমেম্বার মি নিষ্ক্রিয় করা হয়েছে',\r\n        allDevices: true,\r\n        destroyedCount: result.destroyedCount\r\n      });\r\n    } else {\r\n      // Destroy current session only\r\n      const result = await sessionService.destroySession(currentSessionId, 'disable_remember_me');\r\n      \r\n      // Clear remember me cookies\r\n      res.clearCookie('rememberMe');\r\n      res.clearCookie('rememberMeEnabled');\r\n\r\n      res.json({\r\n        message: 'Remember me disabled on current device',\r\n        messageBn: 'বর্তমান ডিভাইসে রিমেম্বার মি নিষ্ক্রিয় করা হয়েছে',\r\n        allDevices: false,\r\n        destroyedCount: 1\r\n      });\r\n    }\r\n\r\n  } catch (error) {\r\n    console.error('Disable remember me error:', error);\r\n    res.status(500).json({\r\n      error: 'Failed to disable remember me',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'রিমেম্বার মি নিষ্ক্রিয় করতে ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\nmodule.exports = router;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}