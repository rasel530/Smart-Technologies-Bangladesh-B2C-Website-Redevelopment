{"version":3,"names":["_getJestObj","mock","jest","require","request","express","PrismaClient","emailService","emailVerificationMiddleware","app","prisma","describe","beforeEach","emailVerificationToken","deleteMany","user","where","email","contains","afterAll","$disconnect","test","userData","password","firstName","lastName","sendVerificationEmail","mockResolvedValue","success","messageId","response","post","send","expect","body","message","toContain","status","toBe","requiresEmailVerification","toHaveBeenCalled","error","create","data","role","token","expiresAt","Date","now","userId","id","sendWelcomeEmail","emailVerified","toBeTruthy","toHaveBeenCalledWith","any","String","createdAt","mockReq","ip","originalUrl","get","fn","mockRes","mockReturnThis","json","mockNext","requireEmailVerification","mockImplementation","middleware","not","req","res","next","validateEmail","isDisposableEmail","token1","generateVerificationToken","token2","toHaveLength","registerResponse","findUnique","include","emailVerificationTokens","verificationToken","verifyResponse","loginResponse","toHaveBeenCalledTimes"],"sources":["email-verification.test.js"],"sourcesContent":["const request = require('supertest');\r\nconst express = require('express');\r\nconst { PrismaClient } = require('@prisma/client');\r\nconst { emailService } = require('../services/emailService');\r\nconst { emailVerificationMiddleware } = require('../middleware/emailVerification');\r\n\r\nconst app = express();\r\nconst prisma = new PrismaClient();\r\n\r\n// Mock email service for testing\r\njest.mock('../services/emailService');\r\njest.mock('../middleware/emailVerification');\r\n\r\ndescribe('Email Verification System', () => {\r\n  beforeEach(async () => {\r\n    // Clean up database before each test\r\n    await prisma.emailVerificationToken.deleteMany();\r\n    await prisma.user.deleteMany({\r\n      where: { email: { contains: 'test' } }\r\n    });\r\n  });\r\n\r\n  afterAll(async () => {\r\n    await prisma.$disconnect();\r\n  });\r\n\r\n  describe('User Registration with Email Verification', () => {\r\n    test('should register user with PENDING status and send verification email', async () => {\r\n      const userData = {\r\n        email: 'test@example.com',\r\n        password: 'password123',\r\n        firstName: 'Test',\r\n        lastName: 'User'\r\n      };\r\n\r\n      // Mock email service\r\n      emailService.sendVerificationEmail.mockResolvedValue({\r\n        success: true,\r\n        messageId: 'test-message-id'\r\n      });\r\n\r\n      const response = await request(app)\r\n        .post('/api/auth/register')\r\n        .send(userData)\r\n        .expect(201);\r\n\r\n      expect(response.body.message).toContain('Please check your email to verify your account');\r\n      expect(response.body.user.status).toBe('PENDING');\r\n      expect(response.body.requiresEmailVerification).toBe(true);\r\n      expect(emailService.sendVerificationEmail).toHaveBeenCalled();\r\n    });\r\n\r\n    test('should reject disposable email addresses', async () => {\r\n      const userData = {\r\n        email: 'test@10minutemail.com',\r\n        password: 'password123',\r\n        firstName: 'Test',\r\n        lastName: 'User'\r\n      };\r\n\r\n      const response = await request(app)\r\n        .post('/api/auth/register')\r\n        .send(userData)\r\n        .expect(400);\r\n\r\n      expect(response.body.error).toBe('Disposable email not allowed');\r\n    });\r\n\r\n    test('should handle email service failure gracefully', async () => {\r\n      const userData = {\r\n        email: 'test@example.com',\r\n        password: 'password123',\r\n        firstName: 'Test',\r\n        lastName: 'User'\r\n      };\r\n\r\n      // Mock email service failure\r\n      emailService.sendVerificationEmail.mockResolvedValue({\r\n        success: false,\r\n        error: 'SMTP connection failed'\r\n      });\r\n\r\n      const response = await request(app)\r\n        .post('/api/auth/register')\r\n        .send(userData)\r\n        .expect(500);\r\n\r\n      expect(response.body.error).toBe('Registration failed');\r\n      expect(response.body.message).toContain('Failed to send verification email');\r\n    });\r\n  });\r\n\r\n  describe('Email Verification', () => {\r\n    test('should verify email with valid token', async () => {\r\n      // Create a user with PENDING status\r\n      const user = await prisma.user.create({\r\n        data: {\r\n          email: 'test@example.com',\r\n          password: 'hashedpassword',\r\n          firstName: 'Test',\r\n          lastName: 'User',\r\n          role: 'CUSTOMER',\r\n          status: 'PENDING'\r\n        }\r\n      });\r\n\r\n      // Create verification token\r\n      const token = 'test-verification-token';\r\n      const expiresAt = new Date(Date.now() + 24 * 60 * 60 * 1000);\r\n      \r\n      await prisma.emailVerificationToken.create({\r\n        data: {\r\n          userId: user.id,\r\n          token,\r\n          expiresAt\r\n        }\r\n      });\r\n\r\n      // Mock welcome email\r\n      emailService.sendWelcomeEmail.mockResolvedValue({\r\n        success: true,\r\n        messageId: 'welcome-message-id'\r\n      });\r\n\r\n      const response = await request(app)\r\n        .post('/api/auth/verify-email')\r\n        .send({ token })\r\n        .expect(200);\r\n\r\n      expect(response.body.message).toBe('Email verified successfully');\r\n      expect(response.body.user.status).toBe('ACTIVE');\r\n      expect(response.body.user.emailVerified).toBeTruthy();\r\n      expect(emailService.sendWelcomeEmail).toHaveBeenCalled();\r\n    });\r\n\r\n    test('should reject expired token', async () => {\r\n      // Create a user\r\n      const user = await prisma.user.create({\r\n        data: {\r\n          email: 'test@example.com',\r\n          password: 'hashedpassword',\r\n          firstName: 'Test',\r\n          lastName: 'User',\r\n          role: 'CUSTOMER',\r\n          status: 'PENDING'\r\n        }\r\n      });\r\n\r\n      // Create expired verification token\r\n      const token = 'expired-token';\r\n      const expiresAt = new Date(Date.now() - 60 * 60 * 1000); // 1 hour ago\r\n      \r\n      await prisma.emailVerificationToken.create({\r\n        data: {\r\n          userId: user.id,\r\n          token,\r\n          expiresAt\r\n        }\r\n      });\r\n\r\n      const response = await request(app)\r\n        .post('/api/auth/verify-email')\r\n        .send({ token })\r\n        .expect(400);\r\n\r\n      expect(response.body.error).toBe('Token expired');\r\n    });\r\n\r\n    test('should reject invalid token', async () => {\r\n      const response = await request(app)\r\n        .post('/api/auth/verify-email')\r\n        .send({ token: 'invalid-token' })\r\n        .expect(400);\r\n\r\n      expect(response.body.error).toBe('Invalid token');\r\n    });\r\n  });\r\n\r\n  describe('Resend Verification Email', () => {\r\n    test('should resend verification email for unverified user', async () => {\r\n      // Create a user with PENDING status\r\n      const user = await prisma.user.create({\r\n        data: {\r\n          email: 'test@example.com',\r\n          password: 'hashedpassword',\r\n          firstName: 'Test',\r\n          lastName: 'User',\r\n          role: 'CUSTOMER',\r\n          status: 'PENDING'\r\n        }\r\n      });\r\n\r\n      // Mock email service\r\n      emailService.sendVerificationEmail.mockResolvedValue({\r\n        success: true,\r\n        messageId: 'resend-message-id'\r\n      });\r\n\r\n      const response = await request(app)\r\n        .post('/api/auth/resend-verification')\r\n        .send({ email: user.email })\r\n        .expect(200);\r\n\r\n      expect(response.body.message).toBe('Verification email sent successfully');\r\n      expect(emailService.sendVerificationEmail).toHaveBeenCalledWith(\r\n        user.email,\r\n        `${user.firstName} ${user.lastName}`,\r\n        expect.any(String)\r\n      );\r\n    });\r\n\r\n    test('should reject already verified user', async () => {\r\n      // Create a verified user\r\n      const user = await prisma.user.create({\r\n        data: {\r\n          email: 'verified@example.com',\r\n          password: 'hashedpassword',\r\n          firstName: 'Verified',\r\n          lastName: 'User',\r\n          role: 'CUSTOMER',\r\n          status: 'ACTIVE',\r\n          emailVerified: new Date()\r\n        }\r\n      });\r\n\r\n      const response = await request(app)\r\n        .post('/api/auth/resend-verification')\r\n        .send({ email: user.email })\r\n        .expect(400);\r\n\r\n      expect(response.body.error).toBe('Already verified');\r\n    });\r\n\r\n    test('should implement rate limiting for resend requests', async () => {\r\n      // Create a user with PENDING status\r\n      const user = await prisma.user.create({\r\n        data: {\r\n          email: 'test@example.com',\r\n          password: 'hashedpassword',\r\n          firstName: 'Test',\r\n          lastName: 'User',\r\n          role: 'CUSTOMER',\r\n          status: 'PENDING'\r\n        }\r\n      });\r\n\r\n      // Create recent verification token\r\n      const token = 'recent-token';\r\n      const expiresAt = new Date(Date.now() + 24 * 60 * 60 * 1000);\r\n      \r\n      await prisma.emailVerificationToken.create({\r\n        data: {\r\n          userId: user.id,\r\n          token,\r\n          expiresAt,\r\n          createdAt: new Date(Date.now() - 2 * 60 * 1000) // 2 minutes ago\r\n        }\r\n      });\r\n\r\n      const response = await request(app)\r\n        .post('/api/auth/resend-verification')\r\n        .send({ email: user.email })\r\n        .expect(429);\r\n\r\n      expect(response.body.error).toBe('Too many requests');\r\n      expect(response.body.message).toContain('Please wait before requesting');\r\n    });\r\n  });\r\n\r\n  describe('Login with Email Verification', () => {\r\n    test('should reject login for unverified user', async () => {\r\n      // Create a user with PENDING status\r\n      const user = await prisma.user.create({\r\n        data: {\r\n          email: 'test@example.com',\r\n          password: 'hashedpassword',\r\n          firstName: 'Test',\r\n          lastName: 'User',\r\n          role: 'CUSTOMER',\r\n          status: 'PENDING'\r\n        }\r\n      });\r\n\r\n      const response = await request(app)\r\n        .post('/api/auth/login')\r\n        .send({\r\n          email: user.email,\r\n          password: 'password123'\r\n        })\r\n        .expect(403);\r\n\r\n      expect(response.body.error).toBe('Email not verified');\r\n      expect(response.body.message).toContain('Please verify your email address');\r\n    });\r\n\r\n    test('should allow login for verified user', async () => {\r\n      // Create a verified user\r\n      const user = await prisma.user.create({\r\n        data: {\r\n          email: 'verified@example.com',\r\n          password: '$2a$12$hashedpassword',\r\n          firstName: 'Verified',\r\n          lastName: 'User',\r\n          role: 'CUSTOMER',\r\n          status: 'ACTIVE',\r\n          emailVerified: new Date()\r\n        }\r\n      });\r\n\r\n      const response = await request(app)\r\n        .post('/api/auth/login')\r\n        .send({\r\n          email: user.email,\r\n          password: 'password123'\r\n        })\r\n        .expect(200);\r\n\r\n      expect(response.body.message).toBe('Login successful');\r\n      expect(response.body.user.status).toBe('ACTIVE');\r\n      expect(response.body.token).toBeTruthy();\r\n    });\r\n  });\r\n\r\n  describe('Email Verification Middleware', () => {\r\n    test('should allow access for verified user', async () => {\r\n      // Create a verified user\r\n      const user = await prisma.user.create({\r\n        data: {\r\n          email: 'verified@example.com',\r\n          password: 'hashedpassword',\r\n          firstName: 'Verified',\r\n          lastName: 'User',\r\n          role: 'CUSTOMER',\r\n          status: 'ACTIVE',\r\n          emailVerified: new Date()\r\n        }\r\n      });\r\n\r\n      const mockReq = {\r\n        user: { userId: user.id, role: 'CUSTOMER' },\r\n        userId: user.id,\r\n        ip: '127.0.0.1',\r\n        originalUrl: '/api/protected-route',\r\n        get: jest.fn()\r\n      };\r\n\r\n      const mockRes = {\r\n        status: jest.fn().mockReturnThis(),\r\n        json: jest.fn()\r\n      };\r\n\r\n      const mockNext = jest.fn();\r\n\r\n      // Mock middleware to return function\r\n      emailVerificationMiddleware.requireEmailVerification.mockImplementation(() => mockNext);\r\n\r\n      const middleware = emailVerificationMiddleware.requireEmailVerification();\r\n      await middleware(mockReq, mockRes, mockNext);\r\n\r\n      expect(mockNext).toHaveBeenCalled();\r\n      expect(mockRes.status).not.toHaveBeenCalledWith(403);\r\n    });\r\n\r\n    test('should block access for unverified user', async () => {\r\n      // Create an unverified user\r\n      const user = await prisma.user.create({\r\n        data: {\r\n          email: 'unverified@example.com',\r\n          password: 'hashedpassword',\r\n          firstName: 'Unverified',\r\n          lastName: 'User',\r\n          role: 'CUSTOMER',\r\n          status: 'PENDING'\r\n        }\r\n      });\r\n\r\n      const mockReq = {\r\n        user: { userId: user.id, role: 'CUSTOMER' },\r\n        userId: user.id,\r\n        ip: '127.0.0.1',\r\n        originalUrl: '/api/protected-route',\r\n        get: jest.fn()\r\n      };\r\n\r\n      const mockRes = {\r\n        status: jest.fn().mockReturnThis(),\r\n        json: jest.fn()\r\n      };\r\n\r\n      const mockNext = jest.fn();\r\n\r\n      // Mock middleware to return function\r\n      emailVerificationMiddleware.requireEmailVerification.mockImplementation(() => (req, res, next) => {\r\n        // Simulate middleware logic\r\n        if (!req.emailVerified) {\r\n          return res.status(403).json({\r\n            error: 'Email not verified',\r\n            message: 'Please verify your email address to access this resource'\r\n          });\r\n        }\r\n        next();\r\n      });\r\n\r\n      const middleware = emailVerificationMiddleware.requireEmailVerification();\r\n      await middleware(mockReq, mockRes, mockNext);\r\n\r\n      expect(mockNext).not.toHaveBeenCalled();\r\n      expect(mockRes.status).toHaveBeenCalledWith(403);\r\n      expect(mockRes.json).toHaveBeenCalledWith({\r\n        error: 'Email not verified',\r\n        message: 'Please verify your email address to access this resource'\r\n      });\r\n    });\r\n  });\r\n\r\n  describe('Email Service', () => {\r\n    test('should validate email format correctly', () => {\r\n      expect(emailService.validateEmail('test@example.com')).toBe(true);\r\n      expect(emailService.validateEmail('invalid-email')).toBe(false);\r\n      expect(emailService.validateEmail('test@')).toBe(false);\r\n      expect(emailService.validateEmail('@example.com')).toBe(false);\r\n    });\r\n\r\n    test('should detect disposable emails', () => {\r\n      expect(emailService.isDisposableEmail('test@10minutemail.com')).toBe(true);\r\n      expect(emailService.isDisposableEmail('test@gmail.com')).toBe(false);\r\n      expect(emailService.isDisposableEmail('test@yahoo.com')).toBe(false);\r\n    });\r\n\r\n    test('should generate secure verification tokens', () => {\r\n      const token1 = emailService.generateVerificationToken();\r\n      const token2 = emailService.generateVerificationToken();\r\n      \r\n      expect(token1).toHaveLength(64); // 32 bytes = 64 hex characters\r\n      expect(token2).toHaveLength(64);\r\n      expect(token1).not.toBe(token2);\r\n      expect(/^[a-f0-9]+$/).test(token1); // Should be hex characters only\r\n    });\r\n  });\r\n});\r\n\r\n// Integration test for complete email verification flow\r\ndescribe('Complete Email Verification Flow', () => {\r\n  test('should handle complete registration to verification flow', async () => {\r\n    const userData = {\r\n      email: 'integration@example.com',\r\n      password: 'password123',\r\n      firstName: 'Integration',\r\n      lastName: 'Test'\r\n    };\r\n\r\n    // Mock email service\r\n    emailService.sendVerificationEmail.mockResolvedValue({\r\n      success: true,\r\n      messageId: 'integration-message-id'\r\n    });\r\n\r\n    // Step 1: Register user\r\n    const registerResponse = await request(app)\r\n      .post('/api/auth/register')\r\n      .send(userData)\r\n      .expect(201);\r\n\r\n    expect(registerResponse.body.user.status).toBe('PENDING');\r\n    expect(registerResponse.body.requiresEmailVerification).toBe(true);\r\n\r\n    // Step 2: Get verification token from database\r\n    const user = await prisma.user.findUnique({\r\n      where: { email: userData.email },\r\n      include: {\r\n        emailVerificationTokens: true\r\n      }\r\n    });\r\n\r\n    expect(user.emailVerificationTokens).toHaveLength(1);\r\n    const verificationToken = user.emailVerificationTokens[0].token;\r\n\r\n    // Step 3: Verify email\r\n    emailService.sendWelcomeEmail.mockResolvedValue({\r\n      success: true,\r\n      messageId: 'welcome-message-id'\r\n    });\r\n\r\n    const verifyResponse = await request(app)\r\n      .post('/api/auth/verify-email')\r\n      .send({ token: verificationToken })\r\n      .expect(200);\r\n\r\n    expect(verifyResponse.body.message).toBe('Email verified successfully');\r\n    expect(verifyResponse.body.user.status).toBe('ACTIVE');\r\n\r\n    // Step 4: Login with verified account\r\n    const loginResponse = await request(app)\r\n      .post('/api/auth/login')\r\n      .send({\r\n        email: userData.email,\r\n        password: userData.password\r\n      })\r\n      .expect(200);\r\n\r\n    expect(loginResponse.body.message).toBe('Login successful');\r\n    expect(loginResponse.body.user.status).toBe('ACTIVE');\r\n    expect(loginResponse.body.token).toBeTruthy();\r\n\r\n    // Verify email service calls\r\n    expect(emailService.sendVerificationEmail).toHaveBeenCalledTimes(1);\r\n    expect(emailService.sendWelcomeEmail).toHaveBeenCalledTimes(1);\r\n  });\r\n});"],"mappings":"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","ignoreList":[]}