{"version":3,"names":["cov_1ds5ui4vtd","actualCoverage","express","s","require","body","validationResult","bcrypt","jwt","PrismaClient","emailService","smsService","otpService","authMiddleware","passwordService","phoneValidationService","router","Router","prisma","handleValidationErrors","req","res","next","f","errors","isEmpty","b","status","json","error","details","array","post","optional","isEmail","normalizeEmail","isLength","min","max","notEmpty","trim","email","password","firstName","lastName","phone","message","messageBn","userInfo","passwordValidation","validatePasswordStrength","isValid","strength","score","feedback","warnings","suggestions","passwordPolicy","getPasswordPolicy","validateEmail","isDisposableEmail","phoneValidation","validateForUseCase","errorBn","code","existingUser","user","findFirst","where","OR","normalizedPhone","field","hashedPassword","hashPassword","create","data","role","select","id","createdAt","savePasswordToHistory","verificationToken","generateVerificationToken","expiresAt","Date","now","emailVerificationToken","userId","token","emailResult","sendVerificationEmail","success","delete","requiresEmailVerification","otpResult","generatePhoneOTP","requiresPhoneVerification","operator","operatorDetails","console","process","env","NODE_ENV","findUnique","isValidPassword","compare","update","lastLoginAt","jwtSecretLogin","JWT_SECRET","Error","sign","expiresIn","jwtSecretRefresh","decoded","verify","jwtSecretNew","newToken","include","emailVerified","updatedUser","sendWelcomeEmail","emailVerificationTokens","gt","recentToken","getTime","deleteMany","isVerified","isPhoneVerified","mock","otp","verifyResult","verifyPhoneOTP","phoneVerified","verifiedAt","resendResult","resendPhoneOTP","waitTime","currentPassword","newPassword","confirmPassword","isCurrentPasswordValid","verifyPassword","isSameAsCurrent","isPasswordReused","hashedNewPassword","log","toISOString","timestamp","resetToken","temporaryPassword","generateStrongPassword","hashedTempPassword","sendPasswordResetEmail","get","policy","validation","validateBangladeshPhoneNumber","operators","getSupportedOperators","module","exports"],"sources":["auth.js"],"sourcesContent":["const express = require('express');\r\nconst { body, validationResult } = require('express-validator');\r\nconst bcrypt = require('bcryptjs');\r\nconst jwt = require('jsonwebtoken');\r\nconst { PrismaClient } = require('@prisma/client');\r\nconst { emailService } = require('../services/emailService');\r\nconst { smsService } = require('../services/smsService');\r\nconst { otpService } = require('../services/otpService');\r\nconst { authMiddleware } = require('../middleware/auth');\r\nconst { passwordService } = require('../services/passwordService');\r\nconst { phoneValidationService } = require('../services/phoneValidationService');\r\n\r\nconst router = express.Router();\r\nconst prisma = new PrismaClient();\r\n\r\n// Validation middleware\r\nconst handleValidationErrors = (req, res, next) => {\r\n  const errors = validationResult(req);\r\n  if (!errors.isEmpty()) {\r\n    return res.status(400).json({\r\n      error: 'Validation failed',\r\n      details: errors.array()\r\n    });\r\n  }\r\n  next();\r\n};\r\n\r\n// Register endpoint\r\nrouter.post('/register', [\r\n  body('email').optional().isEmail().normalizeEmail(),\r\n  body('password').isLength({ min: 8, max: 128 }),\r\n  body('firstName').notEmpty().trim(),\r\n  body('lastName').notEmpty().trim(),\r\n  body('phone').notEmpty().trim()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n  const { email, password, firstName, lastName, phone } = req.body;\r\n\r\n  // Validate that at least email or phone is provided\r\n  if (!email && !phone) {\r\n    return res.status(400).json({\r\n      error: 'Email or phone required',\r\n      message: 'Please provide either email or phone number for registration',\r\n      messageBn: 'অনুগ্রহ ইমেল বা ফোন নম্বর দিন'\r\n    });\r\n  }\r\n\r\n  // Validate password strength\r\n  const userInfo = { firstName, lastName, email, phone };\r\n  const passwordValidation = passwordService.validatePasswordStrength(password, userInfo);\r\n  \r\n  if (!passwordValidation.isValid) {\r\n    return res.status(400).json({\r\n      error: 'Password does not meet requirements',\r\n      message: 'Password is too weak or does not meet security requirements',\r\n      messageBn: 'পাসওয়ার্ড খুবই বা নিরাপত্তিগিয় পূর্ব',\r\n      details: {\r\n        strength: passwordValidation.strength,\r\n        score: passwordValidation.score,\r\n        feedback: passwordValidation.feedback,\r\n        warnings: passwordValidation.warnings,\r\n        suggestions: passwordValidation.suggestions,\r\n        passwordPolicy: passwordService.getPasswordPolicy()\r\n      }\r\n    });\r\n  }\r\n\r\n    // Validate email if provided\r\n    if (email) {\r\n      if (!emailService.validateEmail(email)) {\r\n        return res.status(400).json({\r\n          error: 'Invalid email format',\r\n          message: 'Please provide a valid email address',\r\n          messageBn: 'অনুগ্রহ ইমেল ঠিকানা দিন'\r\n        });\r\n      }\r\n\r\n      if (emailService.isDisposableEmail(email)) {\r\n        return res.status(400).json({\r\n          error: 'Disposable email not allowed',\r\n          message: 'Please use a permanent email address for registration',\r\n          messageBn: 'নিবন্ধন ইমেল ব্যবহার করুন, অনুগ্রহ ইমেল ব্যবহার করুন'\r\n        });\r\n      }\r\n    }\r\n\r\n    // Validate phone if provided\r\n    let phoneValidation = null;\r\n    if (phone) {\r\n      phoneValidation = phoneValidationService.validateForUseCase(phone, 'registration');\r\n      if (!phoneValidation.isValid) {\r\n        return res.status(400).json({\r\n          error: 'Invalid phone format',\r\n          message: phoneValidation.error,\r\n          messageBn: phoneValidation.errorBn,\r\n          code: phoneValidation.code\r\n        });\r\n      }\r\n    }\r\n\r\n    // Check if user already exists\r\n    const existingUser = await prisma.user.findFirst({\r\n      where: {\r\n        OR: [\r\n          ...(email ? [{ email }] : []),\r\n          ...(phoneValidation?.isValid ? [{ phone: phoneValidation.normalizedPhone }] : [])\r\n        ]\r\n      }\r\n    });\r\n\r\n    if (existingUser) {\r\n      return res.status(409).json({\r\n        error: 'User already exists',\r\n        message: 'An account with this email or phone number already exists',\r\n        messageBn: 'এই ইমেল বা ফোন নম্বর দিয়ে একাউন্ট বিদ্যমান রয়েছে',\r\n        field: existingUser.email === email ? 'email' : 'phone'\r\n      });\r\n    }\r\n\r\n    // Hash password using password service\r\n    const hashedPassword = await passwordService.hashPassword(password);\r\n\r\n    // Create user with PENDING status\r\n    const user = await prisma.user.create({\r\n      data: {\r\n        email,\r\n        password: hashedPassword,\r\n        firstName,\r\n        lastName,\r\n        phone: phoneValidation?.normalizedPhone || phone,\r\n        role: 'CUSTOMER',\r\n        status: 'PENDING'\r\n      },\r\n      select: {\r\n        id: true,\r\n        email: true,\r\n        firstName: true,\r\n        lastName: true,\r\n        phone: true,\r\n        role: true,\r\n        status: true,\r\n        createdAt: true\r\n      }\r\n    });\r\n\r\n    // Save password to history\r\n    await passwordService.savePasswordToHistory(user.id, hashedPassword);\r\n\r\n    // Handle verification based on what's provided\r\n    if (email) {\r\n      // Email verification flow\r\n      const verificationToken = emailService.generateVerificationToken();\r\n      const expiresAt = new Date(Date.now() + 24 * 60 * 60 * 1000); // 24 hours\r\n\r\n      // Save verification token to database\r\n      await prisma.emailVerificationToken.create({\r\n        data: {\r\n          userId: user.id,\r\n          token: verificationToken,\r\n          expiresAt\r\n        }\r\n      });\r\n\r\n      // Send verification email\r\n      const emailResult = await emailService.sendVerificationEmail(\r\n        email,\r\n        `${firstName} ${lastName}`,\r\n        verificationToken\r\n      );\r\n\r\n      if (!emailResult.success) {\r\n        // If email fails, delete user and token for cleanup\r\n        await prisma.emailVerificationToken.delete({\r\n          where: { userId: user.id }\r\n        });\r\n        await prisma.user.delete({\r\n          where: { id: user.id }\r\n        });\r\n\r\n        return res.status(500).json({\r\n          error: 'Registration failed',\r\n          message: 'Failed to send verification email. Please try again later.',\r\n          messageBn: 'যাচাই ইমেল পাঠানো ব্যর্থ হয়েছে। অনুগ্রহ চেষ্টা করুন।'\r\n        });\r\n      }\r\n\r\n      res.status(201).json({\r\n        message: 'Registration successful. Please check your email to verify your account.',\r\n        messageBn: 'নিবন্ধন সফল। আপনার অ্যাকাউন্ট যাচাই করার জন্য ইমেল চেক করুন।',\r\n        user: {\r\n          id: user.id,\r\n          email: user.email,\r\n          firstName: user.firstName,\r\n          lastName: user.lastName,\r\n          role: user.role,\r\n          status: user.status\r\n        },\r\n        requiresEmailVerification: true\r\n      });\r\n\r\n    } else if (phoneValidation?.isValid) {\r\n      // Phone verification flow\r\n      const otpResult = await otpService.generatePhoneOTP(phoneValidation.normalizedPhone, user.id);\r\n\r\n      if (!otpResult.success) {\r\n        // If OTP fails, delete user for cleanup\r\n        await prisma.user.delete({\r\n          where: { id: user.id }\r\n        });\r\n\r\n        return res.status(500).json({\r\n          error: 'Registration failed',\r\n          message: otpResult.error || 'Failed to send OTP. Please try again later.',\r\n          messageBn: otpResult.errorBn || 'OTP পাঠানো ব্যর্থ হয়েছে। অনুগ্রহ চেষ্টা করুন।'\r\n        });\r\n      }\r\n\r\n      res.status(201).json({\r\n        message: 'Registration successful. Please check your phone for OTP verification.',\r\n        messageBn: 'নিবন্ধন সফল। আপনার ফোনে OTP যাচাই করার জন্য চেক করুন।',\r\n        user: {\r\n          id: user.id,\r\n          phone: user.phone,\r\n          firstName: user.firstName,\r\n          lastName: user.lastName,\r\n          role: user.role,\r\n          status: user.status\r\n        },\r\n        requiresPhoneVerification: true,\r\n        phone: phoneValidation.normalizedPhone,\r\n        operator: phoneValidation.operator,\r\n        operatorDetails: phoneValidation.operatorDetails\r\n      });\r\n\r\n    } else {\r\n      // This should not happen due to earlier validation\r\n      return res.status(500).json({\r\n        error: 'Registration failed',\r\n        message: 'Invalid registration data',\r\n        messageBn: 'অবৈধ নিবন্ধন ডাটা'\r\n      });\r\n    }\r\n\r\n  } catch (error) {\r\n    console.error('Registration error:', error);\r\n    res.status(500).json({\r\n      error: 'Registration failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'নিবন্ধন ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Login endpoint\r\nrouter.post('/login', [\r\n  body('email').isEmail().normalizeEmail(),\r\n  body('password').notEmpty()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { email, password } = req.body;\r\n\r\n    // Find user\r\n    const user = await prisma.user.findUnique({\r\n      where: { email }\r\n    });\r\n\r\n    if (!user || !user.password) {\r\n      return res.status(401).json({\r\n        error: 'Invalid credentials',\r\n        message: 'Invalid email or password',\r\n        messageBn: 'অবৈধ ইমেল বা পাসওয়ার্ড'\r\n      });\r\n    }\r\n\r\n    // Verify password\r\n    const isValidPassword = await bcrypt.compare(password, user.password);\r\n    if (!isValidPassword) {\r\n      return res.status(401).json({\r\n        error: 'Invalid credentials',\r\n        message: 'Invalid email or password',\r\n        messageBn: 'অবৈধ ইমেল বা পাসওয়ার্ড'\r\n      });\r\n    }\r\n\r\n    // Check if email is verified\r\n    if (user.status === 'PENDING') {\r\n      return res.status(403).json({\r\n        error: 'Email not verified',\r\n        message: 'Please verify your email address before logging in',\r\n        messageBn: 'লগিন করার আগে ইমেল যাচাই করুন'\r\n      });\r\n    }\r\n\r\n    // Update last login\r\n    await prisma.user.update({\r\n      where: { id: user.id },\r\n      data: { lastLoginAt: new Date() }\r\n    });\r\n\r\n    // Generate JWT token\r\n    const jwtSecretLogin = process.env.JWT_SECRET;\r\n    if (!jwtSecretLogin) {\r\n      throw new Error('JWT_SECRET environment variable is required');\r\n    }\r\n    \r\n    const token = jwt.sign(\r\n      { userId: user.id, email: user.email, role: user.role },\r\n      jwtSecretLogin,\r\n      { expiresIn: '7d' }\r\n    );\r\n\r\n    res.json({\r\n      message: 'Login successful',\r\n      messageBn: 'লগিন সফল',\r\n      user: {\r\n        id: user.id,\r\n        email: user.email,\r\n        firstName: user.firstName,\r\n        lastName: user.lastName,\r\n        role: user.role,\r\n        status: user.status\r\n      },\r\n      token\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Login error:', error);\r\n    res.status(500).json({\r\n      error: 'Login failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'লগিন ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Logout endpoint\r\nrouter.post('/logout', async (req, res) => {\r\n  try {\r\n    // In a real implementation, you would invalidate token\r\n    // For now, we'll just return success\r\n    res.json({\r\n      message: 'Logout successful',\r\n      messageBn: 'লগআউট সফল'\r\n    });\r\n  } catch (error) {\r\n    console.error('Logout error:', error);\r\n    res.status(500).json({\r\n      error: 'Logout failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'লগআউট ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Refresh token endpoint\r\nrouter.post('/refresh', async (req, res) => {\r\n  try {\r\n    const { token } = req.body;\r\n\r\n    if (!token) {\r\n      return res.status(401).json({\r\n        error: 'Token required',\r\n        messageBn: 'টোকেন প্রয়োজন'\r\n      });\r\n    }\r\n\r\n    // Verify token\r\n    const jwtSecretRefresh = process.env.JWT_SECRET;\r\n    if (!jwtSecretRefresh) {\r\n      throw new Error('JWT_SECRET environment variable is required');\r\n    }\r\n    \r\n    const decoded = jwt.verify(token, jwtSecretRefresh);\r\n    \r\n    // Get user info\r\n    const user = await prisma.user.findUnique({\r\n      where: { id: decoded.userId },\r\n      select: {\r\n        id: true,\r\n        email: true,\r\n        firstName: true,\r\n        lastName: true,\r\n        role: true,\r\n        status: true\r\n      }\r\n    });\r\n\r\n    if (!user) {\r\n      return res.status(401).json({\r\n        error: 'User not found',\r\n        messageBn: 'ব্যবহার্টার পাওয়া যায়নি'\r\n      });\r\n    }\r\n\r\n    // Generate new token\r\n    const jwtSecretNew = process.env.JWT_SECRET;\r\n    if (!jwtSecretNew) {\r\n      throw new Error('JWT_SECRET environment variable is required');\r\n    }\r\n    \r\n    const newToken = jwt.sign(\r\n      { userId: user.id, email: user.email, role: user.role },\r\n      jwtSecretNew,\r\n      { expiresIn: '7d' }\r\n    );\r\n\r\n    res.json({\r\n      message: 'Token refreshed successfully',\r\n      messageBn: 'টোকেন সফল হয়েছে',\r\n      user,\r\n      token: newToken\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Token refresh error:', error);\r\n    res.status(401).json({\r\n      error: 'Invalid token',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Token expired or invalid',\r\n      messageBn: 'টোকেন মেয়াদীপূর্ণ বা অবৈধ'\r\n    });\r\n  }\r\n});\r\n\r\n// Email verification endpoint\r\nrouter.post('/verify-email', [\r\n  body('token').notEmpty().trim()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { token } = req.body;\r\n\r\n    if (!token) {\r\n      return res.status(400).json({\r\n        error: 'Token required',\r\n        message: 'Verification token is required',\r\n        messageBn: 'যাচাই টোকেন প্রয়োজন'\r\n      });\r\n    }\r\n\r\n    // Find verification token\r\n    const verificationToken = await prisma.emailVerificationToken.findUnique({\r\n      where: { token },\r\n      include: {\r\n        user: true\r\n      }\r\n    });\r\n\r\n    if (!verificationToken) {\r\n      return res.status(400).json({\r\n        error: 'Invalid token',\r\n        message: 'Verification token is invalid or has been used',\r\n        messageBn: 'যাচাই টোকেন অবৈধ বা ব্যবহার হয়েছে'\r\n      });\r\n    }\r\n\r\n    // Check if token has expired\r\n    if (verificationToken.expiresAt < new Date()) {\r\n      // Delete expired token\r\n      await prisma.emailVerificationToken.delete({\r\n        where: { id: verificationToken.id }\r\n      });\r\n\r\n      return res.status(400).json({\r\n        error: 'Token expired',\r\n        message: 'Verification token has expired. Please request a new one.',\r\n        messageBn: 'যাচাই টোকেন মেয়াদীপূর্ণ হয়েছে। নতুন একটি অনুরোধ করুন।'\r\n      });\r\n    }\r\n\r\n    // Check if user is already verified\r\n    if (verificationToken.user.emailVerified) {\r\n      return res.status(400).json({\r\n        error: 'Already verified',\r\n        message: 'Email has already been verified',\r\n        messageBn: 'ইমেল আগেই যাচাই হয়েছে'\r\n      });\r\n    }\r\n\r\n    // Update user status and email verification timestamp\r\n    const updatedUser = await prisma.user.update({\r\n      where: { id: verificationToken.userId },\r\n      data: {\r\n        status: 'ACTIVE',\r\n        emailVerified: new Date()\r\n      },\r\n      select: {\r\n        id: true,\r\n        email: true,\r\n        firstName: true,\r\n        lastName: true,\r\n        role: true,\r\n        status: true,\r\n        emailVerified: true\r\n      }\r\n    });\r\n\r\n    // Delete verification token\r\n    await prisma.emailVerificationToken.delete({\r\n      where: { id: verificationToken.id }\r\n    });\r\n\r\n    // Send welcome email\r\n    await emailService.sendWelcomeEmail(\r\n      verificationToken.user.email,\r\n      `${verificationToken.user.firstName} ${verificationToken.user.lastName}`\r\n    );\r\n\r\n    res.json({\r\n      message: 'Email verified successfully',\r\n      messageBn: 'ইমেল সফল যাচাই হয়েছে',\r\n      user: updatedUser\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Email verification error:', error);\r\n    res.status(500).json({\r\n      error: 'Verification failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'যাচাই ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Resend verification email endpoint\r\nrouter.post('/resend-verification', [\r\n  body('email').isEmail().normalizeEmail()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { email } = req.body;\r\n\r\n    // Find user\r\n    const user = await prisma.user.findUnique({\r\n      where: { email },\r\n      include: {\r\n        emailVerificationTokens: {\r\n          where: {\r\n            expiresAt: {\r\n              gt: new Date()\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    if (!user) {\r\n      return res.status(404).json({\r\n        error: 'User not found',\r\n        message: 'No account found with this email address',\r\n        messageBn: 'এই ইমেল ঠিকানা কোনো ব্যবহার্টার পাওয়া যায়নি'\r\n      });\r\n    }\r\n\r\n    // Check if email is already verified\r\n    if (user.emailVerified) {\r\n      return res.status(400).json({\r\n        error: 'Already verified',\r\n        message: 'Email has already been verified',\r\n        messageBn: 'ইমেল আগেই যাচাই হয়েছে'\r\n      });\r\n    }\r\n\r\n    // Check if there's already a recent verification token (within 5 minutes)\r\n    const recentToken = user.emailVerificationTokens[0];\r\n    if (recentToken && (Date.now() - recentToken.createdAt.getTime()) < 5 * 60 * 1000) {\r\n      return res.status(429).json({\r\n        error: 'Too many requests',\r\n        message: 'Please wait before requesting another verification email',\r\n        messageBn: 'অন্য যাচাই ইমেল অনুরোধ করার জন্য অপেক্ষা করুন'\r\n      });\r\n    }\r\n\r\n    // Delete any existing tokens for this user\r\n    await prisma.emailVerificationToken.deleteMany({\r\n      where: { userId: user.id }\r\n    });\r\n\r\n    // Generate new verification token\r\n    const verificationToken = emailService.generateVerificationToken();\r\n    const expiresAt = new Date(Date.now() + 24 * 60 * 60 * 1000); // 24 hours\r\n\r\n    // Save new verification token\r\n    await prisma.emailVerificationToken.create({\r\n      data: {\r\n        userId: user.id,\r\n        token: verificationToken,\r\n        expiresAt\r\n      }\r\n    });\r\n\r\n    // Send verification email\r\n    const emailResult = await emailService.sendVerificationEmail(\r\n      email,\r\n      `${user.firstName} ${user.lastName}`,\r\n      verificationToken\r\n    );\r\n\r\n    if (!emailResult.success) {\r\n      return res.status(500).json({\r\n        error: 'Failed to send email',\r\n        message: 'Unable to send verification email. Please try again later.',\r\n        messageBn: 'যাচাই ইমেল পাঠানো ব্যর্থ হয়েছে। অনুগ্রহ চেষ্টা করুন।'\r\n      });\r\n    }\r\n\r\n    res.json({\r\n      message: 'Verification email sent successfully',\r\n      messageBn: 'যাচাই ইমেল সফল পাঠানো হয়েছে',\r\n      email: email\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Resend verification error:', error);\r\n    res.status(500).json({\r\n      error: 'Failed to resend verification',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'যাচাই পুনরায়া পাঠানো ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Send OTP endpoint\r\nrouter.post('/send-otp', [\r\n  body('phone').notEmpty().trim()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { phone } = req.body;\r\n\r\n    // Validate phone number with enhanced service\r\n    const phoneValidation = phoneValidationService.validateForUseCase(phone, 'otp');\r\n    if (!phoneValidation.isValid) {\r\n      return res.status(400).json({\r\n        error: 'Invalid phone format',\r\n        message: phoneValidation.error,\r\n        messageBn: phoneValidation.errorBn,\r\n        code: phoneValidation.code\r\n      });\r\n    }\r\n\r\n    const normalizedPhone = phoneValidation.normalizedPhone;\r\n\r\n    // Check if phone is already verified\r\n    const isVerified = await otpService.isPhoneVerified(normalizedPhone);\r\n    if (isVerified) {\r\n      return res.status(400).json({\r\n        error: 'Phone already verified',\r\n        message: 'This phone number is already registered and verified',\r\n        messageBn: 'এই ফোন নম্বর আগেই নিবন্ধন ও যাচাই হয়েছে'\r\n      });\r\n    }\r\n\r\n    // Generate and send OTP\r\n    const otpResult = await otpService.generatePhoneOTP(normalizedPhone);\r\n\r\n    if (!otpResult.success) {\r\n      return res.status(400).json({\r\n        error: 'Failed to send OTP',\r\n        message: otpResult.error,\r\n        messageBn: otpResult.errorBn,\r\n        code: otpResult.code\r\n      });\r\n    }\r\n\r\n    res.json({\r\n      message: 'OTP sent successfully',\r\n      messageBn: 'OTP সফল পাঠানো হয়েছে',\r\n      phone: normalizedPhone,\r\n      operator: otpResult.operator,\r\n      operatorDetails: otpResult.operatorDetails,\r\n      expiresAt: otpResult.expiresAt,\r\n      mock: otpResult.mock || false\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Send OTP error:', error);\r\n    res.status(500).json({\r\n      error: 'Failed to send OTP',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'OTP পাঠানো ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Verify OTP endpoint\r\nrouter.post('/verify-otp', [\r\n  body('phone').notEmpty().trim(),\r\n  body('otp').notEmpty().trim().isLength({ min: 6, max: 6 })\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { phone, otp } = req.body;\r\n\r\n    // Validate phone number with enhanced service\r\n    const phoneValidation = phoneValidationService.validateForUseCase(phone, 'otp');\r\n    if (!phoneValidation.isValid) {\r\n      return res.status(400).json({\r\n        error: 'Invalid phone format',\r\n        message: phoneValidation.error,\r\n        messageBn: phoneValidation.errorBn,\r\n        code: phoneValidation.code\r\n      });\r\n    }\r\n\r\n    const normalizedPhone = phoneValidation.normalizedPhone;\r\n\r\n    // Verify OTP\r\n    const verifyResult = await otpService.verifyPhoneOTP(normalizedPhone, otp);\r\n\r\n    if (!verifyResult.success) {\r\n      return res.status(400).json({\r\n        error: 'OTP verification failed',\r\n        message: verifyResult.error,\r\n        messageBn: verifyResult.errorBn,\r\n        code: verifyResult.code\r\n      });\r\n    }\r\n\r\n    // If OTP was for registration, find and update user\r\n    if (verifyResult.userId) {\r\n      const user = await prisma.user.findUnique({\r\n        where: { id: verifyResult.userId },\r\n        select: {\r\n          id: true,\r\n          email: true,\r\n          firstName: true,\r\n          lastName: true,\r\n          phone: true,\r\n          role: true,\r\n          status: true,\r\n          phoneVerified: true\r\n        }\r\n      });\r\n\r\n      if (user) {\r\n        return res.json({\r\n          message: 'Phone verified successfully. Account is now active.',\r\n          messageBn: 'ফোন সফল যাচাই হয়েছে। অ্যাকাউন্ট এখন সক্রিয়।',\r\n          user,\r\n          verifiedAt: verifyResult.verifiedAt\r\n        });\r\n      }\r\n    }\r\n\r\n    res.json({\r\n      message: 'OTP verified successfully',\r\n      messageBn: 'OTP সফল যাচাই হয়েছে',\r\n      phone: normalizedPhone,\r\n      verifiedAt: verifyResult.verifiedAt\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Verify OTP error:', error);\r\n    res.status(500).json({\r\n      error: 'OTP verification failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'OTP যাচাই ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Resend OTP endpoint\r\nrouter.post('/resend-otp', [\r\n  body('phone').notEmpty().trim()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { phone } = req.body;\r\n\r\n    // Validate phone number with enhanced service\r\n    const phoneValidation = phoneValidationService.validateForUseCase(phone, 'otp');\r\n    if (!phoneValidation.isValid) {\r\n      return res.status(400).json({\r\n        error: 'Invalid phone format',\r\n        message: phoneValidation.error,\r\n        messageBn: phoneValidation.errorBn,\r\n        code: phoneValidation.code\r\n      });\r\n    }\r\n\r\n    const normalizedPhone = phoneValidation.normalizedPhone;\r\n\r\n    // Resend OTP\r\n    const resendResult = await otpService.resendPhoneOTP(normalizedPhone);\r\n\r\n    if (!resendResult.success) {\r\n      return res.status(400).json({\r\n        error: 'Failed to resend OTP',\r\n        message: resendResult.error,\r\n        messageBn: resendResult.errorBn,\r\n        code: resendResult.code,\r\n        waitTime: resendResult.waitTime\r\n      });\r\n    }\r\n\r\n    res.json({\r\n      message: 'OTP resent successfully',\r\n      messageBn: 'OTP পুনরায়া পাঠানো হয়েছে',\r\n      phone: normalizedPhone,\r\n      operator: resendResult.operator,\r\n      operatorDetails: resendResult.operatorDetails,\r\n      expiresAt: resendResult.expiresAt,\r\n      mock: resendResult.mock || false\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Resend OTP error:', error);\r\n    res.status(500).json({\r\n      error: 'Failed to resend OTP',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'OTP পুনরায়া ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Change password endpoint\r\nrouter.post('/change-password', [\r\n  authMiddleware,\r\n  body('currentPassword').notEmpty().trim(),\r\n  body('newPassword').isLength({ min: 8, max: 128 }),\r\n  body('confirmPassword').notEmpty().trim()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { currentPassword, newPassword, confirmPassword } = req.body;\r\n    const userId = req.user.id;\r\n\r\n    // Check if new passwords match\r\n    if (newPassword !== confirmPassword) {\r\n      return res.status(400).json({\r\n        error: 'Passwords do not match',\r\n        message: 'New password and confirmation password must be same',\r\n        messageBn: 'নতুন পাসওয়ার্ড একই হবি হতে হবে'\r\n      });\r\n    }\r\n\r\n    // Get user with current password\r\n    const user = await prisma.user.findUnique({\r\n      where: { id: userId },\r\n      select: {\r\n        id: true,\r\n        email: true,\r\n        firstName: true,\r\n        lastName: true,\r\n        phone: true,\r\n        password: true\r\n      }\r\n    });\r\n\r\n    if (!user) {\r\n      return res.status(404).json({\r\n        error: 'User not found',\r\n        message: 'User account not found',\r\n        messageBn: 'ব্যবহার্টার পাওয়া যায়নি'\r\n      });\r\n    }\r\n\r\n    // Verify current password\r\n    const isCurrentPasswordValid = await passwordService.verifyPassword(currentPassword, user.password);\r\n    if (!isCurrentPasswordValid) {\r\n      return res.status(401).json({\r\n        error: 'Invalid current password',\r\n        message: 'The current password you entered is incorrect',\r\n        messageBn: 'আপনি যে পাসওয়ার্ড দিয়েছেন সেটা ভুল'\r\n      });\r\n    }\r\n\r\n    // Check if new password is same as current password\r\n    const isSameAsCurrent = await passwordService.verifyPassword(newPassword, user.password);\r\n    if (isSameAsCurrent) {\r\n      return res.status(400).json({\r\n        error: 'Same password',\r\n        message: 'New password must be different from current password',\r\n        messageBn: 'নতুন পাসওয়ার্ড বর্তমান পাসওয়ার্ড থেকে হতে হবে'\r\n      });\r\n    }\r\n\r\n    // Validate new password strength\r\n    const userInfo = {\r\n      firstName: user.firstName,\r\n      lastName: user.lastName,\r\n      email: user.email,\r\n      phone: user.phone\r\n    };\r\n    const passwordValidation = passwordService.validatePasswordStrength(newPassword, userInfo);\r\n    \r\n    if (!passwordValidation.isValid) {\r\n      return res.status(400).json({\r\n        error: 'Password does not meet requirements',\r\n        message: 'New password is too weak or does not meet security requirements',\r\n        messageBn: 'নতুন পাসওয়ার্ড খুবই বা নিরাপত্তিগিয় পূর্ব',\r\n        details: {\r\n          strength: passwordValidation.strength,\r\n          score: passwordValidation.score,\r\n          feedback: passwordValidation.feedback,\r\n          warnings: passwordValidation.warnings,\r\n          suggestions: passwordValidation.suggestions,\r\n          passwordPolicy: passwordService.getPasswordPolicy()\r\n        }\r\n      });\r\n    }\r\n\r\n    // Check if password has been used before\r\n    const isPasswordReused = await passwordService.isPasswordReused(userId, newPassword);\r\n    if (isPasswordReused) {\r\n      return res.status(400).json({\r\n        error: 'Password already used',\r\n        message: 'You cannot reuse a password that has been used in the last 5 changes',\r\n        messageBn: 'আপনি শেষ 5টি পাসওয়ার্ড পরিবর্তন ব্যবহার করা পাসওয়ার্ড ব্যবহার করতে পারেন'\r\n      });\r\n    }\r\n\r\n    // Hash new password\r\n    const hashedNewPassword = await passwordService.hashPassword(newPassword);\r\n\r\n    // Update user password\r\n    await prisma.user.update({\r\n      where: { id: userId },\r\n      data: { password: hashedNewPassword }\r\n    });\r\n\r\n    // Save new password to history\r\n    await passwordService.savePasswordToHistory(userId, hashedNewPassword);\r\n\r\n    // Log password change (you might want to add proper logging here)\r\n    console.log(`Password changed for user ${userId} at ${new Date().toISOString()}`);\r\n\r\n    res.json({\r\n      message: 'Password changed successfully',\r\n      messageBn: 'পাসওয়ার্ড সফল হয়েছে',\r\n      timestamp: new Date().toISOString()\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Change password error:', error);\r\n    res.status(500).json({\r\n      error: 'Password change failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'পাসওয়ার্ড পরিবর্তন ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Request password reset endpoint\r\nrouter.post('/forgot-password', [\r\n  body('email').isEmail().normalizeEmail()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { email } = req.body;\r\n\r\n    // Find user\r\n    const user = await prisma.user.findUnique({\r\n      where: { email }\r\n    });\r\n\r\n    if (!user) {\r\n      // Don't reveal if user exists or not for security\r\n      return res.json({\r\n        message: 'If an account with that email exists, a password reset link has been sent',\r\n        messageBn: 'যদি এই ইমেল ঠিকানা কোনো অ্যাকাউন্ট থাকলে, একটি পাসওয়ার্ড রিসেট লিঙ্ক পাঠানো হয়েছে'\r\n      });\r\n    }\r\n\r\n    // Generate reset token (you might want to use a separate token service)\r\n    const resetToken = emailService.generateVerificationToken();\r\n    const expiresAt = new Date(Date.now() + 1 * 60 * 60 * 1000); // 1 hour\r\n\r\n    // Save reset token (using email verification token table for simplicity)\r\n    await prisma.emailVerificationToken.create({\r\n      data: {\r\n        userId: user.id,\r\n        token: resetToken,\r\n        expiresAt\r\n      }\r\n    });\r\n\r\n    // Generate temporary strong password\r\n    const temporaryPassword = passwordService.generateStrongPassword(12);\r\n    const hashedTempPassword = await passwordService.hashPassword(temporaryPassword);\r\n\r\n    // Update user with temporary password\r\n    await prisma.user.update({\r\n      where: { id: user.id },\r\n      data: { password: hashedTempPassword }\r\n    });\r\n\r\n    // Save temporary password to history\r\n    await passwordService.savePasswordToHistory(user.id, hashedTempPassword);\r\n\r\n    // Send reset email with temporary password\r\n    const emailResult = await emailService.sendPasswordResetEmail(\r\n      email,\r\n      `${user.firstName} ${user.lastName}`,\r\n      temporaryPassword,\r\n      resetToken\r\n    );\r\n\r\n    if (!emailResult.success) {\r\n      return res.status(500).json({\r\n        error: 'Failed to send reset email',\r\n        message: 'Unable to send password reset email. Please try again later.',\r\n        messageBn: 'পাসওয়ার্ড রিসেট ইমেল পাঠানো ব্যর্থ হয়েছে। অনুগ্রহ চেষ্টা করুন।'\r\n      });\r\n    }\r\n\r\n    res.json({\r\n      message: 'Password reset email sent successfully',\r\n      messageBn: 'পাসওয়ার্ড রিসেট ইমেল সফল পাঠানো হয়েছে',\r\n      email: email\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Forgot password error:', error);\r\n    res.status(500).json({\r\n      error: 'Password reset failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'পাসওয়ার্ড রিসেট ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Reset password endpoint (with token)\r\nrouter.post('/reset-password', [\r\n  body('token').notEmpty().trim(),\r\n  body('newPassword').isLength({ min: 8, max: 128 }),\r\n  body('confirmPassword').notEmpty().trim()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { token, newPassword, confirmPassword } = req.body;\r\n\r\n    // Check if new passwords match\r\n    if (newPassword !== confirmPassword) {\r\n      return res.status(400).json({\r\n        error: 'Passwords do not match',\r\n        message: 'New password and confirmation password must be same',\r\n        messageBn: 'নতুন পাসওয়ার্ড একই হবি হতে হবে'\r\n      });\r\n    }\r\n\r\n    // Find reset token\r\n    const resetToken = await prisma.emailVerificationToken.findUnique({\r\n      where: { token },\r\n      include: {\r\n        user: true\r\n      }\r\n    });\r\n\r\n    if (!resetToken) {\r\n      return res.status(400).json({\r\n        error: 'Invalid token',\r\n        message: 'Password reset token is invalid or has been used',\r\n        messageBn: 'পাসওয়ার্ড রিসেট টোকেন অবৈধ বা ব্যবহার হয়েছে'\r\n      });\r\n    }\r\n\r\n    // Check if token has expired\r\n    if (resetToken.expiresAt < new Date()) {\r\n      // Delete expired token\r\n      await prisma.emailVerificationToken.delete({\r\n        where: { id: resetToken.id }\r\n      });\r\n\r\n      return res.status(400).json({\r\n        error: 'Token expired',\r\n        message: 'Password reset token has expired. Please request a new one.',\r\n        messageBn: 'পাসওয়ার্ড রিসেট টোকেন মেয়াদীপূর্ণ হয়েছে। নতুন একটি অনুরোধ করুন।'\r\n      });\r\n    }\r\n\r\n    // Validate new password strength\r\n    const userInfo = {\r\n      firstName: resetToken.user.firstName,\r\n      lastName: resetToken.user.lastName,\r\n      email: resetToken.user.email,\r\n      phone: resetToken.user.phone\r\n    };\r\n    const passwordValidation = passwordService.validatePasswordStrength(newPassword, userInfo);\r\n    \r\n    if (!passwordValidation.isValid) {\r\n      return res.status(400).json({\r\n        error: 'Password does not meet requirements',\r\n        message: 'New password is too weak or does not meet security requirements',\r\n        messageBn: 'নতুন পাসওয়ার্ড খুবই বা নিরাপত্তিগিয় পূর্ব',\r\n        details: {\r\n          strength: passwordValidation.strength,\r\n          score: passwordValidation.score,\r\n          feedback: passwordValidation.feedback,\r\n          warnings: passwordValidation.warnings,\r\n          suggestions: passwordValidation.suggestions,\r\n          passwordPolicy: passwordService.getPasswordPolicy()\r\n        }\r\n      });\r\n    }\r\n\r\n    // Check if password has been used before\r\n    const isPasswordReused = await passwordService.isPasswordReused(resetToken.userId, newPassword);\r\n    if (isPasswordReused) {\r\n      return res.status(400).json({\r\n        error: 'Password already used',\r\n        message: 'You cannot reuse a password that has been used in the last 5 changes',\r\n        messageBn: 'আপনি শেষ 5টি পাসওয়ার্ড পরিবর্তন ব্যবহার করা পাসওয়ার্ড ব্যবহার করতে পারেন'\r\n      });\r\n    }\r\n\r\n    // Hash new password\r\n    const hashedNewPassword = await passwordService.hashPassword(newPassword);\r\n\r\n    // Update user password\r\n    await prisma.user.update({\r\n      where: { id: resetToken.userId },\r\n      data: { password: hashedNewPassword }\r\n    });\r\n\r\n    // Save new password to history\r\n    await passwordService.savePasswordToHistory(resetToken.userId, hashedNewPassword);\r\n\r\n    // Delete reset token\r\n    await prisma.emailVerificationToken.delete({\r\n      where: { id: resetToken.id }\r\n    });\r\n\r\n    // Update user status to active if pending\r\n    if (resetToken.user.status === 'PENDING') {\r\n      await prisma.user.update({\r\n        where: { id: resetToken.userId },\r\n        data: { status: 'ACTIVE' }\r\n      });\r\n    }\r\n\r\n    // Log password reset\r\n    console.log(`Password reset for user ${resetToken.userId} at ${new Date().toISOString()}`);\r\n\r\n    res.json({\r\n      message: 'Password reset successfully',\r\n      messageBn: 'পাসওয়ার্ড সফল হয়েছে',\r\n      timestamp: new Date().toISOString()\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Reset password error:', error);\r\n    res.status(500).json({\r\n      error: 'Password reset failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'পাসওয়ার্ড রিসেট ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Get password policy endpoint\r\nrouter.get('/password-policy', async (req, res) => {\r\n  try {\r\n    const policy = passwordService.getPasswordPolicy();\r\n    \r\n    res.json({\r\n      policy,\r\n      message: 'Current password policy requirements',\r\n      messageBn: 'বর্তমান পাসওয়ার্ড নীতিমালা'\r\n    });\r\n  } catch (error) {\r\n    console.error('Get password policy error:', error);\r\n    res.status(500).json({\r\n      error: 'Failed to get password policy',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'পাসওয়ার্ড নীতিমালা পাওতে ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Get phone validation info endpoint\r\nrouter.post('/validate-phone', [\r\n  body('phone').notEmpty().trim()\r\n], handleValidationErrors, async (req, res) => {\r\n  try {\r\n    const { phone } = req.body;\r\n\r\n    const validation = phoneValidationService.validateBangladeshPhoneNumber(phone);\r\n\r\n    res.json({\r\n      validation,\r\n      message: validation.isValid ? 'Valid phone number' : 'Invalid phone number',\r\n      messageBn: validation.isValid ? 'বৈধ ফোন নম্বর' : 'অবৈধ ফোন নম্বর'\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Phone validation error:', error);\r\n    res.status(500).json({\r\n      error: 'Validation failed',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'যাচাই ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\n// Get supported operators endpoint\r\nrouter.get('/operators', async (req, res) => {\r\n  try {\r\n    const operators = phoneValidationService.getSupportedOperators();\r\n\r\n    res.json({\r\n      operators,\r\n      message: 'Supported mobile operators',\r\n      messageBn: 'সমর্থিত মোবাইল অপারেটর'\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Get operators error:', error);\r\n    res.status(500).json({\r\n      error: 'Failed to get operators',\r\n      message: process.env.NODE_ENV === 'development' ? error.message : 'Internal server error',\r\n      messageBn: 'অপারেটর পাওতে ব্যর্থ হয়েছে'\r\n    });\r\n  }\r\n});\r\n\r\nmodule.exports = router;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}