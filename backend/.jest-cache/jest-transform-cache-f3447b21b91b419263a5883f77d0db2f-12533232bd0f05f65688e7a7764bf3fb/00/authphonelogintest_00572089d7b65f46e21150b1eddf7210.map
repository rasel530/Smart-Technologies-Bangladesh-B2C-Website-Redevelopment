{"version":3,"names":["_getJestObj","mock","configService","getSecurityConfig","bcryptRounds","passwordMinLength","passwordMaxLength","getPasswordPolicyConfig","minStrengthScore","jest","require","request","express","PrismaClient","bcrypt","jwt","authRoutes","emailService","phoneValidationService","passwordService","app","use","json","describe","prisma","testUser","beforeAll","hashedPassword","hash","user","create","data","email","phone","password","firstName","lastName","role","status","afterAll","delete","where","id","$disconnect","beforeEach","clearAllMocks","it","response","post","send","identifier","expect","toBe","body","message","loginType","token","toBeDefined","error","validateEmail","mockReturnValue","validateForUseCase","isValid","normalizedPhone","type","operator","canLogin","errorBn","code","pendingUser","requiresVerification","verificationType","decoded","verify","process","env","JWT_SECRET","userId"],"sources":["auth-phone-login.test.js"],"sourcesContent":["const request = require('supertest');\r\nconst express = require('express');\r\nconst { PrismaClient } = require('@prisma/client');\r\nconst bcrypt = require('bcryptjs');\r\nconst jwt = require('jsonwebtoken');\r\n\r\n// Mock services\r\njest.mock('../services/emailService');\r\njest.mock('../services/phoneValidationService');\r\njest.mock('../services/passwordService');\r\njest.mock('../services/config', () => ({\r\n  configService: {\r\n    getSecurityConfig: () => ({\r\n      bcryptRounds: 12,\r\n      passwordMinLength: 8,\r\n      passwordMaxLength: 128\r\n    }),\r\n    getPasswordPolicyConfig: () => ({\r\n      bcryptRounds: 12,\r\n      passwordMinLength: 8,\r\n      passwordMaxLength: 128,\r\n      minStrengthScore: 2\r\n    })\r\n  }\r\n}));\r\n\r\nconst authRoutes = require('../routes/auth');\r\nconst { emailService } = require('../services/emailService');\r\nconst { phoneValidationService } = require('../services/phoneValidationService');\r\nconst { passwordService } = require('../services/passwordService');\r\n\r\nconst app = express();\r\napp.use(express.json());\r\napp.use('/auth', authRoutes);\r\n\r\ndescribe('Auth Phone Login Tests', () => {\r\n  let prisma;\r\n  let testUser;\r\n\r\n  beforeAll(async () => {\r\n    prisma = new PrismaClient();\r\n    \r\n    // Create a test user with both email and phone\r\n    const hashedPassword = await bcrypt.hash('TestPassword123!', 10);\r\n    testUser = await prisma.user.create({\r\n      data: {\r\n        email: 'test@example.com',\r\n        phone: '+8801712345678',\r\n        password: hashedPassword,\r\n        firstName: 'Test',\r\n        lastName: 'User',\r\n        role: 'CUSTOMER',\r\n        status: 'ACTIVE'\r\n      }\r\n    });\r\n  });\r\n\r\n  afterAll(async () => {\r\n    // Clean up test data\r\n    if (testUser) {\r\n      await prisma.user.delete({\r\n        where: { id: testUser.id }\r\n      });\r\n    }\r\n    await prisma.$disconnect();\r\n  });\r\n\r\n  beforeEach(() => {\r\n    jest.clearAllMocks();\r\n  });\r\n\r\n  describe('POST /auth/login', () => {\r\n    describe('Email Login', () => {\r\n      it('should login successfully with valid email and password', async () => {\r\n        const response = await request(app)\r\n          .post('/auth/login')\r\n          .send({\r\n            identifier: 'test@example.com',\r\n            password: 'TestPassword123!'\r\n          });\r\n\r\n        expect(response.status).toBe(200);\r\n        expect(response.body.message).toBe('Login successful');\r\n        expect(response.body.user.email).toBe('test@example.com');\r\n        expect(response.body.loginType).toBe('email');\r\n        expect(response.body.token).toBeDefined();\r\n      });\r\n\r\n      it('should reject login with invalid email', async () => {\r\n        const response = await request(app)\r\n          .post('/auth/login')\r\n          .send({\r\n            identifier: 'invalid@example.com',\r\n            password: 'TestPassword123!'\r\n          });\r\n\r\n        expect(response.status).toBe(401);\r\n        expect(response.body.error).toBe('Invalid credentials');\r\n      });\r\n\r\n      it('should reject login with invalid email format', async () => {\r\n        emailService.validateEmail.mockReturnValue(false);\r\n        \r\n        const response = await request(app)\r\n          .post('/auth/login')\r\n          .send({\r\n            identifier: 'invalid-email',\r\n            password: 'TestPassword123!'\r\n          });\r\n\r\n        expect(response.status).toBe(400);\r\n        expect(response.body.error).toBe('Invalid email format');\r\n      });\r\n    });\r\n\r\n    describe('Phone Login', () => {\r\n      it('should login successfully with valid phone and password', async () => {\r\n        phoneValidationService.validateForUseCase.mockReturnValue({\r\n          isValid: true,\r\n          normalizedPhone: '+8801712345678',\r\n          type: 'mobile',\r\n          operator: 'Grameenphone',\r\n          canLogin: true\r\n        });\r\n\r\n        const response = await request(app)\r\n          .post('/auth/login')\r\n          .send({\r\n            identifier: '01712345678',\r\n            password: 'TestPassword123!'\r\n          });\r\n\r\n        expect(response.status).toBe(200);\r\n        expect(response.body.message).toBe('Login successful');\r\n        expect(response.body.user.phone).toBe('+8801712345678');\r\n        expect(response.body.loginType).toBe('phone');\r\n        expect(response.body.token).toBeDefined();\r\n      });\r\n\r\n      it('should reject login with invalid phone format', async () => {\r\n        phoneValidationService.validateForUseCase.mockReturnValue({\r\n          isValid: false,\r\n          error: 'Invalid phone format',\r\n          errorBn: 'অবৈধ ফোন ফরম্যাট',\r\n          code: 'INVALID_FORMAT'\r\n        });\r\n\r\n        const response = await request(app)\r\n          .post('/auth/login')\r\n          .send({\r\n            identifier: '12345',\r\n            password: 'TestPassword123!'\r\n          });\r\n\r\n        expect(response.status).toBe(400);\r\n        expect(response.body.error).toBe('Invalid phone format');\r\n      });\r\n\r\n      it('should reject login with non-mobile phone', async () => {\r\n        phoneValidationService.validateForUseCase.mockReturnValue({\r\n          isValid: false,\r\n          error: 'Only mobile numbers can be used for login',\r\n          errorBn: 'শুধুমাত্রমাত্র মোবাইল নম্বর দিয়ে লগিন করা যায়',\r\n          code: 'MOBILE_ONLY'\r\n        });\r\n\r\n        const response = await request(app)\r\n          .post('/auth/login')\r\n          .send({\r\n            identifier: '0212345678', // Landline\r\n            password: 'TestPassword123!'\r\n          });\r\n\r\n        expect(response.status).toBe(400);\r\n        expect(response.body.error).toBe('Invalid phone format');\r\n      });\r\n    });\r\n\r\n    describe('Password Validation', () => {\r\n      it('should reject login with wrong password', async () => {\r\n        const response = await request(app)\r\n          .post('/auth/login')\r\n          .send({\r\n            identifier: 'test@example.com',\r\n            password: 'WrongPassword123!'\r\n          });\r\n\r\n        expect(response.status).toBe(401);\r\n        expect(response.body.error).toBe('Invalid credentials');\r\n      });\r\n    });\r\n\r\n    describe('User Status Validation', () => {\r\n      it('should reject login for pending user', async () => {\r\n        // Create a pending user\r\n        const pendingUser = await prisma.user.create({\r\n          data: {\r\n            email: 'pending@example.com',\r\n            password: await bcrypt.hash('TestPassword123!', 10),\r\n            firstName: 'Pending',\r\n            lastName: 'User',\r\n            role: 'CUSTOMER',\r\n            status: 'PENDING'\r\n          }\r\n        });\r\n\r\n        const response = await request(app)\r\n          .post('/auth/login')\r\n          .send({\r\n            identifier: 'pending@example.com',\r\n            password: 'TestPassword123!'\r\n          });\r\n\r\n        expect(response.status).toBe(403);\r\n        expect(response.body.error).toBe('Account not verified');\r\n        expect(response.body.requiresVerification).toBe(true);\r\n        expect(response.body.verificationType).toBe('email');\r\n\r\n        // Clean up\r\n        await prisma.user.delete({\r\n          where: { id: pendingUser.id }\r\n        });\r\n      });\r\n    });\r\n\r\n    describe('Input Validation', () => {\r\n      it('should reject login with missing identifier', async () => {\r\n        const response = await request(app)\r\n          .post('/auth/login')\r\n          .send({\r\n            password: 'TestPassword123!'\r\n          });\r\n\r\n        expect(response.status).toBe(400);\r\n        expect(response.body.error).toBe('Validation failed');\r\n      });\r\n\r\n      it('should reject login with missing password', async () => {\r\n        const response = await request(app)\r\n          .post('/auth/login')\r\n          .send({\r\n            identifier: 'test@example.com'\r\n          });\r\n\r\n        expect(response.status).toBe(400);\r\n        expect(response.body.error).toBe('Validation failed');\r\n      });\r\n\r\n      it('should reject login with empty identifier', async () => {\r\n        const response = await request(app)\r\n          .post('/auth/login')\r\n          .send({\r\n            identifier: '',\r\n            password: 'TestPassword123!'\r\n          });\r\n\r\n        expect(response.status).toBe(400);\r\n        expect(response.body.error).toBe('Validation failed');\r\n      });\r\n    });\r\n\r\n    describe('JWT Token Generation', () => {\r\n      it('should generate valid JWT token', async () => {\r\n        const response = await request(app)\r\n          .post('/auth/login')\r\n          .send({\r\n            identifier: 'test@example.com',\r\n            password: 'TestPassword123!'\r\n          });\r\n\r\n        expect(response.status).toBe(200);\r\n        expect(response.body.token).toBeDefined();\r\n\r\n        // Verify token\r\n        const decoded = jwt.verify(response.body.token, process.env.JWT_SECRET || 'test-secret');\r\n        expect(decoded.userId).toBe(testUser.id);\r\n        expect(decoded.email).toBe(testUser.email);\r\n        expect(decoded.role).toBe(testUser.role);\r\n      });\r\n    });\r\n  });\r\n});"],"mappings":"AAMA;AACAA,WAAA,GAAKC,IAAI,CAAC,0BAA0B,CAAC;AACrCD,WAAA,GAAKC,IAAI,CAAC,oCAAoC,CAAC;AAC/CD,WAAA,GAAKC,IAAI,CAAC,6BAA6B,CAAC;AACxCD,WAAA,GAAKC,IAAI,CAAC,oBAAoB,EAAE,OAAO;EACrCC,aAAa,EAAE;IACbC,iBAAiB,EAAEA,CAAA,MAAO;MACxBC,YAAY,EAAE,EAAE;MAChBC,iBAAiB,EAAE,CAAC;MACpBC,iBAAiB,EAAE;IACrB,CAAC,CAAC;IACFC,uBAAuB,EAAEA,CAAA,MAAO;MAC9BH,YAAY,EAAE,EAAE;MAChBC,iBAAiB,EAAE,CAAC;MACpBC,iBAAiB,EAAE,GAAG;MACtBE,gBAAgB,EAAE;IACpB,CAAC;EACH;AACF,CAAC,CAAC,CAAC;AAAC,SAAAR,YAAA;EAAA;IAAAS;EAAA,IAAAC,OAAA;EAAAV,WAAA,GAAAA,CAAA,KAAAS,IAAA;EAAA,OAAAA,IAAA;AAAA;AAxBJ,MAAME,OAAO,GAAGD,OAAO,CAAC,WAAW,CAAC;AACpC,MAAME,OAAO,GAAGF,OAAO,CAAC,SAAS,CAAC;AAClC,MAAM;EAAEG;AAAa,CAAC,GAAGH,OAAO,CAAC,gBAAgB,CAAC;AAClD,MAAMI,MAAM,GAAGJ,OAAO,CAAC,UAAU,CAAC;AAClC,MAAMK,GAAG,GAAGL,OAAO,CAAC,cAAc,CAAC;AAsBnC,MAAMM,UAAU,GAAGN,OAAO,CAAC,gBAAgB,CAAC;AAC5C,MAAM;EAAEO;AAAa,CAAC,GAAGP,OAAO,CAAC,0BAA0B,CAAC;AAC5D,MAAM;EAAEQ;AAAuB,CAAC,GAAGR,OAAO,CAAC,oCAAoC,CAAC;AAChF,MAAM;EAAES;AAAgB,CAAC,GAAGT,OAAO,CAAC,6BAA6B,CAAC;AAElE,MAAMU,GAAG,GAAGR,OAAO,CAAC,CAAC;AACrBQ,GAAG,CAACC,GAAG,CAACT,OAAO,CAACU,IAAI,CAAC,CAAC,CAAC;AACvBF,GAAG,CAACC,GAAG,CAAC,OAAO,EAAEL,UAAU,CAAC;AAE5BO,QAAQ,CAAC,wBAAwB,EAAE,MAAM;EACvC,IAAIC,MAAM;EACV,IAAIC,QAAQ;EAEZC,SAAS,CAAC,YAAY;IACpBF,MAAM,GAAG,IAAIX,YAAY,CAAC,CAAC;;IAE3B;IACA,MAAMc,cAAc,GAAG,MAAMb,MAAM,CAACc,IAAI,CAAC,kBAAkB,EAAE,EAAE,CAAC;IAChEH,QAAQ,GAAG,MAAMD,MAAM,CAACK,IAAI,CAACC,MAAM,CAAC;MAClCC,IAAI,EAAE;QACJC,KAAK,EAAE,kBAAkB;QACzBC,KAAK,EAAE,gBAAgB;QACvBC,QAAQ,EAAEP,cAAc;QACxBQ,SAAS,EAAE,MAAM;QACjBC,QAAQ,EAAE,MAAM;QAChBC,IAAI,EAAE,UAAU;QAChBC,MAAM,EAAE;MACV;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;EAEFC,QAAQ,CAAC,YAAY;IACnB;IACA,IAAId,QAAQ,EAAE;MACZ,MAAMD,MAAM,CAACK,IAAI,CAACW,MAAM,CAAC;QACvBC,KAAK,EAAE;UAAEC,EAAE,EAAEjB,QAAQ,CAACiB;QAAG;MAC3B,CAAC,CAAC;IACJ;IACA,MAAMlB,MAAM,CAACmB,WAAW,CAAC,CAAC;EAC5B,CAAC,CAAC;EAEFC,UAAU,CAAC,MAAM;IACfnC,IAAI,CAACoC,aAAa,CAAC,CAAC;EACtB,CAAC,CAAC;EAEFtB,QAAQ,CAAC,kBAAkB,EAAE,MAAM;IACjCA,QAAQ,CAAC,aAAa,EAAE,MAAM;MAC5BuB,EAAE,CAAC,yDAAyD,EAAE,YAAY;QACxE,MAAMC,QAAQ,GAAG,MAAMpC,OAAO,CAACS,GAAG,CAAC,CAChC4B,IAAI,CAAC,aAAa,CAAC,CACnBC,IAAI,CAAC;UACJC,UAAU,EAAE,kBAAkB;UAC9BhB,QAAQ,EAAE;QACZ,CAAC,CAAC;QAEJiB,MAAM,CAACJ,QAAQ,CAACT,MAAM,CAAC,CAACc,IAAI,CAAC,GAAG,CAAC;QACjCD,MAAM,CAACJ,QAAQ,CAACM,IAAI,CAACC,OAAO,CAAC,CAACF,IAAI,CAAC,kBAAkB,CAAC;QACtDD,MAAM,CAACJ,QAAQ,CAACM,IAAI,CAACxB,IAAI,CAACG,KAAK,CAAC,CAACoB,IAAI,CAAC,kBAAkB,CAAC;QACzDD,MAAM,CAACJ,QAAQ,CAACM,IAAI,CAACE,SAAS,CAAC,CAACH,IAAI,CAAC,OAAO,CAAC;QAC7CD,MAAM,CAACJ,QAAQ,CAACM,IAAI,CAACG,KAAK,CAAC,CAACC,WAAW,CAAC,CAAC;MAC3C,CAAC,CAAC;MAEFX,EAAE,CAAC,wCAAwC,EAAE,YAAY;QACvD,MAAMC,QAAQ,GAAG,MAAMpC,OAAO,CAACS,GAAG,CAAC,CAChC4B,IAAI,CAAC,aAAa,CAAC,CACnBC,IAAI,CAAC;UACJC,UAAU,EAAE,qBAAqB;UACjChB,QAAQ,EAAE;QACZ,CAAC,CAAC;QAEJiB,MAAM,CAACJ,QAAQ,CAACT,MAAM,CAAC,CAACc,IAAI,CAAC,GAAG,CAAC;QACjCD,MAAM,CAACJ,QAAQ,CAACM,IAAI,CAACK,KAAK,CAAC,CAACN,IAAI,CAAC,qBAAqB,CAAC;MACzD,CAAC,CAAC;MAEFN,EAAE,CAAC,+CAA+C,EAAE,YAAY;QAC9D7B,YAAY,CAAC0C,aAAa,CAACC,eAAe,CAAC,KAAK,CAAC;QAEjD,MAAMb,QAAQ,GAAG,MAAMpC,OAAO,CAACS,GAAG,CAAC,CAChC4B,IAAI,CAAC,aAAa,CAAC,CACnBC,IAAI,CAAC;UACJC,UAAU,EAAE,eAAe;UAC3BhB,QAAQ,EAAE;QACZ,CAAC,CAAC;QAEJiB,MAAM,CAACJ,QAAQ,CAACT,MAAM,CAAC,CAACc,IAAI,CAAC,GAAG,CAAC;QACjCD,MAAM,CAACJ,QAAQ,CAACM,IAAI,CAACK,KAAK,CAAC,CAACN,IAAI,CAAC,sBAAsB,CAAC;MAC1D,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF7B,QAAQ,CAAC,aAAa,EAAE,MAAM;MAC5BuB,EAAE,CAAC,yDAAyD,EAAE,YAAY;QACxE5B,sBAAsB,CAAC2C,kBAAkB,CAACD,eAAe,CAAC;UACxDE,OAAO,EAAE,IAAI;UACbC,eAAe,EAAE,gBAAgB;UACjCC,IAAI,EAAE,QAAQ;UACdC,QAAQ,EAAE,cAAc;UACxBC,QAAQ,EAAE;QACZ,CAAC,CAAC;QAEF,MAAMnB,QAAQ,GAAG,MAAMpC,OAAO,CAACS,GAAG,CAAC,CAChC4B,IAAI,CAAC,aAAa,CAAC,CACnBC,IAAI,CAAC;UACJC,UAAU,EAAE,aAAa;UACzBhB,QAAQ,EAAE;QACZ,CAAC,CAAC;QAEJiB,MAAM,CAACJ,QAAQ,CAACT,MAAM,CAAC,CAACc,IAAI,CAAC,GAAG,CAAC;QACjCD,MAAM,CAACJ,QAAQ,CAACM,IAAI,CAACC,OAAO,CAAC,CAACF,IAAI,CAAC,kBAAkB,CAAC;QACtDD,MAAM,CAACJ,QAAQ,CAACM,IAAI,CAACxB,IAAI,CAACI,KAAK,CAAC,CAACmB,IAAI,CAAC,gBAAgB,CAAC;QACvDD,MAAM,CAACJ,QAAQ,CAACM,IAAI,CAACE,SAAS,CAAC,CAACH,IAAI,CAAC,OAAO,CAAC;QAC7CD,MAAM,CAACJ,QAAQ,CAACM,IAAI,CAACG,KAAK,CAAC,CAACC,WAAW,CAAC,CAAC;MAC3C,CAAC,CAAC;MAEFX,EAAE,CAAC,+CAA+C,EAAE,YAAY;QAC9D5B,sBAAsB,CAAC2C,kBAAkB,CAACD,eAAe,CAAC;UACxDE,OAAO,EAAE,KAAK;UACdJ,KAAK,EAAE,sBAAsB;UAC7BS,OAAO,EAAE,kBAAkB;UAC3BC,IAAI,EAAE;QACR,CAAC,CAAC;QAEF,MAAMrB,QAAQ,GAAG,MAAMpC,OAAO,CAACS,GAAG,CAAC,CAChC4B,IAAI,CAAC,aAAa,CAAC,CACnBC,IAAI,CAAC;UACJC,UAAU,EAAE,OAAO;UACnBhB,QAAQ,EAAE;QACZ,CAAC,CAAC;QAEJiB,MAAM,CAACJ,QAAQ,CAACT,MAAM,CAAC,CAACc,IAAI,CAAC,GAAG,CAAC;QACjCD,MAAM,CAACJ,QAAQ,CAACM,IAAI,CAACK,KAAK,CAAC,CAACN,IAAI,CAAC,sBAAsB,CAAC;MAC1D,CAAC,CAAC;MAEFN,EAAE,CAAC,2CAA2C,EAAE,YAAY;QAC1D5B,sBAAsB,CAAC2C,kBAAkB,CAACD,eAAe,CAAC;UACxDE,OAAO,EAAE,KAAK;UACdJ,KAAK,EAAE,2CAA2C;UAClDS,OAAO,EAAE,iDAAiD;UAC1DC,IAAI,EAAE;QACR,CAAC,CAAC;QAEF,MAAMrB,QAAQ,GAAG,MAAMpC,OAAO,CAACS,GAAG,CAAC,CAChC4B,IAAI,CAAC,aAAa,CAAC,CACnBC,IAAI,CAAC;UACJC,UAAU,EAAE,YAAY;UAAE;UAC1BhB,QAAQ,EAAE;QACZ,CAAC,CAAC;QAEJiB,MAAM,CAACJ,QAAQ,CAACT,MAAM,CAAC,CAACc,IAAI,CAAC,GAAG,CAAC;QACjCD,MAAM,CAACJ,QAAQ,CAACM,IAAI,CAACK,KAAK,CAAC,CAACN,IAAI,CAAC,sBAAsB,CAAC;MAC1D,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF7B,QAAQ,CAAC,qBAAqB,EAAE,MAAM;MACpCuB,EAAE,CAAC,yCAAyC,EAAE,YAAY;QACxD,MAAMC,QAAQ,GAAG,MAAMpC,OAAO,CAACS,GAAG,CAAC,CAChC4B,IAAI,CAAC,aAAa,CAAC,CACnBC,IAAI,CAAC;UACJC,UAAU,EAAE,kBAAkB;UAC9BhB,QAAQ,EAAE;QACZ,CAAC,CAAC;QAEJiB,MAAM,CAACJ,QAAQ,CAACT,MAAM,CAAC,CAACc,IAAI,CAAC,GAAG,CAAC;QACjCD,MAAM,CAACJ,QAAQ,CAACM,IAAI,CAACK,KAAK,CAAC,CAACN,IAAI,CAAC,qBAAqB,CAAC;MACzD,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF7B,QAAQ,CAAC,wBAAwB,EAAE,MAAM;MACvCuB,EAAE,CAAC,sCAAsC,EAAE,YAAY;QACrD;QACA,MAAMuB,WAAW,GAAG,MAAM7C,MAAM,CAACK,IAAI,CAACC,MAAM,CAAC;UAC3CC,IAAI,EAAE;YACJC,KAAK,EAAE,qBAAqB;YAC5BE,QAAQ,EAAE,MAAMpB,MAAM,CAACc,IAAI,CAAC,kBAAkB,EAAE,EAAE,CAAC;YACnDO,SAAS,EAAE,SAAS;YACpBC,QAAQ,EAAE,MAAM;YAChBC,IAAI,EAAE,UAAU;YAChBC,MAAM,EAAE;UACV;QACF,CAAC,CAAC;QAEF,MAAMS,QAAQ,GAAG,MAAMpC,OAAO,CAACS,GAAG,CAAC,CAChC4B,IAAI,CAAC,aAAa,CAAC,CACnBC,IAAI,CAAC;UACJC,UAAU,EAAE,qBAAqB;UACjChB,QAAQ,EAAE;QACZ,CAAC,CAAC;QAEJiB,MAAM,CAACJ,QAAQ,CAACT,MAAM,CAAC,CAACc,IAAI,CAAC,GAAG,CAAC;QACjCD,MAAM,CAACJ,QAAQ,CAACM,IAAI,CAACK,KAAK,CAAC,CAACN,IAAI,CAAC,sBAAsB,CAAC;QACxDD,MAAM,CAACJ,QAAQ,CAACM,IAAI,CAACiB,oBAAoB,CAAC,CAAClB,IAAI,CAAC,IAAI,CAAC;QACrDD,MAAM,CAACJ,QAAQ,CAACM,IAAI,CAACkB,gBAAgB,CAAC,CAACnB,IAAI,CAAC,OAAO,CAAC;;QAEpD;QACA,MAAM5B,MAAM,CAACK,IAAI,CAACW,MAAM,CAAC;UACvBC,KAAK,EAAE;YAAEC,EAAE,EAAE2B,WAAW,CAAC3B;UAAG;QAC9B,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC,CAAC;IAEFnB,QAAQ,CAAC,kBAAkB,EAAE,MAAM;MACjCuB,EAAE,CAAC,6CAA6C,EAAE,YAAY;QAC5D,MAAMC,QAAQ,GAAG,MAAMpC,OAAO,CAACS,GAAG,CAAC,CAChC4B,IAAI,CAAC,aAAa,CAAC,CACnBC,IAAI,CAAC;UACJf,QAAQ,EAAE;QACZ,CAAC,CAAC;QAEJiB,MAAM,CAACJ,QAAQ,CAACT,MAAM,CAAC,CAACc,IAAI,CAAC,GAAG,CAAC;QACjCD,MAAM,CAACJ,QAAQ,CAACM,IAAI,CAACK,KAAK,CAAC,CAACN,IAAI,CAAC,mBAAmB,CAAC;MACvD,CAAC,CAAC;MAEFN,EAAE,CAAC,2CAA2C,EAAE,YAAY;QAC1D,MAAMC,QAAQ,GAAG,MAAMpC,OAAO,CAACS,GAAG,CAAC,CAChC4B,IAAI,CAAC,aAAa,CAAC,CACnBC,IAAI,CAAC;UACJC,UAAU,EAAE;QACd,CAAC,CAAC;QAEJC,MAAM,CAACJ,QAAQ,CAACT,MAAM,CAAC,CAACc,IAAI,CAAC,GAAG,CAAC;QACjCD,MAAM,CAACJ,QAAQ,CAACM,IAAI,CAACK,KAAK,CAAC,CAACN,IAAI,CAAC,mBAAmB,CAAC;MACvD,CAAC,CAAC;MAEFN,EAAE,CAAC,2CAA2C,EAAE,YAAY;QAC1D,MAAMC,QAAQ,GAAG,MAAMpC,OAAO,CAACS,GAAG,CAAC,CAChC4B,IAAI,CAAC,aAAa,CAAC,CACnBC,IAAI,CAAC;UACJC,UAAU,EAAE,EAAE;UACdhB,QAAQ,EAAE;QACZ,CAAC,CAAC;QAEJiB,MAAM,CAACJ,QAAQ,CAACT,MAAM,CAAC,CAACc,IAAI,CAAC,GAAG,CAAC;QACjCD,MAAM,CAACJ,QAAQ,CAACM,IAAI,CAACK,KAAK,CAAC,CAACN,IAAI,CAAC,mBAAmB,CAAC;MACvD,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF7B,QAAQ,CAAC,sBAAsB,EAAE,MAAM;MACrCuB,EAAE,CAAC,iCAAiC,EAAE,YAAY;QAChD,MAAMC,QAAQ,GAAG,MAAMpC,OAAO,CAACS,GAAG,CAAC,CAChC4B,IAAI,CAAC,aAAa,CAAC,CACnBC,IAAI,CAAC;UACJC,UAAU,EAAE,kBAAkB;UAC9BhB,QAAQ,EAAE;QACZ,CAAC,CAAC;QAEJiB,MAAM,CAACJ,QAAQ,CAACT,MAAM,CAAC,CAACc,IAAI,CAAC,GAAG,CAAC;QACjCD,MAAM,CAACJ,QAAQ,CAACM,IAAI,CAACG,KAAK,CAAC,CAACC,WAAW,CAAC,CAAC;;QAEzC;QACA,MAAMe,OAAO,GAAGzD,GAAG,CAAC0D,MAAM,CAAC1B,QAAQ,CAACM,IAAI,CAACG,KAAK,EAAEkB,OAAO,CAACC,GAAG,CAACC,UAAU,IAAI,aAAa,CAAC;QACxFzB,MAAM,CAACqB,OAAO,CAACK,MAAM,CAAC,CAACzB,IAAI,CAAC3B,QAAQ,CAACiB,EAAE,CAAC;QACxCS,MAAM,CAACqB,OAAO,CAACxC,KAAK,CAAC,CAACoB,IAAI,CAAC3B,QAAQ,CAACO,KAAK,CAAC;QAC1CmB,MAAM,CAACqB,OAAO,CAACnC,IAAI,CAAC,CAACe,IAAI,CAAC3B,QAAQ,CAACY,IAAI,CAAC;MAC1C,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}