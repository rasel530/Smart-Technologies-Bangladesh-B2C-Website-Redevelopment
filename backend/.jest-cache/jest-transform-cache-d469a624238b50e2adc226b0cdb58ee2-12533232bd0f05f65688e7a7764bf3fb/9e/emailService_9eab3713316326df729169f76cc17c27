78c1cc4d29546284d37e3e1c772a5915
/* istanbul ignore next */
function cov_11bg8ddpsj() {
  var path = "E:\\Drive D Backup\\Smart Technologies Bangladesh B2C Website Redevelopment\\backend\\services\\emailService.js";
  var hash = "cde7f350c00c42329172bee89c4e378bb8342d0a";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "E:\\Drive D Backup\\Smart Technologies Bangladesh B2C Website Redevelopment\\backend\\services\\emailService.js",
    statementMap: {
      "0": {
        start: {
          line: 1,
          column: 19
        },
        end: {
          line: 1,
          column: 40
        }
      },
      "1": {
        start: {
          line: 2,
          column: 15
        },
        end: {
          line: 2,
          column: 32
        }
      },
      "2": {
        start: {
          line: 3,
          column: 22
        },
        end: {
          line: 3,
          column: 41
        }
      },
      "3": {
        start: {
          line: 4,
          column: 22
        },
        end: {
          line: 4,
          column: 41
        }
      },
      "4": {
        start: {
          line: 8,
          column: 4
        },
        end: {
          line: 8,
          column: 32
        }
      },
      "5": {
        start: {
          line: 9,
          column: 4
        },
        end: {
          line: 9,
          column: 32
        }
      },
      "6": {
        start: {
          line: 10,
          column: 4
        },
        end: {
          line: 10,
          column: 28
        }
      },
      "7": {
        start: {
          line: 11,
          column: 4
        },
        end: {
          line: 11,
          column: 33
        }
      },
      "8": {
        start: {
          line: 15,
          column: 4
        },
        end: {
          line: 49,
          column: 5
        }
      },
      "9": {
        start: {
          line: 16,
          column: 26
        },
        end: {
          line: 16,
          column: 54
        }
      },
      "10": {
        start: {
          line: 18,
          column: 6
        },
        end: {
          line: 21,
          column: 7
        }
      },
      "11": {
        start: {
          line: 19,
          column: 8
        },
        end: {
          line: 19,
          column: 81
        }
      },
      "12": {
        start: {
          line: 20,
          column: 8
        },
        end: {
          line: 20,
          column: 15
        }
      },
      "13": {
        start: {
          line: 23,
          column: 6
        },
        end: {
          line: 34,
          column: 9
        }
      },
      "14": {
        start: {
          line: 37,
          column: 6
        },
        end: {
          line: 44,
          column: 9
        }
      },
      "15": {
        start: {
          line: 38,
          column: 8
        },
        end: {
          line: 43,
          column: 9
        }
      },
      "16": {
        start: {
          line: 39,
          column: 10
        },
        end: {
          line: 39,
          column: 78
        }
      },
      "17": {
        start: {
          line: 40,
          column: 10
        },
        end: {
          line: 40,
          column: 34
        }
      },
      "18": {
        start: {
          line: 42,
          column: 10
        },
        end: {
          line: 42,
          column: 67
        }
      },
      "19": {
        start: {
          line: 47,
          column: 6
        },
        end: {
          line: 47,
          column: 77
        }
      },
      "20": {
        start: {
          line: 48,
          column: 6
        },
        end: {
          line: 48,
          column: 30
        }
      },
      "21": {
        start: {
          line: 54,
          column: 4
        },
        end: {
          line: 54,
          column: 50
        }
      },
      "22": {
        start: {
          line: 59,
          column: 28
        },
        end: {
          line: 59,
          column: 124
        }
      },
      "23": {
        start: {
          line: 61,
          column: 4
        },
        end: {
          line: 171,
          column: 6
        }
      },
      "24": {
        start: {
          line: 176,
          column: 4
        },
        end: {
          line: 217,
          column: 5
        }
      },
      "25": {
        start: {
          line: 177,
          column: 6
        },
        end: {
          line: 179,
          column: 7
        }
      },
      "26": {
        start: {
          line: 178,
          column: 8
        },
        end: {
          line: 178,
          column: 55
        }
      },
      "27": {
        start: {
          line: 181,
          column: 26
        },
        end: {
          line: 181,
          column: 54
        }
      },
      "28": {
        start: {
          line: 182,
          column: 28
        },
        end: {
          line: 182,
          column: 93
        }
      },
      "29": {
        start: {
          line: 184,
          column: 26
        },
        end: {
          line: 190,
          column: 7
        }
      },
      "30": {
        start: {
          line: 192,
          column: 21
        },
        end: {
          line: 192,
          column: 65
        }
      },
      "31": {
        start: {
          line: 194,
          column: 6
        },
        end: {
          line: 198,
          column: 9
        }
      },
      "32": {
        start: {
          line: 200,
          column: 6
        },
        end: {
          line: 204,
          column: 8
        }
      },
      "33": {
        start: {
          line: 207,
          column: 6
        },
        end: {
          line: 210,
          column: 9
        }
      },
      "34": {
        start: {
          line: 212,
          column: 6
        },
        end: {
          line: 216,
          column: 8
        }
      },
      "35": {
        start: {
          line: 222,
          column: 4
        },
        end: {
          line: 346,
          column: 5
        }
      },
      "36": {
        start: {
          line: 223,
          column: 6
        },
        end: {
          line: 225,
          column: 7
        }
      },
      "37": {
        start: {
          line: 224,
          column: 8
        },
        end: {
          line: 224,
          column: 55
        }
      },
      "38": {
        start: {
          line: 227,
          column: 26
        },
        end: {
          line: 227,
          column: 54
        }
      },
      "39": {
        start: {
          line: 229,
          column: 26
        },
        end: {
          line: 325,
          column: 7
        }
      },
      "40": {
        start: {
          line: 327,
          column: 21
        },
        end: {
          line: 327,
          column: 65
        }
      },
      "41": {
        start: {
          line: 329,
          column: 6
        },
        end: {
          line: 333,
          column: 9
        }
      },
      "42": {
        start: {
          line: 335,
          column: 6
        },
        end: {
          line: 338,
          column: 8
        }
      },
      "43": {
        start: {
          line: 341,
          column: 6
        },
        end: {
          line: 341,
          column: 71
        }
      },
      "44": {
        start: {
          line: 342,
          column: 6
        },
        end: {
          line: 345,
          column: 8
        }
      },
      "45": {
        start: {
          line: 351,
          column: 4
        },
        end: {
          line: 351,
          column: 37
        }
      },
      "46": {
        start: {
          line: 356,
          column: 23
        },
        end: {
          line: 356,
          column: 51
        }
      },
      "47": {
        start: {
          line: 357,
          column: 4
        },
        end: {
          line: 357,
          column: 34
        }
      },
      "48": {
        start: {
          line: 362,
          column: 30
        },
        end: {
          line: 369,
          column: 5
        }
      },
      "49": {
        start: {
          line: 371,
          column: 19
        },
        end: {
          line: 371,
          column: 53
        }
      },
      "50": {
        start: {
          line: 372,
          column: 4
        },
        end: {
          line: 372,
          column: 46
        }
      },
      "51": {
        start: {
          line: 377,
          column: 21
        },
        end: {
          line: 377,
          column: 112
        }
      },
      "52": {
        start: {
          line: 379,
          column: 4
        },
        end: {
          line: 525,
          column: 6
        }
      },
      "53": {
        start: {
          line: 530,
          column: 4
        },
        end: {
          line: 571,
          column: 5
        }
      },
      "54": {
        start: {
          line: 531,
          column: 6
        },
        end: {
          line: 533,
          column: 7
        }
      },
      "55": {
        start: {
          line: 532,
          column: 8
        },
        end: {
          line: 532,
          column: 55
        }
      },
      "56": {
        start: {
          line: 535,
          column: 26
        },
        end: {
          line: 535,
          column: 54
        }
      },
      "57": {
        start: {
          line: 536,
          column: 28
        },
        end: {
          line: 536,
          column: 106
        }
      },
      "58": {
        start: {
          line: 538,
          column: 26
        },
        end: {
          line: 544,
          column: 7
        }
      },
      "59": {
        start: {
          line: 546,
          column: 21
        },
        end: {
          line: 546,
          column: 65
        }
      },
      "60": {
        start: {
          line: 548,
          column: 6
        },
        end: {
          line: 552,
          column: 9
        }
      },
      "61": {
        start: {
          line: 554,
          column: 6
        },
        end: {
          line: 558,
          column: 8
        }
      },
      "62": {
        start: {
          line: 561,
          column: 6
        },
        end: {
          line: 564,
          column: 9
        }
      },
      "63": {
        start: {
          line: 566,
          column: 6
        },
        end: {
          line: 570,
          column: 8
        }
      },
      "64": {
        start: {
          line: 576,
          column: 21
        },
        end: {
          line: 576,
          column: 39
        }
      },
      "65": {
        start: {
          line: 578,
          column: 0
        },
        end: {
          line: 581,
          column: 2
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 7,
            column: 2
          },
          end: {
            line: 7,
            column: 3
          }
        },
        loc: {
          start: {
            line: 7,
            column: 16
          },
          end: {
            line: 12,
            column: 3
          }
        },
        line: 7
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 14,
            column: 2
          },
          end: {
            line: 14,
            column: 3
          }
        },
        loc: {
          start: {
            line: 14,
            column: 26
          },
          end: {
            line: 50,
            column: 3
          }
        },
        line: 14
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 37,
            column: 30
          },
          end: {
            line: 37,
            column: 31
          }
        },
        loc: {
          start: {
            line: 37,
            column: 50
          },
          end: {
            line: 44,
            column: 7
          }
        },
        line: 37
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 53,
            column: 2
          },
          end: {
            line: 53,
            column: 3
          }
        },
        loc: {
          start: {
            line: 53,
            column: 30
          },
          end: {
            line: 55,
            column: 3
          }
        },
        line: 53
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 58,
            column: 2
          },
          end: {
            line: 58,
            column: 3
          }
        },
        loc: {
          start: {
            line: 58,
            column: 63
          },
          end: {
            line: 172,
            column: 3
          }
        },
        line: 58
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 175,
            column: 2
          },
          end: {
            line: 175,
            column: 3
          }
        },
        loc: {
          start: {
            line: 175,
            column: 70
          },
          end: {
            line: 218,
            column: 3
          }
        },
        line: 175
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 221,
            column: 2
          },
          end: {
            line: 221,
            column: 3
          }
        },
        loc: {
          start: {
            line: 221,
            column: 46
          },
          end: {
            line: 347,
            column: 3
          }
        },
        line: 221
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 350,
            column: 2
          },
          end: {
            line: 350,
            column: 3
          }
        },
        loc: {
          start: {
            line: 350,
            column: 16
          },
          end: {
            line: 352,
            column: 3
          }
        },
        line: 350
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 355,
            column: 2
          },
          end: {
            line: 355,
            column: 3
          }
        },
        loc: {
          start: {
            line: 355,
            column: 23
          },
          end: {
            line: 358,
            column: 3
          }
        },
        line: 355
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 361,
            column: 2
          },
          end: {
            line: 361,
            column: 3
          }
        },
        loc: {
          start: {
            line: 361,
            column: 27
          },
          end: {
            line: 373,
            column: 3
          }
        },
        line: 361
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 376,
            column: 2
          },
          end: {
            line: 376,
            column: 3
          }
        },
        loc: {
          start: {
            line: 376,
            column: 76
          },
          end: {
            line: 526,
            column: 3
          }
        },
        line: 376
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 529,
            column: 2
          },
          end: {
            line: 529,
            column: 3
          }
        },
        loc: {
          start: {
            line: 529,
            column: 83
          },
          end: {
            line: 572,
            column: 3
          }
        },
        line: 529
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 18,
            column: 6
          },
          end: {
            line: 21,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 18,
            column: 6
          },
          end: {
            line: 21,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 18
      },
      "1": {
        loc: {
          start: {
            line: 18,
            column: 10
          },
          end: {
            line: 18,
            column: 69
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 18,
            column: 10
          },
          end: {
            line: 18,
            column: 27
          }
        }, {
          start: {
            line: 18,
            column: 31
          },
          end: {
            line: 18,
            column: 48
          }
        }, {
          start: {
            line: 18,
            column: 52
          },
          end: {
            line: 18,
            column: 69
          }
        }],
        line: 18
      },
      "2": {
        loc: {
          start: {
            line: 38,
            column: 8
          },
          end: {
            line: 43,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 38,
            column: 8
          },
          end: {
            line: 43,
            column: 9
          }
        }, {
          start: {
            line: 41,
            column: 15
          },
          end: {
            line: 43,
            column: 9
          }
        }],
        line: 38
      },
      "3": {
        loc: {
          start: {
            line: 59,
            column: 31
          },
          end: {
            line: 59,
            column: 82
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 59,
            column: 31
          },
          end: {
            line: 59,
            column: 55
          }
        }, {
          start: {
            line: 59,
            column: 59
          },
          end: {
            line: 59,
            column: 82
          }
        }],
        line: 59
      },
      "4": {
        loc: {
          start: {
            line: 177,
            column: 6
          },
          end: {
            line: 179,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 177,
            column: 6
          },
          end: {
            line: 179,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 177
      },
      "5": {
        loc: {
          start: {
            line: 223,
            column: 6
          },
          end: {
            line: 225,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 223,
            column: 6
          },
          end: {
            line: 225,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 223
      },
      "6": {
        loc: {
          start: {
            line: 377,
            column: 24
          },
          end: {
            line: 377,
            column: 75
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 377,
            column: 24
          },
          end: {
            line: 377,
            column: 48
          }
        }, {
          start: {
            line: 377,
            column: 52
          },
          end: {
            line: 377,
            column: 75
          }
        }],
        line: 377
      },
      "7": {
        loc: {
          start: {
            line: 531,
            column: 6
          },
          end: {
            line: 533,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 531,
            column: 6
          },
          end: {
            line: 533,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 531
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "cde7f350c00c42329172bee89c4e378bb8342d0a"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_11bg8ddpsj = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_11bg8ddpsj();
const nodemailer =
/* istanbul ignore next */
(cov_11bg8ddpsj().s[0]++, require('nodemailer'));
const crypto =
/* istanbul ignore next */
(cov_11bg8ddpsj().s[1]++, require('crypto'));
const configService =
/* istanbul ignore next */
(cov_11bg8ddpsj().s[2]++, require('./config'));
const loggerService =
/* istanbul ignore next */
(cov_11bg8ddpsj().s[3]++, require('./logger'));
class EmailService {
  constructor() {
    /* istanbul ignore next */
    cov_11bg8ddpsj().f[0]++;
    cov_11bg8ddpsj().s[4]++;
    this.config = configService;
    /* istanbul ignore next */
    cov_11bg8ddpsj().s[5]++;
    this.logger = loggerService;
    /* istanbul ignore next */
    cov_11bg8ddpsj().s[6]++;
    this.transporter = null;
    /* istanbul ignore next */
    cov_11bg8ddpsj().s[7]++;
    this.initializeTransporter();
  }
  initializeTransporter() {
    /* istanbul ignore next */
    cov_11bg8ddpsj().f[1]++;
    cov_11bg8ddpsj().s[8]++;
    try {
      const emailConfig =
      /* istanbul ignore next */
      (cov_11bg8ddpsj().s[9]++, this.config.getEmailConfig());
      /* istanbul ignore next */
      cov_11bg8ddpsj().s[10]++;
      if (
      /* istanbul ignore next */
      (cov_11bg8ddpsj().b[1][0]++, !emailConfig.host) ||
      /* istanbul ignore next */
      (cov_11bg8ddpsj().b[1][1]++, !emailConfig.user) ||
      /* istanbul ignore next */
      (cov_11bg8ddpsj().b[1][2]++, !emailConfig.pass)) {
        /* istanbul ignore next */
        cov_11bg8ddpsj().b[0][0]++;
        cov_11bg8ddpsj().s[11]++;
        this.logger.warn('Email service not configured - missing SMTP settings');
        /* istanbul ignore next */
        cov_11bg8ddpsj().s[12]++;
        return;
      } else
      /* istanbul ignore next */
      {
        cov_11bg8ddpsj().b[0][1]++;
      }
      cov_11bg8ddpsj().s[13]++;
      this.transporter = nodemailer.createTransporter({
        host: emailConfig.host,
        port: emailConfig.port,
        secure: emailConfig.secure,
        auth: {
          user: emailConfig.user,
          pass: emailConfig.pass
        },
        tls: {
          rejectUnauthorized: false // Allow for some SMTP configurations
        }
      });

      // Verify connection
      /* istanbul ignore next */
      cov_11bg8ddpsj().s[14]++;
      this.transporter.verify((error, success) => {
        /* istanbul ignore next */
        cov_11bg8ddpsj().f[2]++;
        cov_11bg8ddpsj().s[15]++;
        if (error) {
          /* istanbul ignore next */
          cov_11bg8ddpsj().b[2][0]++;
          cov_11bg8ddpsj().s[16]++;
          this.logger.error('Email service connection failed', error.message);
          /* istanbul ignore next */
          cov_11bg8ddpsj().s[17]++;
          this.transporter = null;
        } else {
          /* istanbul ignore next */
          cov_11bg8ddpsj().b[2][1]++;
          cov_11bg8ddpsj().s[18]++;
          this.logger.info('Email service connected successfully');
        }
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_11bg8ddpsj().s[19]++;
      this.logger.error('Failed to initialize email service', error.message);
      /* istanbul ignore next */
      cov_11bg8ddpsj().s[20]++;
      this.transporter = null;
    }
  }

  // Generate secure verification token
  generateVerificationToken() {
    /* istanbul ignore next */
    cov_11bg8ddpsj().f[3]++;
    cov_11bg8ddpsj().s[21]++;
    return crypto.randomBytes(32).toString('hex');
  }

  // Create verification email template
  createVerificationEmailTemplate(userName, verificationToken) {
    /* istanbul ignore next */
    cov_11bg8ddpsj().f[4]++;
    const verificationUrl =
    /* istanbul ignore next */
    (cov_11bg8ddpsj().s[22]++, `${
    /* istanbul ignore next */
    (cov_11bg8ddpsj().b[3][0]++, process.env.FRONTEND_URL) ||
    /* istanbul ignore next */
    (cov_11bg8ddpsj().b[3][1]++, 'http://localhost:3000')}/verify-email?token=${verificationToken}`);
    /* istanbul ignore next */
    cov_11bg8ddpsj().s[23]++;
    return {
      subject: 'Verify Your Email Address - Smart Technologies Bangladesh',
      html: `
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Email Verification</title>
          <style>
            body {
              font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
              line-height: 1.6;
              color: #333;
              max-width: 600px;
              margin: 0 auto;
              padding: 20px;
              background-color: #f4f4f4;
            }
            .container {
              background-color: #ffffff;
              padding: 30px;
              border-radius: 10px;
              box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            }
            .header {
              text-align: center;
              margin-bottom: 30px;
            }
            .logo {
              color: #2c3e50;
              font-size: 24px;
              font-weight: bold;
              margin-bottom: 10px;
            }
            .content {
              margin-bottom: 30px;
            }
            .button {
              display: inline-block;
              background-color: #3498db;
              color: white;
              padding: 12px 30px;
              text-decoration: none;
              border-radius: 5px;
              font-weight: bold;
              margin: 20px 0;
            }
            .button:hover {
              background-color: #2980b9;
            }
            .footer {
              text-align: center;
              margin-top: 30px;
              padding-top: 20px;
              border-top: 1px solid #eee;
              font-size: 12px;
              color: #666;
            }
            .bangladesh-text {
              color: #006a4e;
              font-weight: bold;
            }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <div class="logo">Smart Technologies Bangladesh</div>
              <p class="bangladesh-text">‡¶∏‡ßç‡¶Æ‡¶æ‡¶∞‡ßç‡¶ü ‡¶ü‡ßá‡¶ï‡¶®‡ßã‡¶≤‡¶ú‡¶ø‡¶∏ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂</p>
            </div>
            
            <div class="content">
              <h2>Welcome, ${userName}!</h2>
              <p>Thank you for registering with Smart Technologies Bangladesh. To complete your registration and activate your account, please verify your email address by clicking the button below.</p>
              
              <p><strong>Important:</strong> This verification link will expire in 24 hours for security reasons.</p>
              
              <div style="text-align: center;">
                <a href="${verificationUrl}" class="button">Verify Email Address</a>
              </div>
              
              <p>If the button above doesn't work, you can copy and paste this link into your browser:</p>
              <p style="word-break: break-all; color: #666; font-size: 12px;">${verificationUrl}</p>
            </div>
            
            <div class="footer">
              <p>This is an automated message from Smart Technologies Bangladesh.</p>
              <p>If you didn't create an account, please ignore this email.</p>
              <p>&copy; 2024 Smart Technologies Bangladesh. All rights reserved.</p>
            </div>
          </div>
        </body>
        </html>
      `,
      text: `
        Welcome to Smart Technologies Bangladesh!
        
        Hello ${userName},
        
        Thank you for registering with us. Please verify your email address by visiting:
        ${verificationUrl}
        
        This link will expire in 24 hours.
        
        If you didn't create an account, please ignore this email.
        
        Smart Technologies Bangladesh
        ‡¶∏‡ßç‡¶Æ‡¶æ‡¶∞‡ßç‡¶ü ‡¶ü‡ßá‡¶ï‡¶®‡ßã‡¶≤‡¶ú‡¶ø‡¶∏ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂
      `
    };
  }

  // Send verification email
  async sendVerificationEmail(userEmail, userName, verificationToken) {
    /* istanbul ignore next */
    cov_11bg8ddpsj().f[5]++;
    cov_11bg8ddpsj().s[24]++;
    try {
      /* istanbul ignore next */
      cov_11bg8ddpsj().s[25]++;
      if (!this.transporter) {
        /* istanbul ignore next */
        cov_11bg8ddpsj().b[4][0]++;
        cov_11bg8ddpsj().s[26]++;
        throw new Error('Email service not available');
      } else
      /* istanbul ignore next */
      {
        cov_11bg8ddpsj().b[4][1]++;
      }
      const emailConfig =
      /* istanbul ignore next */
      (cov_11bg8ddpsj().s[27]++, this.config.getEmailConfig());
      const emailTemplate =
      /* istanbul ignore next */
      (cov_11bg8ddpsj().s[28]++, this.createVerificationEmailTemplate(userName, verificationToken));
      const mailOptions =
      /* istanbul ignore next */
      (cov_11bg8ddpsj().s[29]++, {
        from: `"Smart Technologies Bangladesh" <${emailConfig.from}>`,
        to: userEmail,
        subject: emailTemplate.subject,
        html: emailTemplate.html,
        text: emailTemplate.text
      });
      const result =
      /* istanbul ignore next */
      (cov_11bg8ddpsj().s[30]++, await this.transporter.sendMail(mailOptions));
      /* istanbul ignore next */
      cov_11bg8ddpsj().s[31]++;
      this.logger.info('Verification email sent successfully', {
        to: userEmail,
        messageId: result.messageId,
        timestamp: new Date().toISOString()
      });
      /* istanbul ignore next */
      cov_11bg8ddpsj().s[32]++;
      return {
        success: true,
        messageId: result.messageId,
        timestamp: new Date().toISOString()
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_11bg8ddpsj().s[33]++;
      this.logger.error('Failed to send verification email', error.message, {
        to: userEmail,
        errorType: error.name
      });
      /* istanbul ignore next */
      cov_11bg8ddpsj().s[34]++;
      return {
        success: false,
        error: error.message,
        timestamp: new Date().toISOString()
      };
    }
  }

  // Send welcome email after verification
  async sendWelcomeEmail(userEmail, userName) {
    /* istanbul ignore next */
    cov_11bg8ddpsj().f[6]++;
    cov_11bg8ddpsj().s[35]++;
    try {
      /* istanbul ignore next */
      cov_11bg8ddpsj().s[36]++;
      if (!this.transporter) {
        /* istanbul ignore next */
        cov_11bg8ddpsj().b[5][0]++;
        cov_11bg8ddpsj().s[37]++;
        throw new Error('Email service not available');
      } else
      /* istanbul ignore next */
      {
        cov_11bg8ddpsj().b[5][1]++;
      }
      const emailConfig =
      /* istanbul ignore next */
      (cov_11bg8ddpsj().s[38]++, this.config.getEmailConfig());
      const mailOptions =
      /* istanbul ignore next */
      (cov_11bg8ddpsj().s[39]++, {
        from: `"Smart Technologies Bangladesh" <${emailConfig.from}>`,
        to: userEmail,
        subject: 'Welcome to Smart Technologies Bangladesh - Account Activated!',
        html: `
          <!DOCTYPE html>
          <html>
          <head>
            <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Welcome</title>
            <style>
              body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: #333;
                max-width: 600px;
                margin: 0 auto;
                padding: 20px;
                background-color: #f4f4f4;
              }
              .container {
                background-color: #ffffff;
                padding: 30px;
                border-radius: 10px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
              }
              .header {
                text-align: center;
                margin-bottom: 30px;
              }
              .logo {
                color: #2c3e50;
                font-size: 24px;
                font-weight: bold;
                margin-bottom: 10px;
              }
              .success {
                background-color: #d4edda;
                color: #155724;
                padding: 15px;
                border-radius: 5px;
                margin: 20px 0;
                border: 1px solid #c3e6cb;
              }
              .footer {
                text-align: center;
                margin-top: 30px;
                padding-top: 20px;
                border-top: 1px solid #eee;
                font-size: 12px;
                color: #666;
              }
            </style>
          </head>
          <body>
            <div class="container">
              <div class="header">
                <div class="logo">Smart Technologies Bangladesh</div>
              </div>
              
              <div class="success">
                <h2>üéâ Welcome, ${userName}!</h2>
                <p>Your account has been successfully activated and you can now start shopping with us.</p>
              </div>
              
              <p>Thank you for choosing Smart Technologies Bangladesh for your technology needs. We're excited to have you as part of our community!</p>
              
              <p>You can now:</p>
              <ul>
                <li>Browse our extensive catalog of products</li>
                <li>Add items to your wishlist</li>
                <li>Place orders and track deliveries</li>
                <li>Leave reviews for products you purchase</li>
              </ul>
              
              <p>If you have any questions, our customer support team is here to help.</p>
              
              <div class="footer">
                <p>&copy; 2024 Smart Technologies Bangladesh. All rights reserved.</p>
              </div>
            </div>
          </body>
          </html>
        `,
        text: `
          Welcome to Smart Technologies Bangladesh!
          
          Hello ${userName},
          
          Your account has been successfully activated! You can now start shopping with us.
          
          Thank you for choosing Smart Technologies Bangladesh.
          
          Smart Technologies Bangladesh
        `
      });
      const result =
      /* istanbul ignore next */
      (cov_11bg8ddpsj().s[40]++, await this.transporter.sendMail(mailOptions));
      /* istanbul ignore next */
      cov_11bg8ddpsj().s[41]++;
      this.logger.info('Welcome email sent successfully', {
        to: userEmail,
        messageId: result.messageId,
        timestamp: new Date().toISOString()
      });
      /* istanbul ignore next */
      cov_11bg8ddpsj().s[42]++;
      return {
        success: true,
        messageId: result.messageId
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_11bg8ddpsj().s[43]++;
      this.logger.error('Failed to send welcome email', error.message);
      /* istanbul ignore next */
      cov_11bg8ddpsj().s[44]++;
      return {
        success: false,
        error: error.message
      };
    }
  }

  // Check if email service is available
  isAvailable() {
    /* istanbul ignore next */
    cov_11bg8ddpsj().f[7]++;
    cov_11bg8ddpsj().s[45]++;
    return this.transporter !== null;
  }

  // Validate email format (basic validation)
  validateEmail(email) {
    /* istanbul ignore next */
    cov_11bg8ddpsj().f[8]++;
    const emailRegex =
    /* istanbul ignore next */
    (cov_11bg8ddpsj().s[46]++, /^[^\s@]+@[^\s@]+\.[^\s@]+$/);
    /* istanbul ignore next */
    cov_11bg8ddpsj().s[47]++;
    return emailRegex.test(email);
  }

  // Check for disposable email domains (basic check)
  isDisposableEmail(email) {
    /* istanbul ignore next */
    cov_11bg8ddpsj().f[9]++;
    const disposableDomains =
    /* istanbul ignore next */
    (cov_11bg8ddpsj().s[48]++, ['10minutemail.com', 'tempmail.org', 'guerrillamail.com', 'mailinator.com', 'yopmail.com', 'throwaway.email']);
    const domain =
    /* istanbul ignore next */
    (cov_11bg8ddpsj().s[49]++, email.split('@')[1]?.toLowerCase());
    /* istanbul ignore next */
    cov_11bg8ddpsj().s[50]++;
    return disposableDomains.includes(domain);
  }

  // Create password reset email template
  createPasswordResetEmailTemplate(userName, temporaryPassword, resetToken) {
    /* istanbul ignore next */
    cov_11bg8ddpsj().f[10]++;
    const resetUrl =
    /* istanbul ignore next */
    (cov_11bg8ddpsj().s[51]++, `${
    /* istanbul ignore next */
    (cov_11bg8ddpsj().b[6][0]++, process.env.FRONTEND_URL) ||
    /* istanbul ignore next */
    (cov_11bg8ddpsj().b[6][1]++, 'http://localhost:3000')}/reset-password?token=${resetToken}`);
    /* istanbul ignore next */
    cov_11bg8ddpsj().s[52]++;
    return {
      subject: 'Password Reset - Smart Technologies Bangladesh',
      html: `
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Password Reset</title>
          <style>
            body {
              font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
              line-height: 1.6;
              color: #333;
              max-width: 600px;
              margin: 0 auto;
              padding: 20px;
              background-color: #f4f4f4;
            }
            .container {
              background-color: #ffffff;
              padding: 30px;
              border-radius: 10px;
              box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            }
            .header {
              text-align: center;
              margin-bottom: 30px;
            }
            .logo {
              color: #2c3e50;
              font-size: 24px;
              font-weight: bold;
              margin-bottom: 10px;
            }
            .content {
              margin-bottom: 30px;
            }
            .temp-password {
              background-color: #fff3cd;
              border: 1px solid #ffeaa7;
              padding: 15px;
              border-radius: 5px;
              margin: 20px 0;
              font-family: monospace;
              font-size: 16px;
              text-align: center;
            }
            .button {
              display: inline-block;
              background-color: #e74c3c;
              color: white;
              padding: 12px 30px;
              text-decoration: none;
              border-radius: 5px;
              font-weight: bold;
              margin: 20px 0;
            }
            .button:hover {
              background-color: #c0392b;
            }
            .warning {
              background-color: #f8d7da;
              color: #721c24;
              padding: 15px;
              border-radius: 5px;
              margin: 20px 0;
              border: 1px solid #f5c6cb;
            }
            .footer {
              text-align: center;
              margin-top: 30px;
              padding-top: 20px;
              border-top: 1px solid #eee;
              font-size: 12px;
              color: #666;
            }
            .bangladesh-text {
              color: #006a4e;
              font-weight: bold;
            }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <div class="logo">Smart Technologies Bangladesh</div>
              <p class="bangladesh-text">‡¶∏‡ßç‡¶Æ‡¶æ‡¶∞‡ßç‡¶ü ‡¶ü‡ßá‡¶ï‡¶®‡ßã‡¶≤‡¶ú‡¶ø‡¶∏ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂</p>
            </div>
            
            <div class="content">
              <h2>Password Reset Request</h2>
              <p>Hello ${userName},</p>
              <p>We received a request to reset your password for your Smart Technologies Bangladesh account. A temporary password has been generated for you.</p>
              
              <div class="temp-password">
                <strong>Temporary Password:</strong><br>
                ${temporaryPassword}
              </div>
              
              <div class="warning">
                <strong>‚ö†Ô∏è Important Security Notice:</strong><br>
                This temporary password will allow you to log in, but you must change it immediately after logging in for security reasons.
              </div>
              
              <p>You can also use the link below to reset your password manually:</p>
              
              <div style="text-align: center;">
                <a href="${resetUrl}" class="button">Reset Password</a>
              </div>
              
              <p>If the button above doesn't work, you can copy and paste this link into your browser:</p>
              <p style="word-break: break-all; color: #666; font-size: 12px;">${resetUrl}</p>
              
              <p><strong>Important:</strong> This reset link will expire in 1 hour for security reasons.</p>
            </div>
            
            <div class="footer">
              <p>If you didn't request this password reset, please contact our support team immediately.</p>
              <p>This is an automated message from Smart Technologies Bangladesh.</p>
              <p>&copy; 2024 Smart Technologies Bangladesh. All rights reserved.</p>
            </div>
          </div>
        </body>
        </html>
      `,
      text: `
        Password Reset - Smart Technologies Bangladesh
        
        Hello ${userName},
        
        We received a request to reset your password for your Smart Technologies Bangladesh account.
        
        Temporary Password: ${temporaryPassword}
        
        ‚ö†Ô∏è IMPORTANT: You must change this password immediately after logging in for security reasons.
        
        You can also reset your password using this link: ${resetUrl}
        
        This link will expire in 1 hour.
        
        If you didn't request this password reset, please contact our support team immediately.
        
        Smart Technologies Bangladesh
        ‡¶∏‡ßç‡¶Æ‡¶æ‡¶∞‡ßç‡¶ü ‡¶ü‡ßá‡¶ï‡¶®‡ßã‡¶≤‡¶ú‡¶ø‡¶∏ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂
      `
    };
  }

  // Send password reset email
  async sendPasswordResetEmail(userEmail, userName, temporaryPassword, resetToken) {
    /* istanbul ignore next */
    cov_11bg8ddpsj().f[11]++;
    cov_11bg8ddpsj().s[53]++;
    try {
      /* istanbul ignore next */
      cov_11bg8ddpsj().s[54]++;
      if (!this.transporter) {
        /* istanbul ignore next */
        cov_11bg8ddpsj().b[7][0]++;
        cov_11bg8ddpsj().s[55]++;
        throw new Error('Email service not available');
      } else
      /* istanbul ignore next */
      {
        cov_11bg8ddpsj().b[7][1]++;
      }
      const emailConfig =
      /* istanbul ignore next */
      (cov_11bg8ddpsj().s[56]++, this.config.getEmailConfig());
      const emailTemplate =
      /* istanbul ignore next */
      (cov_11bg8ddpsj().s[57]++, this.createPasswordResetEmailTemplate(userName, temporaryPassword, resetToken));
      const mailOptions =
      /* istanbul ignore next */
      (cov_11bg8ddpsj().s[58]++, {
        from: `"Smart Technologies Bangladesh" <${emailConfig.from}>`,
        to: userEmail,
        subject: emailTemplate.subject,
        html: emailTemplate.html,
        text: emailTemplate.text
      });
      const result =
      /* istanbul ignore next */
      (cov_11bg8ddpsj().s[59]++, await this.transporter.sendMail(mailOptions));
      /* istanbul ignore next */
      cov_11bg8ddpsj().s[60]++;
      this.logger.info('Password reset email sent successfully', {
        to: userEmail,
        messageId: result.messageId,
        timestamp: new Date().toISOString()
      });
      /* istanbul ignore next */
      cov_11bg8ddpsj().s[61]++;
      return {
        success: true,
        messageId: result.messageId,
        timestamp: new Date().toISOString()
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_11bg8ddpsj().s[62]++;
      this.logger.error('Failed to send password reset email', error.message, {
        to: userEmail,
        errorType: error.name
      });
      /* istanbul ignore next */
      cov_11bg8ddpsj().s[63]++;
      return {
        success: false,
        error: error.message,
        timestamp: new Date().toISOString()
      };
    }
  }
}

// Singleton instance
const emailService =
/* istanbul ignore next */
(cov_11bg8ddpsj().s[64]++, new EmailService());
/* istanbul ignore next */
cov_11bg8ddpsj().s[65]++;
module.exports = {
  EmailService,
  emailService
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMTFiZzhkZHBzaiIsImFjdHVhbENvdmVyYWdlIiwibm9kZW1haWxlciIsInMiLCJyZXF1aXJlIiwiY3J5cHRvIiwiY29uZmlnU2VydmljZSIsImxvZ2dlclNlcnZpY2UiLCJFbWFpbFNlcnZpY2UiLCJjb25zdHJ1Y3RvciIsImYiLCJjb25maWciLCJsb2dnZXIiLCJ0cmFuc3BvcnRlciIsImluaXRpYWxpemVUcmFuc3BvcnRlciIsImVtYWlsQ29uZmlnIiwiZ2V0RW1haWxDb25maWciLCJiIiwiaG9zdCIsInVzZXIiLCJwYXNzIiwid2FybiIsImNyZWF0ZVRyYW5zcG9ydGVyIiwicG9ydCIsInNlY3VyZSIsImF1dGgiLCJ0bHMiLCJyZWplY3RVbmF1dGhvcml6ZWQiLCJ2ZXJpZnkiLCJlcnJvciIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwiaW5mbyIsImdlbmVyYXRlVmVyaWZpY2F0aW9uVG9rZW4iLCJyYW5kb21CeXRlcyIsInRvU3RyaW5nIiwiY3JlYXRlVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZSIsInVzZXJOYW1lIiwidmVyaWZpY2F0aW9uVG9rZW4iLCJ2ZXJpZmljYXRpb25VcmwiLCJwcm9jZXNzIiwiZW52IiwiRlJPTlRFTkRfVVJMIiwic3ViamVjdCIsImh0bWwiLCJ0ZXh0Iiwic2VuZFZlcmlmaWNhdGlvbkVtYWlsIiwidXNlckVtYWlsIiwiRXJyb3IiLCJlbWFpbFRlbXBsYXRlIiwibWFpbE9wdGlvbnMiLCJmcm9tIiwidG8iLCJyZXN1bHQiLCJzZW5kTWFpbCIsIm1lc3NhZ2VJZCIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImVycm9yVHlwZSIsIm5hbWUiLCJzZW5kV2VsY29tZUVtYWlsIiwiaXNBdmFpbGFibGUiLCJ2YWxpZGF0ZUVtYWlsIiwiZW1haWwiLCJlbWFpbFJlZ2V4IiwidGVzdCIsImlzRGlzcG9zYWJsZUVtYWlsIiwiZGlzcG9zYWJsZURvbWFpbnMiLCJkb21haW4iLCJzcGxpdCIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJjcmVhdGVQYXNzd29yZFJlc2V0RW1haWxUZW1wbGF0ZSIsInRlbXBvcmFyeVBhc3N3b3JkIiwicmVzZXRUb2tlbiIsInJlc2V0VXJsIiwic2VuZFBhc3N3b3JkUmVzZXRFbWFpbCIsImVtYWlsU2VydmljZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJlbWFpbFNlcnZpY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgbm9kZW1haWxlciA9IHJlcXVpcmUoJ25vZGVtYWlsZXInKTtcclxuY29uc3QgY3J5cHRvID0gcmVxdWlyZSgnY3J5cHRvJyk7XHJcbmNvbnN0IGNvbmZpZ1NlcnZpY2UgPSByZXF1aXJlKCcuL2NvbmZpZycpO1xyXG5jb25zdCBsb2dnZXJTZXJ2aWNlID0gcmVxdWlyZSgnLi9sb2dnZXInKTtcclxuXHJcbmNsYXNzIEVtYWlsU2VydmljZSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZ1NlcnZpY2U7XHJcbiAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlclNlcnZpY2U7XHJcbiAgICB0aGlzLnRyYW5zcG9ydGVyID0gbnVsbDtcclxuICAgIHRoaXMuaW5pdGlhbGl6ZVRyYW5zcG9ydGVyKCk7XHJcbiAgfVxyXG5cclxuICBpbml0aWFsaXplVHJhbnNwb3J0ZXIoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBlbWFpbENvbmZpZyA9IHRoaXMuY29uZmlnLmdldEVtYWlsQ29uZmlnKCk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIWVtYWlsQ29uZmlnLmhvc3QgfHwgIWVtYWlsQ29uZmlnLnVzZXIgfHwgIWVtYWlsQ29uZmlnLnBhc3MpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdFbWFpbCBzZXJ2aWNlIG5vdCBjb25maWd1cmVkIC0gbWlzc2luZyBTTVRQIHNldHRpbmdzJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnRlcih7XHJcbiAgICAgICAgaG9zdDogZW1haWxDb25maWcuaG9zdCxcclxuICAgICAgICBwb3J0OiBlbWFpbENvbmZpZy5wb3J0LFxyXG4gICAgICAgIHNlY3VyZTogZW1haWxDb25maWcuc2VjdXJlLFxyXG4gICAgICAgIGF1dGg6IHtcclxuICAgICAgICAgIHVzZXI6IGVtYWlsQ29uZmlnLnVzZXIsXHJcbiAgICAgICAgICBwYXNzOiBlbWFpbENvbmZpZy5wYXNzXHJcbiAgICAgICAgfSxcclxuICAgICAgICB0bHM6IHtcclxuICAgICAgICAgIHJlamVjdFVuYXV0aG9yaXplZDogZmFsc2UgLy8gQWxsb3cgZm9yIHNvbWUgU01UUCBjb25maWd1cmF0aW9uc1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBWZXJpZnkgY29ubmVjdGlvblxyXG4gICAgICB0aGlzLnRyYW5zcG9ydGVyLnZlcmlmeSgoZXJyb3IsIHN1Y2Nlc3MpID0+IHtcclxuICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdFbWFpbCBzZXJ2aWNlIGNvbm5lY3Rpb24gZmFpbGVkJywgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICB0aGlzLnRyYW5zcG9ydGVyID0gbnVsbDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnRW1haWwgc2VydmljZSBjb25uZWN0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGluaXRpYWxpemUgZW1haWwgc2VydmljZScsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICB0aGlzLnRyYW5zcG9ydGVyID0gbnVsbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEdlbmVyYXRlIHNlY3VyZSB2ZXJpZmljYXRpb24gdG9rZW5cclxuICBnZW5lcmF0ZVZlcmlmaWNhdGlvblRva2VuKCkge1xyXG4gICAgcmV0dXJuIGNyeXB0by5yYW5kb21CeXRlcygzMikudG9TdHJpbmcoJ2hleCcpO1xyXG4gIH1cclxuXHJcbiAgLy8gQ3JlYXRlIHZlcmlmaWNhdGlvbiBlbWFpbCB0ZW1wbGF0ZVxyXG4gIGNyZWF0ZVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGUodXNlck5hbWUsIHZlcmlmaWNhdGlvblRva2VuKSB7XHJcbiAgICBjb25zdCB2ZXJpZmljYXRpb25VcmwgPSBgJHtwcm9jZXNzLmVudi5GUk9OVEVORF9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCd9L3ZlcmlmeS1lbWFpbD90b2tlbj0ke3ZlcmlmaWNhdGlvblRva2VufWA7XHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1YmplY3Q6ICdWZXJpZnkgWW91ciBFbWFpbCBBZGRyZXNzIC0gU21hcnQgVGVjaG5vbG9naWVzIEJhbmdsYWRlc2gnLFxyXG4gICAgICBodG1sOiBgXHJcbiAgICAgICAgPCFET0NUWVBFIGh0bWw+XHJcbiAgICAgICAgPGh0bWw+XHJcbiAgICAgICAgPGhlYWQ+XHJcbiAgICAgICAgICA8bWV0YSBjaGFyc2V0PVwidXRmLThcIj5cclxuICAgICAgICAgIDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wXCI+XHJcbiAgICAgICAgICA8dGl0bGU+RW1haWwgVmVyaWZpY2F0aW9uPC90aXRsZT5cclxuICAgICAgICAgIDxzdHlsZT5cclxuICAgICAgICAgICAgYm9keSB7XHJcbiAgICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdTZWdvZSBVSScsIFRhaG9tYSwgR2VuZXZhLCBWZXJkYW5hLCBzYW5zLXNlcmlmO1xyXG4gICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjY7XHJcbiAgICAgICAgICAgICAgY29sb3I6ICMzMzM7XHJcbiAgICAgICAgICAgICAgbWF4LXdpZHRoOiA2MDBweDtcclxuICAgICAgICAgICAgICBtYXJnaW46IDAgYXV0bztcclxuICAgICAgICAgICAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmNGY0ZjQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLmNvbnRhaW5lciB7XHJcbiAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcclxuICAgICAgICAgICAgICBwYWRkaW5nOiAzMHB4O1xyXG4gICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCAycHggMTBweCByZ2JhKDAsMCwwLDAuMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLmhlYWRlciB7XHJcbiAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLmxvZ28ge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiAjMmMzZTUwO1xyXG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjRweDtcclxuICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5jb250ZW50IHtcclxuICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5idXR0b24ge1xyXG4gICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzQ5OGRiO1xyXG4gICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgICAgICAgICBwYWRkaW5nOiAxMnB4IDMwcHg7XHJcbiAgICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgICAgICAgICAgICBtYXJnaW46IDIwcHggMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuYnV0dG9uOmhvdmVyIHtcclxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjk4MGI5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5mb290ZXIge1xyXG4gICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAzMHB4O1xyXG4gICAgICAgICAgICAgIHBhZGRpbmctdG9wOiAyMHB4O1xyXG4gICAgICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZWVlO1xyXG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgICAgICAgICAgICBjb2xvcjogIzY2NjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuYmFuZ2xhZGVzaC10ZXh0IHtcclxuICAgICAgICAgICAgICBjb2xvcjogIzAwNmE0ZTtcclxuICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgPC9zdHlsZT5cclxuICAgICAgICA8L2hlYWQ+XHJcbiAgICAgICAgPGJvZHk+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXJcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9nb1wiPlNtYXJ0IFRlY2hub2xvZ2llcyBCYW5nbGFkZXNoPC9kaXY+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJiYW5nbGFkZXNoLXRleHRcIj7gprjgp43gpq7gpr7gprDgp43gpp8g4Kaf4KeH4KaV4Kao4KeL4Kay4Kac4Ka/4Ka4IOCmrOCmvuCmguCmsuCmvuCmpuCnh+CmtjwvcD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxyXG4gICAgICAgICAgICAgIDxoMj5XZWxjb21lLCAke3VzZXJOYW1lfSE8L2gyPlxyXG4gICAgICAgICAgICAgIDxwPlRoYW5rIHlvdSBmb3IgcmVnaXN0ZXJpbmcgd2l0aCBTbWFydCBUZWNobm9sb2dpZXMgQmFuZ2xhZGVzaC4gVG8gY29tcGxldGUgeW91ciByZWdpc3RyYXRpb24gYW5kIGFjdGl2YXRlIHlvdXIgYWNjb3VudCwgcGxlYXNlIHZlcmlmeSB5b3VyIGVtYWlsIGFkZHJlc3MgYnkgY2xpY2tpbmcgdGhlIGJ1dHRvbiBiZWxvdy48L3A+XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgPHA+PHN0cm9uZz5JbXBvcnRhbnQ6PC9zdHJvbmc+IFRoaXMgdmVyaWZpY2F0aW9uIGxpbmsgd2lsbCBleHBpcmUgaW4gMjQgaG91cnMgZm9yIHNlY3VyaXR5IHJlYXNvbnMuPC9wPlxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7XCI+XHJcbiAgICAgICAgICAgICAgICA8YSBocmVmPVwiJHt2ZXJpZmljYXRpb25Vcmx9XCIgY2xhc3M9XCJidXR0b25cIj5WZXJpZnkgRW1haWwgQWRkcmVzczwvYT5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICA8cD5JZiB0aGUgYnV0dG9uIGFib3ZlIGRvZXNuJ3Qgd29yaywgeW91IGNhbiBjb3B5IGFuZCBwYXN0ZSB0aGlzIGxpbmsgaW50byB5b3VyIGJyb3dzZXI6PC9wPlxyXG4gICAgICAgICAgICAgIDxwIHN0eWxlPVwid29yZC1icmVhazogYnJlYWstYWxsOyBjb2xvcjogIzY2NjsgZm9udC1zaXplOiAxMnB4O1wiPiR7dmVyaWZpY2F0aW9uVXJsfTwvcD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9vdGVyXCI+XHJcbiAgICAgICAgICAgICAgPHA+VGhpcyBpcyBhbiBhdXRvbWF0ZWQgbWVzc2FnZSBmcm9tIFNtYXJ0IFRlY2hub2xvZ2llcyBCYW5nbGFkZXNoLjwvcD5cclxuICAgICAgICAgICAgICA8cD5JZiB5b3UgZGlkbid0IGNyZWF0ZSBhbiBhY2NvdW50LCBwbGVhc2UgaWdub3JlIHRoaXMgZW1haWwuPC9wPlxyXG4gICAgICAgICAgICAgIDxwPiZjb3B5OyAyMDI0IFNtYXJ0IFRlY2hub2xvZ2llcyBCYW5nbGFkZXNoLiBBbGwgcmlnaHRzIHJlc2VydmVkLjwvcD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2JvZHk+XHJcbiAgICAgICAgPC9odG1sPlxyXG4gICAgICBgLFxyXG4gICAgICB0ZXh0OiBgXHJcbiAgICAgICAgV2VsY29tZSB0byBTbWFydCBUZWNobm9sb2dpZXMgQmFuZ2xhZGVzaCFcclxuICAgICAgICBcclxuICAgICAgICBIZWxsbyAke3VzZXJOYW1lfSxcclxuICAgICAgICBcclxuICAgICAgICBUaGFuayB5b3UgZm9yIHJlZ2lzdGVyaW5nIHdpdGggdXMuIFBsZWFzZSB2ZXJpZnkgeW91ciBlbWFpbCBhZGRyZXNzIGJ5IHZpc2l0aW5nOlxyXG4gICAgICAgICR7dmVyaWZpY2F0aW9uVXJsfVxyXG4gICAgICAgIFxyXG4gICAgICAgIFRoaXMgbGluayB3aWxsIGV4cGlyZSBpbiAyNCBob3Vycy5cclxuICAgICAgICBcclxuICAgICAgICBJZiB5b3UgZGlkbid0IGNyZWF0ZSBhbiBhY2NvdW50LCBwbGVhc2UgaWdub3JlIHRoaXMgZW1haWwuXHJcbiAgICAgICAgXHJcbiAgICAgICAgU21hcnQgVGVjaG5vbG9naWVzIEJhbmdsYWRlc2hcclxuICAgICAgICDgprjgp43gpq7gpr7gprDgp43gpp8g4Kaf4KeH4KaV4Kao4KeL4Kay4Kac4Ka/4Ka4IOCmrOCmvuCmguCmsuCmvuCmpuCnh+CmtlxyXG4gICAgICBgXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8gU2VuZCB2ZXJpZmljYXRpb24gZW1haWxcclxuICBhc3luYyBzZW5kVmVyaWZpY2F0aW9uRW1haWwodXNlckVtYWlsLCB1c2VyTmFtZSwgdmVyaWZpY2F0aW9uVG9rZW4pIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmICghdGhpcy50cmFuc3BvcnRlcikge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRW1haWwgc2VydmljZSBub3QgYXZhaWxhYmxlJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGVtYWlsQ29uZmlnID0gdGhpcy5jb25maWcuZ2V0RW1haWxDb25maWcoKTtcclxuICAgICAgY29uc3QgZW1haWxUZW1wbGF0ZSA9IHRoaXMuY3JlYXRlVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZSh1c2VyTmFtZSwgdmVyaWZpY2F0aW9uVG9rZW4pO1xyXG5cclxuICAgICAgY29uc3QgbWFpbE9wdGlvbnMgPSB7XHJcbiAgICAgICAgZnJvbTogYFwiU21hcnQgVGVjaG5vbG9naWVzIEJhbmdsYWRlc2hcIiA8JHtlbWFpbENvbmZpZy5mcm9tfT5gLFxyXG4gICAgICAgIHRvOiB1c2VyRW1haWwsXHJcbiAgICAgICAgc3ViamVjdDogZW1haWxUZW1wbGF0ZS5zdWJqZWN0LFxyXG4gICAgICAgIGh0bWw6IGVtYWlsVGVtcGxhdGUuaHRtbCxcclxuICAgICAgICB0ZXh0OiBlbWFpbFRlbXBsYXRlLnRleHRcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMudHJhbnNwb3J0ZXIuc2VuZE1haWwobWFpbE9wdGlvbnMpO1xyXG4gICAgICBcclxuICAgICAgdGhpcy5sb2dnZXIuaW5mbygnVmVyaWZpY2F0aW9uIGVtYWlsIHNlbnQgc3VjY2Vzc2Z1bGx5Jywge1xyXG4gICAgICAgIHRvOiB1c2VyRW1haWwsXHJcbiAgICAgICAgbWVzc2FnZUlkOiByZXN1bHQubWVzc2FnZUlkLFxyXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIG1lc3NhZ2VJZDogcmVzdWx0Lm1lc3NhZ2VJZCxcclxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9O1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gc2VuZCB2ZXJpZmljYXRpb24gZW1haWwnLCBlcnJvci5tZXNzYWdlLCB7XHJcbiAgICAgICAgdG86IHVzZXJFbWFpbCxcclxuICAgICAgICBlcnJvclR5cGU6IGVycm9yLm5hbWVcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBTZW5kIHdlbGNvbWUgZW1haWwgYWZ0ZXIgdmVyaWZpY2F0aW9uXHJcbiAgYXN5bmMgc2VuZFdlbGNvbWVFbWFpbCh1c2VyRW1haWwsIHVzZXJOYW1lKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoIXRoaXMudHJhbnNwb3J0ZXIpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VtYWlsIHNlcnZpY2Ugbm90IGF2YWlsYWJsZScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBlbWFpbENvbmZpZyA9IHRoaXMuY29uZmlnLmdldEVtYWlsQ29uZmlnKCk7XHJcblxyXG4gICAgICBjb25zdCBtYWlsT3B0aW9ucyA9IHtcclxuICAgICAgICBmcm9tOiBgXCJTbWFydCBUZWNobm9sb2dpZXMgQmFuZ2xhZGVzaFwiIDwke2VtYWlsQ29uZmlnLmZyb219PmAsXHJcbiAgICAgICAgdG86IHVzZXJFbWFpbCxcclxuICAgICAgICBzdWJqZWN0OiAnV2VsY29tZSB0byBTbWFydCBUZWNobm9sb2dpZXMgQmFuZ2xhZGVzaCAtIEFjY291bnQgQWN0aXZhdGVkIScsXHJcbiAgICAgICAgaHRtbDogYFxyXG4gICAgICAgICAgPCFET0NUWVBFIGh0bWw+XHJcbiAgICAgICAgICA8aHRtbD5cclxuICAgICAgICAgIDxoZWFkPlxyXG4gICAgICAgICAgICA8bWV0YSBjaGFyc2V0PVwidXRmLThcIj5cclxuICAgICAgICAgICAgPG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjBcIj5cclxuICAgICAgICAgICAgPHRpdGxlPldlbGNvbWU8L3RpdGxlPlxyXG4gICAgICAgICAgICA8c3R5bGU+XHJcbiAgICAgICAgICAgICAgYm9keSB7XHJcbiAgICAgICAgICAgICAgICBmb250LWZhbWlseTogJ1NlZ29lIFVJJywgVGFob21hLCBHZW5ldmEsIFZlcmRhbmEsIHNhbnMtc2VyaWY7XHJcbiAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMS42O1xyXG4gICAgICAgICAgICAgICAgY29sb3I6ICMzMzM7XHJcbiAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDYwMHB4O1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y0ZjRmNDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgLmNvbnRhaW5lciB7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogMzBweDtcclxuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICAgICAgICAgICAgICBib3gtc2hhZG93OiAwIDJweCAxMHB4IHJnYmEoMCwwLDAsMC4xKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgLmhlYWRlciB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAubG9nbyB7XHJcbiAgICAgICAgICAgICAgICBjb2xvcjogIzJjM2U1MDtcclxuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjRweDtcclxuICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgLnN1Y2Nlc3Mge1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Q0ZWRkYTtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAjMTU1NzI0O1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogMTVweDtcclxuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgICAgICAgICAgICAgIG1hcmdpbjogMjBweCAwO1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2MzZTZjYjtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgLmZvb3RlciB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAzMHB4O1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZy10b3A6IDIwcHg7XHJcbiAgICAgICAgICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2VlZTtcclxuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAjNjY2O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgPC9zdHlsZT5cclxuICAgICAgICAgIDwvaGVhZD5cclxuICAgICAgICAgIDxib2R5PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlclwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxvZ29cIj5TbWFydCBUZWNobm9sb2dpZXMgQmFuZ2xhZGVzaDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWNjZXNzXCI+XHJcbiAgICAgICAgICAgICAgICA8aDI+8J+OiSBXZWxjb21lLCAke3VzZXJOYW1lfSE8L2gyPlxyXG4gICAgICAgICAgICAgICAgPHA+WW91ciBhY2NvdW50IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBhY3RpdmF0ZWQgYW5kIHlvdSBjYW4gbm93IHN0YXJ0IHNob3BwaW5nIHdpdGggdXMuPC9wPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIDxwPlRoYW5rIHlvdSBmb3IgY2hvb3NpbmcgU21hcnQgVGVjaG5vbG9naWVzIEJhbmdsYWRlc2ggZm9yIHlvdXIgdGVjaG5vbG9neSBuZWVkcy4gV2UncmUgZXhjaXRlZCB0byBoYXZlIHlvdSBhcyBwYXJ0IG9mIG91ciBjb21tdW5pdHkhPC9wPlxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIDxwPllvdSBjYW4gbm93OjwvcD5cclxuICAgICAgICAgICAgICA8dWw+XHJcbiAgICAgICAgICAgICAgICA8bGk+QnJvd3NlIG91ciBleHRlbnNpdmUgY2F0YWxvZyBvZiBwcm9kdWN0czwvbGk+XHJcbiAgICAgICAgICAgICAgICA8bGk+QWRkIGl0ZW1zIHRvIHlvdXIgd2lzaGxpc3Q8L2xpPlxyXG4gICAgICAgICAgICAgICAgPGxpPlBsYWNlIG9yZGVycyBhbmQgdHJhY2sgZGVsaXZlcmllczwvbGk+XHJcbiAgICAgICAgICAgICAgICA8bGk+TGVhdmUgcmV2aWV3cyBmb3IgcHJvZHVjdHMgeW91IHB1cmNoYXNlPC9saT5cclxuICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIDxwPklmIHlvdSBoYXZlIGFueSBxdWVzdGlvbnMsIG91ciBjdXN0b21lciBzdXBwb3J0IHRlYW0gaXMgaGVyZSB0byBoZWxwLjwvcD5cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9vdGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8cD4mY29weTsgMjAyNCBTbWFydCBUZWNobm9sb2dpZXMgQmFuZ2xhZGVzaC4gQWxsIHJpZ2h0cyByZXNlcnZlZC48L3A+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9ib2R5PlxyXG4gICAgICAgICAgPC9odG1sPlxyXG4gICAgICAgIGAsXHJcbiAgICAgICAgdGV4dDogYFxyXG4gICAgICAgICAgV2VsY29tZSB0byBTbWFydCBUZWNobm9sb2dpZXMgQmFuZ2xhZGVzaCFcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgSGVsbG8gJHt1c2VyTmFtZX0sXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIFlvdXIgYWNjb3VudCBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgYWN0aXZhdGVkISBZb3UgY2FuIG5vdyBzdGFydCBzaG9wcGluZyB3aXRoIHVzLlxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBUaGFuayB5b3UgZm9yIGNob29zaW5nIFNtYXJ0IFRlY2hub2xvZ2llcyBCYW5nbGFkZXNoLlxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBTbWFydCBUZWNobm9sb2dpZXMgQmFuZ2xhZGVzaFxyXG4gICAgICAgIGBcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMudHJhbnNwb3J0ZXIuc2VuZE1haWwobWFpbE9wdGlvbnMpO1xyXG4gICAgICBcclxuICAgICAgdGhpcy5sb2dnZXIuaW5mbygnV2VsY29tZSBlbWFpbCBzZW50IHN1Y2Nlc3NmdWxseScsIHtcclxuICAgICAgICB0bzogdXNlckVtYWlsLFxyXG4gICAgICAgIG1lc3NhZ2VJZDogcmVzdWx0Lm1lc3NhZ2VJZCxcclxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBtZXNzYWdlSWQ6IHJlc3VsdC5tZXNzYWdlSWRcclxuICAgICAgfTtcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHNlbmQgd2VsY29tZSBlbWFpbCcsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBDaGVjayBpZiBlbWFpbCBzZXJ2aWNlIGlzIGF2YWlsYWJsZVxyXG4gIGlzQXZhaWxhYmxlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudHJhbnNwb3J0ZXIgIT09IG51bGw7XHJcbiAgfVxyXG5cclxuICAvLyBWYWxpZGF0ZSBlbWFpbCBmb3JtYXQgKGJhc2ljIHZhbGlkYXRpb24pXHJcbiAgdmFsaWRhdGVFbWFpbChlbWFpbCkge1xyXG4gICAgY29uc3QgZW1haWxSZWdleCA9IC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvO1xyXG4gICAgcmV0dXJuIGVtYWlsUmVnZXgudGVzdChlbWFpbCk7XHJcbiAgfVxyXG5cclxuICAvLyBDaGVjayBmb3IgZGlzcG9zYWJsZSBlbWFpbCBkb21haW5zIChiYXNpYyBjaGVjaylcclxuICBpc0Rpc3Bvc2FibGVFbWFpbChlbWFpbCkge1xyXG4gICAgY29uc3QgZGlzcG9zYWJsZURvbWFpbnMgPSBbXHJcbiAgICAgICcxMG1pbnV0ZW1haWwuY29tJyxcclxuICAgICAgJ3RlbXBtYWlsLm9yZycsXHJcbiAgICAgICdndWVycmlsbGFtYWlsLmNvbScsXHJcbiAgICAgICdtYWlsaW5hdG9yLmNvbScsXHJcbiAgICAgICd5b3BtYWlsLmNvbScsXHJcbiAgICAgICd0aHJvd2F3YXkuZW1haWwnXHJcbiAgICBdO1xyXG4gICAgXHJcbiAgICBjb25zdCBkb21haW4gPSBlbWFpbC5zcGxpdCgnQCcpWzFdPy50b0xvd2VyQ2FzZSgpO1xyXG4gICAgcmV0dXJuIGRpc3Bvc2FibGVEb21haW5zLmluY2x1ZGVzKGRvbWFpbik7XHJcbiAgfVxyXG5cclxuICAvLyBDcmVhdGUgcGFzc3dvcmQgcmVzZXQgZW1haWwgdGVtcGxhdGVcclxuICBjcmVhdGVQYXNzd29yZFJlc2V0RW1haWxUZW1wbGF0ZSh1c2VyTmFtZSwgdGVtcG9yYXJ5UGFzc3dvcmQsIHJlc2V0VG9rZW4pIHtcclxuICAgIGNvbnN0IHJlc2V0VXJsID0gYCR7cHJvY2Vzcy5lbnYuRlJPTlRFTkRfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnfS9yZXNldC1wYXNzd29yZD90b2tlbj0ke3Jlc2V0VG9rZW59YDtcclxuICAgIFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3ViamVjdDogJ1Bhc3N3b3JkIFJlc2V0IC0gU21hcnQgVGVjaG5vbG9naWVzIEJhbmdsYWRlc2gnLFxyXG4gICAgICBodG1sOiBgXHJcbiAgICAgICAgPCFET0NUWVBFIGh0bWw+XHJcbiAgICAgICAgPGh0bWw+XHJcbiAgICAgICAgPGhlYWQ+XHJcbiAgICAgICAgICA8bWV0YSBjaGFyc2V0PVwidXRmLThcIj5cclxuICAgICAgICAgIDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wXCI+XHJcbiAgICAgICAgICA8dGl0bGU+UGFzc3dvcmQgUmVzZXQ8L3RpdGxlPlxyXG4gICAgICAgICAgPHN0eWxlPlxyXG4gICAgICAgICAgICBib2R5IHtcclxuICAgICAgICAgICAgICBmb250LWZhbWlseTogJ1NlZ29lIFVJJywgVGFob21hLCBHZW5ldmEsIFZlcmRhbmEsIHNhbnMtc2VyaWY7XHJcbiAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNjtcclxuICAgICAgICAgICAgICBjb2xvcjogIzMzMztcclxuICAgICAgICAgICAgICBtYXgtd2lkdGg6IDYwMHB4O1xyXG4gICAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvO1xyXG4gICAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y0ZjRmNDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuY29udGFpbmVyIHtcclxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xyXG4gICAgICAgICAgICAgIHBhZGRpbmc6IDMwcHg7XHJcbiAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgICAgICAgICAgICBib3gtc2hhZG93OiAwIDJweCAxMHB4IHJnYmEoMCwwLDAsMC4xKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuaGVhZGVyIHtcclxuICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAubG9nbyB7XHJcbiAgICAgICAgICAgICAgY29sb3I6ICMyYzNlNTA7XHJcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAyNHB4O1xyXG4gICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLmNvbnRlbnQge1xyXG4gICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLnRlbXAtcGFzc3dvcmQge1xyXG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmYzY2Q7XHJcbiAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2ZmZWFhNztcclxuICAgICAgICAgICAgICBwYWRkaW5nOiAxNXB4O1xyXG4gICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgICAgICAgICAgICBtYXJnaW46IDIwcHggMDtcclxuICAgICAgICAgICAgICBmb250LWZhbWlseTogbW9ub3NwYWNlO1xyXG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLmJ1dHRvbiB7XHJcbiAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlNzRjM2M7XHJcbiAgICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgICAgIHBhZGRpbmc6IDEycHggMzBweDtcclxuICAgICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgICAgICAgICAgIG1hcmdpbjogMjBweCAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5idXR0b246aG92ZXIge1xyXG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNjMDM5MmI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLndhcm5pbmcge1xyXG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGQ3ZGE7XHJcbiAgICAgICAgICAgICAgY29sb3I6ICM3MjFjMjQ7XHJcbiAgICAgICAgICAgICAgcGFkZGluZzogMTVweDtcclxuICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICAgICAgICAgICAgbWFyZ2luOiAyMHB4IDA7XHJcbiAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2Y1YzZjYjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuZm9vdGVyIHtcclxuICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMzBweDtcclxuICAgICAgICAgICAgICBwYWRkaW5nLXRvcDogMjBweDtcclxuICAgICAgICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2VlZTtcclxuICAgICAgICAgICAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICAgICAgICAgICAgY29sb3I6ICM2NjY7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLmJhbmdsYWRlc2gtdGV4dCB7XHJcbiAgICAgICAgICAgICAgY29sb3I6ICMwMDZhNGU7XHJcbiAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIDwvc3R5bGU+XHJcbiAgICAgICAgPC9oZWFkPlxyXG4gICAgICAgIDxib2R5PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxvZ29cIj5TbWFydCBUZWNobm9sb2dpZXMgQmFuZ2xhZGVzaDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwiYmFuZ2xhZGVzaC10ZXh0XCI+4Ka44KeN4Kau4Ka+4Kaw4KeN4KafIOCmn+Cnh+CmleCmqOCni+CmsuCmnOCmv+CmuCDgpqzgpr7gpoLgprLgpr7gpqbgp4fgprY8L3A+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cclxuICAgICAgICAgICAgICA8aDI+UGFzc3dvcmQgUmVzZXQgUmVxdWVzdDwvaDI+XHJcbiAgICAgICAgICAgICAgPHA+SGVsbG8gJHt1c2VyTmFtZX0sPC9wPlxyXG4gICAgICAgICAgICAgIDxwPldlIHJlY2VpdmVkIGEgcmVxdWVzdCB0byByZXNldCB5b3VyIHBhc3N3b3JkIGZvciB5b3VyIFNtYXJ0IFRlY2hub2xvZ2llcyBCYW5nbGFkZXNoIGFjY291bnQuIEEgdGVtcG9yYXJ5IHBhc3N3b3JkIGhhcyBiZWVuIGdlbmVyYXRlZCBmb3IgeW91LjwvcD5cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGVtcC1wYXNzd29yZFwiPlxyXG4gICAgICAgICAgICAgICAgPHN0cm9uZz5UZW1wb3JhcnkgUGFzc3dvcmQ6PC9zdHJvbmc+PGJyPlxyXG4gICAgICAgICAgICAgICAgJHt0ZW1wb3JhcnlQYXNzd29yZH1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwid2FybmluZ1wiPlxyXG4gICAgICAgICAgICAgICAgPHN0cm9uZz7imqDvuI8gSW1wb3J0YW50IFNlY3VyaXR5IE5vdGljZTo8L3N0cm9uZz48YnI+XHJcbiAgICAgICAgICAgICAgICBUaGlzIHRlbXBvcmFyeSBwYXNzd29yZCB3aWxsIGFsbG93IHlvdSB0byBsb2cgaW4sIGJ1dCB5b3UgbXVzdCBjaGFuZ2UgaXQgaW1tZWRpYXRlbHkgYWZ0ZXIgbG9nZ2luZyBpbiBmb3Igc2VjdXJpdHkgcmVhc29ucy5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICA8cD5Zb3UgY2FuIGFsc28gdXNlIHRoZSBsaW5rIGJlbG93IHRvIHJlc2V0IHlvdXIgcGFzc3dvcmQgbWFudWFsbHk6PC9wPlxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7XCI+XHJcbiAgICAgICAgICAgICAgICA8YSBocmVmPVwiJHtyZXNldFVybH1cIiBjbGFzcz1cImJ1dHRvblwiPlJlc2V0IFBhc3N3b3JkPC9hPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIDxwPklmIHRoZSBidXR0b24gYWJvdmUgZG9lc24ndCB3b3JrLCB5b3UgY2FuIGNvcHkgYW5kIHBhc3RlIHRoaXMgbGluayBpbnRvIHlvdXIgYnJvd3Nlcjo8L3A+XHJcbiAgICAgICAgICAgICAgPHAgc3R5bGU9XCJ3b3JkLWJyZWFrOiBicmVhay1hbGw7IGNvbG9yOiAjNjY2OyBmb250LXNpemU6IDEycHg7XCI+JHtyZXNldFVybH08L3A+XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgPHA+PHN0cm9uZz5JbXBvcnRhbnQ6PC9zdHJvbmc+IFRoaXMgcmVzZXQgbGluayB3aWxsIGV4cGlyZSBpbiAxIGhvdXIgZm9yIHNlY3VyaXR5IHJlYXNvbnMuPC9wPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb290ZXJcIj5cclxuICAgICAgICAgICAgICA8cD5JZiB5b3UgZGlkbid0IHJlcXVlc3QgdGhpcyBwYXNzd29yZCByZXNldCwgcGxlYXNlIGNvbnRhY3Qgb3VyIHN1cHBvcnQgdGVhbSBpbW1lZGlhdGVseS48L3A+XHJcbiAgICAgICAgICAgICAgPHA+VGhpcyBpcyBhbiBhdXRvbWF0ZWQgbWVzc2FnZSBmcm9tIFNtYXJ0IFRlY2hub2xvZ2llcyBCYW5nbGFkZXNoLjwvcD5cclxuICAgICAgICAgICAgICA8cD4mY29weTsgMjAyNCBTbWFydCBUZWNobm9sb2dpZXMgQmFuZ2xhZGVzaC4gQWxsIHJpZ2h0cyByZXNlcnZlZC48L3A+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9ib2R5PlxyXG4gICAgICAgIDwvaHRtbD5cclxuICAgICAgYCxcclxuICAgICAgdGV4dDogYFxyXG4gICAgICAgIFBhc3N3b3JkIFJlc2V0IC0gU21hcnQgVGVjaG5vbG9naWVzIEJhbmdsYWRlc2hcclxuICAgICAgICBcclxuICAgICAgICBIZWxsbyAke3VzZXJOYW1lfSxcclxuICAgICAgICBcclxuICAgICAgICBXZSByZWNlaXZlZCBhIHJlcXVlc3QgdG8gcmVzZXQgeW91ciBwYXNzd29yZCBmb3IgeW91ciBTbWFydCBUZWNobm9sb2dpZXMgQmFuZ2xhZGVzaCBhY2NvdW50LlxyXG4gICAgICAgIFxyXG4gICAgICAgIFRlbXBvcmFyeSBQYXNzd29yZDogJHt0ZW1wb3JhcnlQYXNzd29yZH1cclxuICAgICAgICBcclxuICAgICAgICDimqDvuI8gSU1QT1JUQU5UOiBZb3UgbXVzdCBjaGFuZ2UgdGhpcyBwYXNzd29yZCBpbW1lZGlhdGVseSBhZnRlciBsb2dnaW5nIGluIGZvciBzZWN1cml0eSByZWFzb25zLlxyXG4gICAgICAgIFxyXG4gICAgICAgIFlvdSBjYW4gYWxzbyByZXNldCB5b3VyIHBhc3N3b3JkIHVzaW5nIHRoaXMgbGluazogJHtyZXNldFVybH1cclxuICAgICAgICBcclxuICAgICAgICBUaGlzIGxpbmsgd2lsbCBleHBpcmUgaW4gMSBob3VyLlxyXG4gICAgICAgIFxyXG4gICAgICAgIElmIHlvdSBkaWRuJ3QgcmVxdWVzdCB0aGlzIHBhc3N3b3JkIHJlc2V0LCBwbGVhc2UgY29udGFjdCBvdXIgc3VwcG9ydCB0ZWFtIGltbWVkaWF0ZWx5LlxyXG4gICAgICAgIFxyXG4gICAgICAgIFNtYXJ0IFRlY2hub2xvZ2llcyBCYW5nbGFkZXNoXHJcbiAgICAgICAg4Ka44KeN4Kau4Ka+4Kaw4KeN4KafIOCmn+Cnh+CmleCmqOCni+CmsuCmnOCmv+CmuCDgpqzgpr7gpoLgprLgpr7gpqbgp4fgprZcclxuICAgICAgYFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vIFNlbmQgcGFzc3dvcmQgcmVzZXQgZW1haWxcclxuICBhc3luYyBzZW5kUGFzc3dvcmRSZXNldEVtYWlsKHVzZXJFbWFpbCwgdXNlck5hbWUsIHRlbXBvcmFyeVBhc3N3b3JkLCByZXNldFRva2VuKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoIXRoaXMudHJhbnNwb3J0ZXIpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VtYWlsIHNlcnZpY2Ugbm90IGF2YWlsYWJsZScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBlbWFpbENvbmZpZyA9IHRoaXMuY29uZmlnLmdldEVtYWlsQ29uZmlnKCk7XHJcbiAgICAgIGNvbnN0IGVtYWlsVGVtcGxhdGUgPSB0aGlzLmNyZWF0ZVBhc3N3b3JkUmVzZXRFbWFpbFRlbXBsYXRlKHVzZXJOYW1lLCB0ZW1wb3JhcnlQYXNzd29yZCwgcmVzZXRUb2tlbik7XHJcblxyXG4gICAgICBjb25zdCBtYWlsT3B0aW9ucyA9IHtcclxuICAgICAgICBmcm9tOiBgXCJTbWFydCBUZWNobm9sb2dpZXMgQmFuZ2xhZGVzaFwiIDwke2VtYWlsQ29uZmlnLmZyb219PmAsXHJcbiAgICAgICAgdG86IHVzZXJFbWFpbCxcclxuICAgICAgICBzdWJqZWN0OiBlbWFpbFRlbXBsYXRlLnN1YmplY3QsXHJcbiAgICAgICAgaHRtbDogZW1haWxUZW1wbGF0ZS5odG1sLFxyXG4gICAgICAgIHRleHQ6IGVtYWlsVGVtcGxhdGUudGV4dFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy50cmFuc3BvcnRlci5zZW5kTWFpbChtYWlsT3B0aW9ucyk7XHJcbiAgICAgIFxyXG4gICAgICB0aGlzLmxvZ2dlci5pbmZvKCdQYXNzd29yZCByZXNldCBlbWFpbCBzZW50IHN1Y2Nlc3NmdWxseScsIHtcclxuICAgICAgICB0bzogdXNlckVtYWlsLFxyXG4gICAgICAgIG1lc3NhZ2VJZDogcmVzdWx0Lm1lc3NhZ2VJZCxcclxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBtZXNzYWdlSWQ6IHJlc3VsdC5tZXNzYWdlSWQsXHJcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgfTtcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHNlbmQgcGFzc3dvcmQgcmVzZXQgZW1haWwnLCBlcnJvci5tZXNzYWdlLCB7XHJcbiAgICAgICAgdG86IHVzZXJFbWFpbCxcclxuICAgICAgICBlcnJvclR5cGU6IGVycm9yLm5hbWVcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBTaW5nbGV0b24gaW5zdGFuY2VcclxuY29uc3QgZW1haWxTZXJ2aWNlID0gbmV3IEVtYWlsU2VydmljZSgpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgRW1haWxTZXJ2aWNlLFxyXG4gIGVtYWlsU2VydmljZVxyXG59OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQWVZO0lBQUFBLGNBQUEsWUFBQUEsQ0FBQTtNQUFBLE9BQUFDLGNBQUE7SUFBQTtFQUFBO0VBQUEsT0FBQUEsY0FBQTtBQUFBO0FBQUFELGNBQUE7QUFmWixNQUFNRSxVQUFVO0FBQUE7QUFBQSxDQUFBRixjQUFBLEdBQUFHLENBQUEsT0FBR0MsT0FBTyxDQUFDLFlBQVksQ0FBQztBQUN4QyxNQUFNQyxNQUFNO0FBQUE7QUFBQSxDQUFBTCxjQUFBLEdBQUFHLENBQUEsT0FBR0MsT0FBTyxDQUFDLFFBQVEsQ0FBQztBQUNoQyxNQUFNRSxhQUFhO0FBQUE7QUFBQSxDQUFBTixjQUFBLEdB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