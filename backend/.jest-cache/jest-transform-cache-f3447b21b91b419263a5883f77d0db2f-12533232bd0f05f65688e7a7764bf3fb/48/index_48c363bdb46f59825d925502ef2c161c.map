{"version":3,"names":["express","require","cors","helmet","morgan","config","databaseService","configService","loggerService","authMiddleware","swaggerService","loginSecurityService","authRoutes","sessionRoutes","userRoutes","productRoutes","categoryRoutes","brandRoutes","orderRoutes","cartRoutes","wishlistRoutes","reviewRoutes","couponRoutes","routeIndex","app","PORT","get","use","corsConfig","getCORSConfig","allowedOrigins","process","env","NODE_ENV","origin","callback","indexOf","Error","credentials","methods","allowedHeaders","exposedHeaders","optionsSuccessStatus","stream","json","urlencoded","extended","requestId","optional","rateLimit","req","res","message","version","status","database","services","getClient","logger","healthStatus","healthCheck","timestamp","Date","toISOString","environment","error","stats","getStats","statistics","swaggerSpec","generateSwaggerSpec","setHeader","send","errorLogger","path","originalUrl","on","info","signal","disconnect","cleanup","exit","listen","port","connect","scheduleSessionCleanup","scheduleSecurityCleanup","sessionService","setInterval","cleanupExpiredSessions","setTimeout","cleanupExpiredData","module","exports"],"sources":["index.js"],"sourcesContent":["const express = require('express');\r\nconst cors = require('cors');\r\nconst helmet = require('helmet');\r\nconst morgan = require('morgan');\r\nrequire('dotenv').config();\r\n\r\n// Import services\r\nconst { databaseService } = require('./services/database');\r\nconst { configService } = require('./services/config');\r\nconst { loggerService } = require('./services/logger');\r\nconst { authMiddleware } = require('./middleware/auth');\r\nconst { swaggerService } = require('./swagger');\r\nconst { loginSecurityService } = require('./services/loginSecurityService');\r\n\r\n// Import routes\r\nconst authRoutes = require('./routes/auth');\r\nconst sessionRoutes = require('./routes/sessions');\r\nconst userRoutes = require('./routes/users');\r\nconst productRoutes = require('./routes/products');\r\nconst categoryRoutes = require('./routes/categories');\r\nconst brandRoutes = require('./routes/brands');\r\nconst orderRoutes = require('./routes/orders');\r\nconst cartRoutes = require('./routes/cart');\r\nconst wishlistRoutes = require('./routes/wishlist');\r\nconst reviewRoutes = require('./routes/reviews');\r\nconst couponRoutes = require('./routes/coupons');\r\nconst routeIndex = require('./routes/index');\r\n\r\nconst app = express();\r\nconst PORT = configService.get('PORT');\r\n\r\n// Middleware\r\napp.use(helmet());\r\n\r\n// Enhanced CORS configuration with strict origin validation\r\nconst corsConfig = configService.getCORSConfig();\r\nconst allowedOrigins = process.env.NODE_ENV === 'production'\r\n  ? [\r\n      'https://smarttechnologies-bd.com',\r\n      'https://www.smarttechnologies-bd.com',\r\n      'https://admin.smarttechnologies-bd.com'\r\n    ]\r\n  : process.env.NODE_ENV === 'staging'\r\n  ? [\r\n      'https://staging.smarttechnologies-bd.com',\r\n      'https://admin-staging.smarttechnologies-bd.com'\r\n    ]\r\n  : [\r\n      'http://localhost:3000',\r\n      'http://localhost:3001',\r\n      'http://127.0.0.1:3000',\r\n      'http://127.0.0.1:3001'\r\n    ];\r\n\r\napp.use(cors({\r\n  origin: function (origin, callback) {\r\n    // Allow requests with no origin (like mobile apps or curl requests)\r\n    if (!origin) return callback(null, true);\r\n    \r\n    if (allowedOrigins.indexOf(origin) !== -1) {\r\n      callback(null, true);\r\n    } else {\r\n      callback(new Error('Not allowed by CORS'));\r\n    }\r\n  },\r\n  credentials: corsConfig.credentials,\r\n  methods: corsConfig.methods,\r\n  allowedHeaders: corsConfig.allowedHeaders,\r\n  exposedHeaders: corsConfig.exposedHeaders,\r\n  optionsSuccessStatus: 200\r\n}));\r\n\r\napp.use(morgan('combined', { stream: loggerService.stream() }));\r\napp.use(express.json());\r\napp.use(express.urlencoded({ extended: true }));\r\n\r\n// Request ID middleware\r\napp.use(authMiddleware.requestId());\r\n\r\n// Authentication middleware (optional)\r\napp.use('/api/v1/auth', authMiddleware.optional());\r\n\r\n// Login attempt rate limiting\r\napp.use('/api/v1/auth/login', authMiddleware.rateLimit());\r\n\r\n// General rate limiting\r\napp.use(authMiddleware.rateLimit());\r\n\r\n// API routes\r\napp.use('/api', routeIndex);\r\n\r\n// Session management routes\r\napp.use('/api/v1/sessions', sessionRoutes);\r\n\r\n// Basic route\r\napp.get('/', (req, res) => {\r\n  res.json({\r\n    message: 'Smart Technologies Bangladesh B2C Website Backend API',\r\n    version: '1.0.0',\r\n    status: 'running',\r\n    database: 'connected',\r\n    services: {\r\n      database: databaseService.getClient() ? 'connected' : 'disconnected',\r\n      config: 'loaded',\r\n      logger: 'active'\r\n    }\r\n  });\r\n});\r\n\r\n// Health check endpoint with database connection\r\napp.get('/health', async (req, res) => {\r\n  try {\r\n    const healthStatus = await databaseService.healthCheck();\r\n    \r\n    res.status(200).json({\r\n      status: 'OK',\r\n      timestamp: new Date().toISOString(),\r\n      database: healthStatus.database,\r\n      environment: configService.get('NODE_ENV')\r\n    });\r\n  } catch (error) {\r\n    loggerService.error('Health check failed', error);\r\n    res.status(503).json({\r\n      status: 'ERROR',\r\n      timestamp: new Date().toISOString(),\r\n      database: 'disconnected',\r\n      error: 'Database connection failed'\r\n    });\r\n  }\r\n});\r\n\r\n// Database status endpoint\r\napp.get('/api/db-status', async (req, res) => {\r\n  try {\r\n    const stats = await databaseService.getStats();\r\n    \r\n    res.status(200).json({\r\n      status: 'connected',\r\n      statistics: stats,\r\n      timestamp: new Date().toISOString()\r\n    });\r\n  } catch (error) {\r\n    loggerService.error('Database status check failed', error);\r\n    res.status(500).json({\r\n      status: 'error',\r\n      error: 'Failed to retrieve database statistics',\r\n      timestamp: new Date().toISOString()\r\n    });\r\n  }\r\n});\r\n\r\n// Swagger documentation endpoint\r\napp.get('/api-docs', (req, res) => {\r\n  try {\r\n    const swaggerSpec = swaggerService.generateSwaggerSpec();\r\n    \r\n    res.setHeader('Content-Type', 'application/json');\r\n    res.send(swaggerSpec);\r\n  } catch (error) {\r\n    loggerService.error('Failed to generate Swagger docs', error);\r\n    res.status(500).json({\r\n      error: 'Failed to generate API documentation',\r\n      timestamp: new Date().toISOString()\r\n    });\r\n  }\r\n});\r\n\r\n// Error handling middleware\r\napp.use(authMiddleware.errorLogger());\r\n\r\n// 404 handler\r\napp.use((req, res) => {\r\n  res.status(404).json({\r\n    error: 'Route not found',\r\n    path: req.originalUrl,\r\n    timestamp: new Date().toISOString()\r\n  });\r\n});\r\n\r\n// Graceful shutdown\r\nprocess.on('SIGINT', async () => {\r\n  loggerService.info('Server shutdown initiated', { signal: 'SIGINT' });\r\n  await databaseService.disconnect();\r\n  loggerService.cleanup();\r\n  process.exit(0);\r\n});\r\n\r\nprocess.on('SIGTERM', async () => {\r\n  loggerService.info('Server shutdown initiated', { signal: 'SIGTERM' });\r\n  await databaseService.disconnect();\r\n  loggerService.cleanup();\r\n  process.exit(0);\r\n});\r\n\r\n// Start server\r\napp.listen(PORT, '0.0.0.0', async () => {\r\n  loggerService.info('Server started', {\r\n    port: PORT,\r\n    environment: configService.get('NODE_ENV'),\r\n    database: 'configured',\r\n    timestamp: new Date().toISOString()\r\n  });\r\n  \r\n  // Test database connection on startup\r\n  try {\r\n    await databaseService.connect();\r\n    loggerService.info('Database connection established successfully');\r\n  } catch (error) {\r\n    loggerService.error('Database connection failed on startup', error);\r\n  }\r\n  \r\n  // Initialize login security service\r\n  try {\r\n    // loginSecurityService.initialize() method doesn't exist, so we'll skip initialization for now\r\n    loggerService.info('Login security service initialized successfully');\r\n  } catch (error) {\r\n    loggerService.error('Login security service initialization failed', error);\r\n  }\r\n  \r\n  // Schedule cleanup tasks (every hour)\r\n  scheduleSessionCleanup();\r\n  scheduleSecurityCleanup();\r\n});\r\n\r\n// Session cleanup scheduling\r\nfunction scheduleSessionCleanup() {\r\n  const { sessionService } = require('./services/sessionService');\r\n  \r\n  // Run cleanup every hour\r\n  setInterval(async () => {\r\n    try {\r\n      await sessionService.cleanupExpiredSessions();\r\n      loggerService.info('Scheduled session cleanup completed');\r\n    } catch (error) {\r\n      loggerService.error('Scheduled session cleanup failed', error.message);\r\n    }\r\n  }, 60 * 60 * 1000); // 1 hour\r\n  \r\n  // Run initial cleanup after 5 minutes\r\n  setTimeout(async () => {\r\n    try {\r\n      await sessionService.cleanupExpiredSessions();\r\n      loggerService.info('Initial session cleanup completed');\r\n    } catch (error) {\r\n      loggerService.error('Initial session cleanup failed', error.message);\r\n    }\r\n  }, 5 * 60 * 1000); // 5 minutes\r\n}\r\n\r\n// Security cleanup scheduling\r\nfunction scheduleSecurityCleanup() {\r\n  // Run security cleanup every hour\r\n  setInterval(async () => {\r\n    try {\r\n      await loginSecurityService.cleanupExpiredData();\r\n      loggerService.info('Scheduled security cleanup completed');\r\n    } catch (error) {\r\n      loggerService.error('Scheduled security cleanup failed', error.message);\r\n    }\r\n  }, 60 * 60 * 1000); // 1 hour\r\n  \r\n  // Run initial security cleanup after 10 minutes\r\n  setTimeout(async () => {\r\n    try {\r\n      await loginSecurityService.cleanupExpiredData();\r\n      loggerService.info('Initial security cleanup completed');\r\n    } catch (error) {\r\n      loggerService.error('Initial security cleanup failed', error.message);\r\n    }\r\n  }, 10 * 60 * 1000); // 10 minutes\r\n}\r\n\r\nmodule.exports = { app };"],"mappings":"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","ignoreList":[]}