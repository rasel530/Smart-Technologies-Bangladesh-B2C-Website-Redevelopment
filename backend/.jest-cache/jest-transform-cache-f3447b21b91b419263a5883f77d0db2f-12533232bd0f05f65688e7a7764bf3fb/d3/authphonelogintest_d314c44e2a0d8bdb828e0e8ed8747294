93aeab15edef5dd25c2b90aeeed72e27
// Mock the services
_getJestObj().mock('../services/emailService');
_getJestObj().mock('../services/phoneValidationService');
_getJestObj().mock('../services/passwordService');
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
const request = require('supertest');
const express = require('express');
const {
  PrismaClient
} = require('@prisma/client');
const bcrypt = require('bcryptjs');
const jwt = require('jsonwebtoken');
const authRoutes = require('../routes/auth');
const {
  emailService
} = require('../services/emailService');
const {
  phoneValidationService
} = require('../services/phoneValidationService');
const {
  passwordService
} = require('../services/passwordService');
const app = express();
app.use(express.json());
app.use('/auth', authRoutes);
describe('Auth Phone Login Tests', () => {
  let prisma;
  let testUser;
  beforeAll(async () => {
    prisma = new PrismaClient();

    // Create a test user with both email and phone
    const hashedPassword = await bcrypt.hash('TestPassword123!', 10);
    testUser = await prisma.user.create({
      data: {
        email: 'test@example.com',
        phone: '+8801712345678',
        password: hashedPassword,
        firstName: 'Test',
        lastName: 'User',
        role: 'CUSTOMER',
        status: 'ACTIVE'
      }
    });
  });
  afterAll(async () => {
    // Clean up test data
    if (testUser) {
      await prisma.user.delete({
        where: {
          id: testUser.id
        }
      });
    }
    await prisma.$disconnect();
  });
  beforeEach(() => {
    jest.clearAllMocks();
  });
  describe('POST /auth/login', () => {
    describe('Email Login', () => {
      it('should login successfully with valid email and password', async () => {
        const response = await request(app).post('/auth/login').send({
          identifier: 'test@example.com',
          password: 'TestPassword123!'
        });
        expect(response.status).toBe(200);
        expect(response.body.message).toBe('Login successful');
        expect(response.body.user.email).toBe('test@example.com');
        expect(response.body.loginType).toBe('email');
        expect(response.body.token).toBeDefined();
      });
      it('should reject login with invalid email', async () => {
        const response = await request(app).post('/auth/login').send({
          identifier: 'invalid@example.com',
          password: 'TestPassword123!'
        });
        expect(response.status).toBe(401);
        expect(response.body.error).toBe('Invalid credentials');
      });
      it('should reject login with invalid email format', async () => {
        emailService.validateEmail.mockReturnValue(false);
        const response = await request(app).post('/auth/login').send({
          identifier: 'invalid-email',
          password: 'TestPassword123!'
        });
        expect(response.status).toBe(400);
        expect(response.body.error).toBe('Invalid email format');
      });
    });
    describe('Phone Login', () => {
      it('should login successfully with valid phone and password', async () => {
        phoneValidationService.validateForUseCase.mockReturnValue({
          isValid: true,
          normalizedPhone: '+8801712345678',
          type: 'mobile',
          operator: 'Grameenphone',
          canLogin: true
        });
        const response = await request(app).post('/auth/login').send({
          identifier: '01712345678',
          password: 'TestPassword123!'
        });
        expect(response.status).toBe(200);
        expect(response.body.message).toBe('Login successful');
        expect(response.body.user.phone).toBe('+8801712345678');
        expect(response.body.loginType).toBe('phone');
        expect(response.body.token).toBeDefined();
      });
      it('should reject login with invalid phone format', async () => {
        phoneValidationService.validateForUseCase.mockReturnValue({
          isValid: false,
          error: 'Invalid phone format',
          errorBn: 'অবৈধ ফোন ফরম্যাট',
          code: 'INVALID_FORMAT'
        });
        const response = await request(app).post('/auth/login').send({
          identifier: '12345',
          password: 'TestPassword123!'
        });
        expect(response.status).toBe(400);
        expect(response.body.error).toBe('Invalid phone format');
      });
      it('should reject login with non-mobile phone', async () => {
        phoneValidationService.validateForUseCase.mockReturnValue({
          isValid: false,
          error: 'Only mobile numbers can be used for login',
          errorBn: 'শুধুমাত্রমাত্র মোবাইল নম্বর দিয়ে লগিন করা যায়',
          code: 'MOBILE_ONLY'
        });
        const response = await request(app).post('/auth/login').send({
          identifier: '0212345678',
          // Landline
          password: 'TestPassword123!'
        });
        expect(response.status).toBe(400);
        expect(response.body.error).toBe('Invalid phone format');
      });
    });
    describe('Password Validation', () => {
      it('should reject login with wrong password', async () => {
        const response = await request(app).post('/auth/login').send({
          identifier: 'test@example.com',
          password: 'WrongPassword123!'
        });
        expect(response.status).toBe(401);
        expect(response.body.error).toBe('Invalid credentials');
      });
    });
    describe('User Status Validation', () => {
      it('should reject login for pending user', async () => {
        // Create a pending user
        const pendingUser = await prisma.user.create({
          data: {
            email: 'pending@example.com',
            password: await bcrypt.hash('TestPassword123!', 10),
            firstName: 'Pending',
            lastName: 'User',
            role: 'CUSTOMER',
            status: 'PENDING'
          }
        });
        const response = await request(app).post('/auth/login').send({
          identifier: 'pending@example.com',
          password: 'TestPassword123!'
        });
        expect(response.status).toBe(403);
        expect(response.body.error).toBe('Account not verified');
        expect(response.body.requiresVerification).toBe(true);
        expect(response.body.verificationType).toBe('email');

        // Clean up
        await prisma.user.delete({
          where: {
            id: pendingUser.id
          }
        });
      });
    });
    describe('Input Validation', () => {
      it('should reject login with missing identifier', async () => {
        const response = await request(app).post('/auth/login').send({
          password: 'TestPassword123!'
        });
        expect(response.status).toBe(400);
        expect(response.body.error).toBe('Validation failed');
      });
      it('should reject login with missing password', async () => {
        const response = await request(app).post('/auth/login').send({
          identifier: 'test@example.com'
        });
        expect(response.status).toBe(400);
        expect(response.body.error).toBe('Validation failed');
      });
      it('should reject login with empty identifier', async () => {
        const response = await request(app).post('/auth/login').send({
          identifier: '',
          password: 'TestPassword123!'
        });
        expect(response.status).toBe(400);
        expect(response.body.error).toBe('Validation failed');
      });
    });
    describe('JWT Token Generation', () => {
      it('should generate valid JWT token', async () => {
        const response = await request(app).post('/auth/login').send({
          identifier: 'test@example.com',
          password: 'TestPassword123!'
        });
        expect(response.status).toBe(200);
        expect(response.body.token).toBeDefined();

        // Verify the token
        const decoded = jwt.verify(response.body.token, process.env.JWT_SECRET || 'test-secret');
        expect(decoded.userId).toBe(testUser.id);
        expect(decoded.email).toBe(testUser.email);
        expect(decoded.role).toBe(testUser.role);
      });
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJqZXN0IiwicmVxdWlyZSIsInJlcXVlc3QiLCJleHByZXNzIiwiUHJpc21hQ2xpZW50IiwiYmNyeXB0Iiwiand0IiwiYXV0aFJvdXRlcyIsImVtYWlsU2VydmljZSIsInBob25lVmFsaWRhdGlvblNlcnZpY2UiLCJwYXNzd29yZFNlcnZpY2UiLCJhcHAiLCJ1c2UiLCJqc29uIiwiZGVzY3JpYmUiLCJwcmlzbWEiLCJ0ZXN0VXNlciIsImJlZm9yZUFsbCIsImhhc2hlZFBhc3N3b3JkIiwiaGFzaCIsInVzZXIiLCJjcmVhdGUiLCJkYXRhIiwiZW1haWwiLCJwaG9uZSIsInBhc3N3b3JkIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJyb2xlIiwic3RhdHVzIiwiYWZ0ZXJBbGwiLCJkZWxldGUiLCJ3aGVyZSIsImlkIiwiJGRpc2Nvbm5lY3QiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwicmVzcG9uc2UiLCJwb3N0Iiwic2VuZCIsImlkZW50aWZpZXIiLCJleHBlY3QiLCJ0b0JlIiwiYm9keSIsIm1lc3NhZ2UiLCJsb2dpblR5cGUiLCJ0b2tlbiIsInRvQmVEZWZpbmVkIiwiZXJyb3IiLCJ2YWxpZGF0ZUVtYWlsIiwibW9ja1JldHVyblZhbHVlIiwidmFsaWRhdGVGb3JVc2VDYXNlIiwiaXNWYWxpZCIsIm5vcm1hbGl6ZWRQaG9uZSIsInR5cGUiLCJvcGVyYXRvciIsImNhbkxvZ2luIiwiZXJyb3JCbiIsImNvZGUiLCJwZW5kaW5nVXNlciIsInJlcXVpcmVzVmVyaWZpY2F0aW9uIiwidmVyaWZpY2F0aW9uVHlwZSIsImRlY29kZWQiLCJ2ZXJpZnkiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsInVzZXJJZCJdLCJzb3VyY2VzIjpbImF1dGgtcGhvbmUtbG9naW4udGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1ZXN0ID0gcmVxdWlyZSgnc3VwZXJ0ZXN0Jyk7XHJcbmNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbmNvbnN0IHsgUHJpc21hQ2xpZW50IH0gPSByZXF1aXJlKCdAcHJpc21hL2NsaWVudCcpO1xyXG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKCdiY3J5cHRqcycpO1xyXG5jb25zdCBqd3QgPSByZXF1aXJlKCdqc29ud2VidG9rZW4nKTtcclxuXHJcbi8vIE1vY2sgdGhlIHNlcnZpY2VzXHJcbmplc3QubW9jaygnLi4vc2VydmljZXMvZW1haWxTZXJ2aWNlJyk7XHJcbmplc3QubW9jaygnLi4vc2VydmljZXMvcGhvbmVWYWxpZGF0aW9uU2VydmljZScpO1xyXG5qZXN0Lm1vY2soJy4uL3NlcnZpY2VzL3Bhc3N3b3JkU2VydmljZScpO1xyXG5cclxuY29uc3QgYXV0aFJvdXRlcyA9IHJlcXVpcmUoJy4uL3JvdXRlcy9hdXRoJyk7XHJcbmNvbnN0IHsgZW1haWxTZXJ2aWNlIH0gPSByZXF1aXJlKCcuLi9zZXJ2aWNlcy9lbWFpbFNlcnZpY2UnKTtcclxuY29uc3QgeyBwaG9uZVZhbGlkYXRpb25TZXJ2aWNlIH0gPSByZXF1aXJlKCcuLi9zZXJ2aWNlcy9waG9uZVZhbGlkYXRpb25TZXJ2aWNlJyk7XHJcbmNvbnN0IHsgcGFzc3dvcmRTZXJ2aWNlIH0gPSByZXF1aXJlKCcuLi9zZXJ2aWNlcy9wYXNzd29yZFNlcnZpY2UnKTtcclxuXHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XHJcbmFwcC51c2UoJy9hdXRoJywgYXV0aFJvdXRlcyk7XHJcblxyXG5kZXNjcmliZSgnQXV0aCBQaG9uZSBMb2dpbiBUZXN0cycsICgpID0+IHtcclxuICBsZXQgcHJpc21hO1xyXG4gIGxldCB0ZXN0VXNlcjtcclxuXHJcbiAgYmVmb3JlQWxsKGFzeW5jICgpID0+IHtcclxuICAgIHByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoKTtcclxuICAgIFxyXG4gICAgLy8gQ3JlYXRlIGEgdGVzdCB1c2VyIHdpdGggYm90aCBlbWFpbCBhbmQgcGhvbmVcclxuICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2goJ1Rlc3RQYXNzd29yZDEyMyEnLCAxMCk7XHJcbiAgICB0ZXN0VXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmNyZWF0ZSh7XHJcbiAgICAgIGRhdGE6IHtcclxuICAgICAgICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLFxyXG4gICAgICAgIHBob25lOiAnKzg4MDE3MTIzNDU2NzgnLFxyXG4gICAgICAgIHBhc3N3b3JkOiBoYXNoZWRQYXNzd29yZCxcclxuICAgICAgICBmaXJzdE5hbWU6ICdUZXN0JyxcclxuICAgICAgICBsYXN0TmFtZTogJ1VzZXInLFxyXG4gICAgICAgIHJvbGU6ICdDVVNUT01FUicsXHJcbiAgICAgICAgc3RhdHVzOiAnQUNUSVZFJ1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgYWZ0ZXJBbGwoYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8gQ2xlYW4gdXAgdGVzdCBkYXRhXHJcbiAgICBpZiAodGVzdFVzZXIpIHtcclxuICAgICAgYXdhaXQgcHJpc21hLnVzZXIuZGVsZXRlKHtcclxuICAgICAgICB3aGVyZTogeyBpZDogdGVzdFVzZXIuaWQgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGF3YWl0IHByaXNtYS4kZGlzY29ubmVjdCgpO1xyXG4gIH0pO1xyXG5cclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnUE9TVCAvYXV0aC9sb2dpbicsICgpID0+IHtcclxuICAgIGRlc2NyaWJlKCdFbWFpbCBMb2dpbicsICgpID0+IHtcclxuICAgICAgaXQoJ3Nob3VsZCBsb2dpbiBzdWNjZXNzZnVsbHkgd2l0aCB2YWxpZCBlbWFpbCBhbmQgcGFzc3dvcmQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAgIC5wb3N0KCcvYXV0aC9sb2dpbicpXHJcbiAgICAgICAgICAuc2VuZCh7XHJcbiAgICAgICAgICAgIGlkZW50aWZpZXI6ICd0ZXN0QGV4YW1wbGUuY29tJyxcclxuICAgICAgICAgICAgcGFzc3dvcmQ6ICdUZXN0UGFzc3dvcmQxMjMhJ1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcclxuICAgICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5tZXNzYWdlKS50b0JlKCdMb2dpbiBzdWNjZXNzZnVsJyk7XHJcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkudXNlci5lbWFpbCkudG9CZSgndGVzdEBleGFtcGxlLmNvbScpO1xyXG4gICAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmxvZ2luVHlwZSkudG9CZSgnZW1haWwnKTtcclxuICAgICAgICBleHBlY3QocmVzcG9uc2UuYm9keS50b2tlbikudG9CZURlZmluZWQoKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpdCgnc2hvdWxkIHJlamVjdCBsb2dpbiB3aXRoIGludmFsaWQgZW1haWwnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAgIC5wb3N0KCcvYXV0aC9sb2dpbicpXHJcbiAgICAgICAgICAuc2VuZCh7XHJcbiAgICAgICAgICAgIGlkZW50aWZpZXI6ICdpbnZhbGlkQGV4YW1wbGUuY29tJyxcclxuICAgICAgICAgICAgcGFzc3dvcmQ6ICdUZXN0UGFzc3dvcmQxMjMhJ1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAxKTtcclxuICAgICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5lcnJvcikudG9CZSgnSW52YWxpZCBjcmVkZW50aWFscycpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGl0KCdzaG91bGQgcmVqZWN0IGxvZ2luIHdpdGggaW52YWxpZCBlbWFpbCBmb3JtYXQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgZW1haWxTZXJ2aWNlLnZhbGlkYXRlRW1haWwubW9ja1JldHVyblZhbHVlKGZhbHNlKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgICAgLnBvc3QoJy9hdXRoL2xvZ2luJylcclxuICAgICAgICAgIC5zZW5kKHtcclxuICAgICAgICAgICAgaWRlbnRpZmllcjogJ2ludmFsaWQtZW1haWwnLFxyXG4gICAgICAgICAgICBwYXNzd29yZDogJ1Rlc3RQYXNzd29yZDEyMyEnXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDApO1xyXG4gICAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmVycm9yKS50b0JlKCdJbnZhbGlkIGVtYWlsIGZvcm1hdCcpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGRlc2NyaWJlKCdQaG9uZSBMb2dpbicsICgpID0+IHtcclxuICAgICAgaXQoJ3Nob3VsZCBsb2dpbiBzdWNjZXNzZnVsbHkgd2l0aCB2YWxpZCBwaG9uZSBhbmQgcGFzc3dvcmQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgcGhvbmVWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZUZvclVzZUNhc2UubW9ja1JldHVyblZhbHVlKHtcclxuICAgICAgICAgIGlzVmFsaWQ6IHRydWUsXHJcbiAgICAgICAgICBub3JtYWxpemVkUGhvbmU6ICcrODgwMTcxMjM0NTY3OCcsXHJcbiAgICAgICAgICB0eXBlOiAnbW9iaWxlJyxcclxuICAgICAgICAgIG9wZXJhdG9yOiAnR3JhbWVlbnBob25lJyxcclxuICAgICAgICAgIGNhbkxvZ2luOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgICAucG9zdCgnL2F1dGgvbG9naW4nKVxyXG4gICAgICAgICAgLnNlbmQoe1xyXG4gICAgICAgICAgICBpZGVudGlmaWVyOiAnMDE3MTIzNDU2NzgnLFxyXG4gICAgICAgICAgICBwYXNzd29yZDogJ1Rlc3RQYXNzd29yZDEyMyEnXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xyXG4gICAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5Lm1lc3NhZ2UpLnRvQmUoJ0xvZ2luIHN1Y2Nlc3NmdWwnKTtcclxuICAgICAgICBleHBlY3QocmVzcG9uc2UuYm9keS51c2VyLnBob25lKS50b0JlKCcrODgwMTcxMjM0NTY3OCcpO1xyXG4gICAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmxvZ2luVHlwZSkudG9CZSgncGhvbmUnKTtcclxuICAgICAgICBleHBlY3QocmVzcG9uc2UuYm9keS50b2tlbikudG9CZURlZmluZWQoKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpdCgnc2hvdWxkIHJlamVjdCBsb2dpbiB3aXRoIGludmFsaWQgcGhvbmUgZm9ybWF0JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHBob25lVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVGb3JVc2VDYXNlLm1vY2tSZXR1cm5WYWx1ZSh7XHJcbiAgICAgICAgICBpc1ZhbGlkOiBmYWxzZSxcclxuICAgICAgICAgIGVycm9yOiAnSW52YWxpZCBwaG9uZSBmb3JtYXQnLFxyXG4gICAgICAgICAgZXJyb3JCbjogJ+CmheCmrOCniOCmpyDgpqvgp4vgpqgg4Kar4Kaw4Kau4KeN4Kav4Ka+4KafJyxcclxuICAgICAgICAgIGNvZGU6ICdJTlZBTElEX0ZPUk1BVCdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAgIC5wb3N0KCcvYXV0aC9sb2dpbicpXHJcbiAgICAgICAgICAuc2VuZCh7XHJcbiAgICAgICAgICAgIGlkZW50aWZpZXI6ICcxMjM0NScsXHJcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnVGVzdFBhc3N3b3JkMTIzISdcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XHJcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZXJyb3IpLnRvQmUoJ0ludmFsaWQgcGhvbmUgZm9ybWF0Jyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaXQoJ3Nob3VsZCByZWplY3QgbG9naW4gd2l0aCBub24tbW9iaWxlIHBob25lJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHBob25lVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVGb3JVc2VDYXNlLm1vY2tSZXR1cm5WYWx1ZSh7XHJcbiAgICAgICAgICBpc1ZhbGlkOiBmYWxzZSxcclxuICAgICAgICAgIGVycm9yOiAnT25seSBtb2JpbGUgbnVtYmVycyBjYW4gYmUgdXNlZCBmb3IgbG9naW4nLFxyXG4gICAgICAgICAgZXJyb3JCbjogJ+CmtuCngeCmp+CngeCmruCmvuCmpOCnjeCmsOCmruCmvuCmpOCnjeCmsCDgpq7gp4vgpqzgpr7gpofgprIg4Kao4Kau4KeN4Kas4KawIOCmpuCmv+Cmr+CmvOCnhyDgprLgppfgpr/gpqgg4KaV4Kaw4Ka+IOCmr+CmvuCmr+CmvCcsXHJcbiAgICAgICAgICBjb2RlOiAnTU9CSUxFX09OTFknXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgICAucG9zdCgnL2F1dGgvbG9naW4nKVxyXG4gICAgICAgICAgLnNlbmQoe1xyXG4gICAgICAgICAgICBpZGVudGlmaWVyOiAnMDIxMjM0NTY3OCcsIC8vIExhbmRsaW5lXHJcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnVGVzdFBhc3N3b3JkMTIzISdcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XHJcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZXJyb3IpLnRvQmUoJ0ludmFsaWQgcGhvbmUgZm9ybWF0Jyk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZGVzY3JpYmUoJ1Bhc3N3b3JkIFZhbGlkYXRpb24nLCAoKSA9PiB7XHJcbiAgICAgIGl0KCdzaG91bGQgcmVqZWN0IGxvZ2luIHdpdGggd3JvbmcgcGFzc3dvcmQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAgIC5wb3N0KCcvYXV0aC9sb2dpbicpXHJcbiAgICAgICAgICAuc2VuZCh7XHJcbiAgICAgICAgICAgIGlkZW50aWZpZXI6ICd0ZXN0QGV4YW1wbGUuY29tJyxcclxuICAgICAgICAgICAgcGFzc3dvcmQ6ICdXcm9uZ1Bhc3N3b3JkMTIzISdcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMSk7XHJcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZXJyb3IpLnRvQmUoJ0ludmFsaWQgY3JlZGVudGlhbHMnKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZXNjcmliZSgnVXNlciBTdGF0dXMgVmFsaWRhdGlvbicsICgpID0+IHtcclxuICAgICAgaXQoJ3Nob3VsZCByZWplY3QgbG9naW4gZm9yIHBlbmRpbmcgdXNlcicsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAvLyBDcmVhdGUgYSBwZW5kaW5nIHVzZXJcclxuICAgICAgICBjb25zdCBwZW5kaW5nVXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmNyZWF0ZSh7XHJcbiAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgIGVtYWlsOiAncGVuZGluZ0BleGFtcGxlLmNvbScsXHJcbiAgICAgICAgICAgIHBhc3N3b3JkOiBhd2FpdCBiY3J5cHQuaGFzaCgnVGVzdFBhc3N3b3JkMTIzIScsIDEwKSxcclxuICAgICAgICAgICAgZmlyc3ROYW1lOiAnUGVuZGluZycsXHJcbiAgICAgICAgICAgIGxhc3ROYW1lOiAnVXNlcicsXHJcbiAgICAgICAgICAgIHJvbGU6ICdDVVNUT01FUicsXHJcbiAgICAgICAgICAgIHN0YXR1czogJ1BFTkRJTkcnXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgICAucG9zdCgnL2F1dGgvbG9naW4nKVxyXG4gICAgICAgICAgLnNlbmQoe1xyXG4gICAgICAgICAgICBpZGVudGlmaWVyOiAncGVuZGluZ0BleGFtcGxlLmNvbScsXHJcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnVGVzdFBhc3N3b3JkMTIzISdcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMyk7XHJcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZXJyb3IpLnRvQmUoJ0FjY291bnQgbm90IHZlcmlmaWVkJyk7XHJcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkucmVxdWlyZXNWZXJpZmljYXRpb24pLnRvQmUodHJ1ZSk7XHJcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkudmVyaWZpY2F0aW9uVHlwZSkudG9CZSgnZW1haWwnKTtcclxuXHJcbiAgICAgICAgLy8gQ2xlYW4gdXBcclxuICAgICAgICBhd2FpdCBwcmlzbWEudXNlci5kZWxldGUoe1xyXG4gICAgICAgICAgd2hlcmU6IHsgaWQ6IHBlbmRpbmdVc2VyLmlkIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZXNjcmliZSgnSW5wdXQgVmFsaWRhdGlvbicsICgpID0+IHtcclxuICAgICAgaXQoJ3Nob3VsZCByZWplY3QgbG9naW4gd2l0aCBtaXNzaW5nIGlkZW50aWZpZXInLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAgIC5wb3N0KCcvYXV0aC9sb2dpbicpXHJcbiAgICAgICAgICAuc2VuZCh7XHJcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnVGVzdFBhc3N3b3JkMTIzISdcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XHJcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZXJyb3IpLnRvQmUoJ1ZhbGlkYXRpb24gZmFpbGVkJyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaXQoJ3Nob3VsZCByZWplY3QgbG9naW4gd2l0aCBtaXNzaW5nIHBhc3N3b3JkJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgICAucG9zdCgnL2F1dGgvbG9naW4nKVxyXG4gICAgICAgICAgLnNlbmQoe1xyXG4gICAgICAgICAgICBpZGVudGlmaWVyOiAndGVzdEBleGFtcGxlLmNvbSdcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XHJcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZXJyb3IpLnRvQmUoJ1ZhbGlkYXRpb24gZmFpbGVkJyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaXQoJ3Nob3VsZCByZWplY3QgbG9naW4gd2l0aCBlbXB0eSBpZGVudGlmaWVyJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgICAucG9zdCgnL2F1dGgvbG9naW4nKVxyXG4gICAgICAgICAgLnNlbmQoe1xyXG4gICAgICAgICAgICBpZGVudGlmaWVyOiAnJyxcclxuICAgICAgICAgICAgcGFzc3dvcmQ6ICdUZXN0UGFzc3dvcmQxMjMhJ1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcclxuICAgICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5lcnJvcikudG9CZSgnVmFsaWRhdGlvbiBmYWlsZWQnKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZXNjcmliZSgnSldUIFRva2VuIEdlbmVyYXRpb24nLCAoKSA9PiB7XHJcbiAgICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgdmFsaWQgSldUIHRva2VuJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgICAucG9zdCgnL2F1dGgvbG9naW4nKVxyXG4gICAgICAgICAgLnNlbmQoe1xyXG4gICAgICAgICAgICBpZGVudGlmaWVyOiAndGVzdEBleGFtcGxlLmNvbScsXHJcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnVGVzdFBhc3N3b3JkMTIzISdcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XHJcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkudG9rZW4pLnRvQmVEZWZpbmVkKCk7XHJcblxyXG4gICAgICAgIC8vIFZlcmlmeSB0aGUgdG9rZW5cclxuICAgICAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeShyZXNwb25zZS5ib2R5LnRva2VuLCBwcm9jZXNzLmVudi5KV1RfU0VDUkVUIHx8ICd0ZXN0LXNlY3JldCcpO1xyXG4gICAgICAgIGV4cGVjdChkZWNvZGVkLnVzZXJJZCkudG9CZSh0ZXN0VXNlci5pZCk7XHJcbiAgICAgICAgZXhwZWN0KGRlY29kZWQuZW1haWwpLnRvQmUodGVzdFVzZXIuZW1haWwpO1xyXG4gICAgICAgIGV4cGVjdChkZWNvZGVkLnJvbGUpLnRvQmUodGVzdFVzZXIucm9sZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pOyJdLCJtYXBwaW5ncyI6IkFBTUE7QUFDQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsMEJBQTBCLENBQUM7QUFDckNELFdBQUEsR0FBS0MsSUFBSSxDQUFDLG9DQUFvQyxDQUFDO0FBQy9DRCxXQUFBLEdBQUtDLElBQUksQ0FBQyw2QkFBNkIsQ0FBQztBQUFDLFNBQUFELFlBQUE7RUFBQTtJQUFBRTtFQUFBLElBQUFDLE9BQUE7RUFBQUgsV0FBQSxHQUFBQSxDQUFBLEtBQUFFLElBQUE7RUFBQSxPQUFBQSxJQUFBO0FBQUE7QUFUekMsTUFBTUUsT0FBTyxHQUFHRCxPQUFPLENBQUMsV0FBVyxDQUFDO0FBQ3BDLE1BQU1FLE9BQU8sR0FBR0YsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxNQUFNO0VBQUVHO0FBQWEsQ0FBQyxHQUFHSCxPQUFPLENBQUMsZ0JBQWdCLENBQUM7QUFDbEQsTUFBTUksTUFBTSxHQUFHSixPQUFPLENBQUMsVUFBVSxDQUFDO0FBQ2xDLE1BQU1LLEdBQUcsR0FBR0wsT0FBTyxDQUFDLGNBQWMsQ0FBQztBQU9uQyxNQUFNTSxVQUFVLEdBQUdOLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQztBQUM1QyxNQUFNO0VBQUVPO0FBQWEsQ0FBQyxHQUFHUCxPQUFPLENBQUMsMEJBQTBCLENBQUM7QUFDNUQsTUFBTTtFQUFFUTtBQUF1QixDQUFDLEdBQUdSLE9BQU8sQ0FBQyxvQ0FBb0MsQ0FBQztBQUNoRixNQUFNO0VBQUVTO0FBQWdCLENBQUMsR0FBR1QsT0FBTyxDQUFDLDZCQUE2QixDQUFDO0FBRWxFLE1BQU1VLEdBQUcsR0FBR1IsT0FBTyxDQUFDLENBQUM7QUFDckJRLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDVCxPQUFPLENB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