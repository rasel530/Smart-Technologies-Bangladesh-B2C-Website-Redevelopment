{"version":3,"names":["cov_2hs7gd67m1","actualCoverage","zxcvbn","s","require","bcrypt","PrismaClient","configService","prisma","PasswordService","constructor","f","securityConfig","getSecurityConfig","passwordPolicy","getPasswordPolicyConfig","validatePasswordStrength","password","userInfo","b","result","isValid","score","feedback","warnings","strength","meetsRequirements","length","minLength","push","maxLength","zxcvbnResult","firstName","lastName","email","phone","warning","suggestions","strengthLevels","validateCustomRules","checkMinimumRequirements","minStrengthScore","lowerPassword","toLowerCase","requireUppercase","test","requireLowercase","requireNumbers","requireSpecialChars","preventSequential","hasSequentialChars","preventRepeated","hasRepeatedChars","bangladeshPatterns","bangladeshiPatterns","pattern","includes","preventPersonalInfo","split","replace","slice","i","char1","charCodeAt","char2","char3","hasMinLength","hasMaxLength","hasUppercase","hasLowercase","hasNumbers","hasSpecialChars","noSequentialChars","noRepeatedChars","hashPassword","hash","bcryptRounds","verifyPassword","compare","savePasswordToHistory","userId","passwordHash","cleanupOldPasswordHistory","passwordHistory","create","data","error","console","Error","isPasswordReused","newPassword","findMany","where","orderBy","createdAt","take","historyEntry","isMatch","allHistory","toDelete","idsToDelete","map","entry","id","deleteMany","in","generateStrongPassword","uppercase","lowercase","numbers","specialChars","allChars","Math","floor","random","sort","join","getPasswordPolicy","preventCommonPatterns","historyLimit","getLocalizedFeedback","validationResult","bengaliStrength","very_weak","weak","fair","good","strong","bengaliFeedback","msg","english","bengali","Object","entries","passwordService","module","exports"],"sources":["passwordService.js"],"sourcesContent":["const zxcvbn = require('zxcvbn');\r\nconst bcrypt = require('bcryptjs');\r\nconst { PrismaClient } = require('@prisma/client');\r\nconst { configService } = require('./config');\r\n\r\nconst prisma = new PrismaClient();\r\n\r\nclass PasswordService {\r\n  constructor() {\r\n    this.securityConfig = configService.getSecurityConfig();\r\n    this.passwordPolicy = configService.getPasswordPolicyConfig();\r\n  }\r\n\r\n  /**\r\n   * Validate password strength using zxcvbn and custom rules\r\n   * @param {string} password - The password to validate\r\n   * @param {Object} userInfo - User information for contextual validation\r\n   * @returns {Object} Validation result with score and feedback\r\n   */\r\n  validatePasswordStrength(password, userInfo = {}) {\r\n    const result = {\r\n      isValid: false,\r\n      score: 0,\r\n      feedback: [],\r\n      warnings: [],\r\n      strength: 'very_weak',\r\n      meetsRequirements: false\r\n    };\r\n\r\n    // Basic length validation\r\n    if (password.length < this.passwordPolicy.minLength) {\r\n      result.feedback.push(`Password must be at least ${this.passwordPolicy.minLength} characters long`);\r\n    }\r\n\r\n    if (password.length > this.passwordPolicy.maxLength) {\r\n      result.feedback.push(`Password must not exceed ${this.passwordPolicy.maxLength} characters`);\r\n    }\r\n\r\n    // Use zxcvbn for comprehensive analysis\r\n    const zxcvbnResult = zxcvbn(password, [\r\n      userInfo.firstName,\r\n      userInfo.lastName,\r\n      userInfo.email,\r\n      userInfo.phone\r\n    ]);\r\n\r\n    // Extract zxcvbn feedback\r\n    result.score = zxcvbnResult.score;\r\n    result.warnings = zxcvbnResult.feedback.warning ? [zxcvbnResult.feedback.warning] : [];\r\n    result.suggestions = zxcvbnResult.feedback.suggestions || [];\r\n\r\n    // Map score to strength levels\r\n    const strengthLevels = ['very_weak', 'weak', 'fair', 'good', 'strong'];\r\n    result.strength = strengthLevels[result.score] || 'very_weak';\r\n\r\n    // Custom validation rules for Bangladesh context\r\n    this.validateCustomRules(password, userInfo, result);\r\n\r\n    // Check if meets minimum requirements\r\n    result.meetsRequirements = this.checkMinimumRequirements(password, result);\r\n\r\n    // Overall validation\r\n    result.isValid = result.meetsRequirements && result.score >= this.passwordPolicy.minStrengthScore;\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Validate custom password rules\r\n   * @param {string} password - The password to validate\r\n   * @param {Object} userInfo - User information\r\n   * @param {Object} result - Validation result object to update\r\n   */\r\n  validateCustomRules(password, userInfo, result) {\r\n    const lowerPassword = password.toLowerCase();\r\n    \r\n    // Check for uppercase letters if required\r\n    if (this.passwordPolicy.requireUppercase && !/[A-Z]/.test(password)) {\r\n      result.feedback.push('Password must contain at least one uppercase letter');\r\n    }\r\n\r\n    // Check for lowercase letters if required\r\n    if (this.passwordPolicy.requireLowercase && !/[a-z]/.test(password)) {\r\n      result.feedback.push('Password must contain at least one lowercase letter');\r\n    }\r\n\r\n    // Check for numbers if required\r\n    if (this.passwordPolicy.requireNumbers && !/\\d/.test(password)) {\r\n      result.feedback.push('Password must contain at least one number');\r\n    }\r\n\r\n    // Check for special characters if required\r\n    if (this.passwordPolicy.requireSpecialChars && !/[!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]/.test(password)) {\r\n      result.feedback.push('Password must contain at least one special character');\r\n    }\r\n\r\n    // Check for sequential characters if prevention is enabled\r\n    if (this.passwordPolicy.preventSequential && this.hasSequentialChars(password)) {\r\n      result.feedback.push('Password cannot contain sequential characters (e.g., \"123\", \"abc\")');\r\n    }\r\n\r\n    // Check for repeated characters if prevention is enabled\r\n    if (this.passwordPolicy.preventRepeated && this.hasRepeatedChars(password)) {\r\n      result.feedback.push('Password cannot contain repeated characters (e.g., \"aaa\", \"111\")');\r\n    }\r\n\r\n    // Check for common Bangladeshi patterns if enabled\r\n    if (this.passwordPolicy.bangladeshPatterns) {\r\n      const bangladeshiPatterns = ['bangladesh', 'dhaka', 'taka', 'bdt', 'bd'];\r\n      const lowerPassword = password.toLowerCase();\r\n      for (const pattern of bangladeshiPatterns) {\r\n        if (lowerPassword.includes(pattern)) {\r\n          result.feedback.push(`Password cannot contain common Bangladeshi terms like \"${pattern}\"`);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    // Check for personal information if prevention is enabled\r\n    if (this.passwordPolicy.preventPersonalInfo) {\r\n      if (userInfo.firstName && lowerPassword.includes(userInfo.firstName.toLowerCase())) {\r\n        result.feedback.push('Password cannot contain your first name');\r\n      }\r\n\r\n      if (userInfo.lastName && lowerPassword.includes(userInfo.lastName.toLowerCase())) {\r\n        result.feedback.push('Password cannot contain your last name');\r\n      }\r\n\r\n      if (userInfo.email && lowerPassword.includes(userInfo.email.split('@')[0].toLowerCase())) {\r\n        result.feedback.push('Password cannot contain your email username');\r\n      }\r\n\r\n      if (userInfo.phone && lowerPassword.includes(userInfo.phone.replace(/\\D/g, '').slice(-4))) {\r\n        result.feedback.push('Password cannot contain parts of your phone number');\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if password has sequential characters\r\n   * @param {string} password - The password to check\r\n   * @returns {boolean} True if sequential characters found\r\n   */\r\n  hasSequentialChars(password) {\r\n    const lowerPassword = password.toLowerCase();\r\n    \r\n    // Check for sequential numbers (123, 234, etc.)\r\n    for (let i = 0; i < lowerPassword.length - 2; i++) {\r\n      const char1 = lowerPassword.charCodeAt(i);\r\n      const char2 = lowerPassword.charCodeAt(i + 1);\r\n      const char3 = lowerPassword.charCodeAt(i + 2);\r\n      \r\n      if (char2 === char1 + 1 && char3 === char2 + 1) {\r\n        return true;\r\n      }\r\n      if (char2 === char1 - 1 && char3 === char2 - 1) {\r\n        return true;\r\n      }\r\n    }\r\n    \r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Check if password has repeated characters\r\n   * @param {string} password - The password to check\r\n   * @returns {boolean} True if repeated characters found\r\n   */\r\n  hasRepeatedChars(password) {\r\n    for (let i = 0; i < password.length - 2; i++) {\r\n      if (password[i] === password[i + 1] && password[i] === password[i + 2]) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Check if password meets minimum requirements\r\n   * @param {string} password - The password to check\r\n   * @param {Object} result - Validation result object\r\n   * @returns {boolean} True if meets requirements\r\n   */\r\n  checkMinimumRequirements(password, result) {\r\n    const hasMinLength = password.length >= this.passwordPolicy.minLength;\r\n    const hasMaxLength = password.length <= this.passwordPolicy.maxLength;\r\n    const hasUppercase = /[A-Z]/.test(password);\r\n    const hasLowercase = /[a-z]/.test(password);\r\n    const hasNumbers = /\\d/.test(password);\r\n    const hasSpecialChars = /[!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]/.test(password);\r\n    const noSequentialChars = !this.hasSequentialChars(password);\r\n    const noRepeatedChars = !this.hasRepeatedChars(password);\r\n\r\n    return hasMinLength && hasMaxLength && hasUppercase && hasLowercase && \r\n           hasNumbers && hasSpecialChars && noSequentialChars && noRepeatedChars;\r\n  }\r\n\r\n  /**\r\n   * Hash password using bcrypt\r\n   * @param {string} password - The password to hash\r\n   * @returns {Promise<string>} Hashed password\r\n   */\r\n  async hashPassword(password) {\r\n    return await bcrypt.hash(password, this.passwordPolicy.bcryptRounds);\r\n  }\r\n\r\n  /**\r\n   * Verify password against hash\r\n   * @param {string} password - The password to verify\r\n   * @param {string} hash - The hash to verify against\r\n   * @returns {Promise<boolean>} True if password matches\r\n   */\r\n  async verifyPassword(password, hash) {\r\n    return await bcrypt.compare(password, hash);\r\n  }\r\n\r\n  /**\r\n   * Save password to history\r\n   * @param {string} userId - User ID\r\n   * @param {string} passwordHash - Hashed password\r\n   * @returns {Promise<Object>} Created password history record\r\n   */\r\n  async savePasswordToHistory(userId, passwordHash) {\r\n    try {\r\n      // Clean up old password history (keep only last 5)\r\n      await this.cleanupOldPasswordHistory(userId);\r\n\r\n      const passwordHistory = await prisma.passwordHistory.create({\r\n        data: {\r\n          userId,\r\n          passwordHash\r\n        }\r\n      });\r\n\r\n      return passwordHistory;\r\n    } catch (error) {\r\n      console.error('Error saving password to history:', error);\r\n      throw new Error('Failed to save password to history');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if password has been used before\r\n   * @param {string} userId - User ID\r\n   * @param {string} newPassword - New password to check\r\n   * @returns {Promise<boolean>} True if password has been used before\r\n   */\r\n  async isPasswordReused(userId, newPassword) {\r\n    try {\r\n      const passwordHistory = await prisma.passwordHistory.findMany({\r\n        where: { userId },\r\n        orderBy: { createdAt: 'desc' },\r\n        take: 5 // Check last 5 passwords\r\n      });\r\n\r\n      for (const historyEntry of passwordHistory) {\r\n        const isMatch = await this.verifyPassword(newPassword, historyEntry.passwordHash);\r\n        if (isMatch) {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      return false;\r\n    } catch (error) {\r\n      console.error('Error checking password reuse:', error);\r\n      throw new Error('Failed to check password reuse');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Clean up old password history\r\n   * @param {string} userId - User ID\r\n   * @returns {Promise<void>}\r\n   */\r\n  async cleanupOldPasswordHistory(userId) {\r\n    try {\r\n      // Get all password history for user, ordered by creation date\r\n      const allHistory = await prisma.passwordHistory.findMany({\r\n        where: { userId },\r\n        orderBy: { createdAt: 'desc' }\r\n      });\r\n\r\n      // If more than 5, delete the oldest ones\r\n      if (allHistory.length > 5) {\r\n        const toDelete = allHistory.slice(5);\r\n        const idsToDelete = toDelete.map(entry => entry.id);\r\n\r\n        await prisma.passwordHistory.deleteMany({\r\n          where: {\r\n            id: { in: idsToDelete }\r\n          }\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error cleaning up password history:', error);\r\n      // Don't throw error here, as this is not critical\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Generate strong temporary password\r\n   * @param {number} length - Password length (default 12)\r\n   * @returns {string} Generated password\r\n   */\r\n  generateStrongPassword(length = 12) {\r\n    const uppercase = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\r\n    const lowercase = 'abcdefghijklmnopqrstuvwxyz';\r\n    const numbers = '0123456789';\r\n    const specialChars = '!@#$%^&*()_+-=[]{}|;:,.<>?';\r\n    \r\n    const allChars = uppercase + lowercase + numbers + specialChars;\r\n    let password = '';\r\n\r\n    // Ensure at least one of each type\r\n    password += uppercase[Math.floor(Math.random() * uppercase.length)];\r\n    password += lowercase[Math.floor(Math.random() * lowercase.length)];\r\n    password += numbers[Math.floor(Math.random() * numbers.length)];\r\n    password += specialChars[Math.floor(Math.random() * specialChars.length)];\r\n\r\n    // Fill the rest with random characters\r\n    for (let i = 4; i < length; i++) {\r\n      password += allChars[Math.floor(Math.random() * allChars.length)];\r\n    }\r\n\r\n    // Shuffle the password\r\n    return password.split('').sort(() => Math.random() - 0.5).join('');\r\n  }\r\n\r\n  /**\r\n   * Get password policy configuration\r\n   * @returns {Object} Password policy configuration\r\n   */\r\n  getPasswordPolicy() {\r\n    return {\r\n      minLength: this.passwordPolicy.minLength,\r\n      maxLength: this.passwordPolicy.maxLength,\r\n      requireUppercase: true,\r\n      requireLowercase: true,\r\n      requireNumbers: true,\r\n      requireSpecialChars: true,\r\n      preventSequential: true,\r\n      preventRepeated: true,\r\n      preventPersonalInfo: true,\r\n      preventCommonPatterns: true,\r\n      minStrengthScore: 2,\r\n      historyLimit: 5\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get password strength feedback in Bengali\r\n   * @param {Object} validationResult - Password validation result\r\n   * @returns {Object} Localized feedback\r\n   */\r\n  getLocalizedFeedback(validationResult) {\r\n    const bengaliStrength = {\r\n      very_weak: 'অত্যন্ত দুর্বল',\r\n      weak: 'দুর্বল',\r\n      fair: 'মোটামুটি',\r\n      good: 'ভালো',\r\n      strong: 'শক্তি'\r\n    };\r\n\r\n    const bengaliFeedback = {\r\n      'Password must be at least': 'পাসওয়ার্ড অবশ্যই',\r\n      'Password must not exceed': 'পাসওয়ার্ড',\r\n      'Password must contain at least one uppercase letter': 'পাসওয়ার্ডে অবশ্যই একটি বড় হাতের অক্ষর থাকতে হবে',\r\n      'Password must contain at least one lowercase letter': 'পাসওয়ার্ডে অবশ্যই একটি ছোট হাতের অক্ষর থাকতে হবে',\r\n      'Password must contain at least one number': 'পাসওয়ার্ডে অবশ্যই একটি সংখ্যা থাকতে হবে',\r\n      'Password must contain at least one special character': 'পাসওয়ার্ডে অবশ্যই একটি বিশেষ অক্ষর থাকতে হবে',\r\n      'Password cannot contain sequential characters': 'পাসওয়ার্ডে ক্রমিক অক্ষর থাকতে পারে না',\r\n      'Password cannot contain repeated characters': 'পাসওয়ার্ডে পুনরাবৃত্তি অক্ষর থাকতে পারে না',\r\n      'Password cannot contain your first name': 'পাসওয়ার্ডে আপনার প্রথম নাম থাকতে পারে না',\r\n      'Password cannot contain your last name': 'পাসওয়ার্ডে আপনার শেষ নাম থাকতে পারে না',\r\n      'Password cannot contain your email username': 'পাসওয়ার্ডে আপনার ইমেল ব্যবহারকারী নাম থাকতে পারে না',\r\n      'Password cannot contain parts of your phone number': 'পাসওয়ার্ডে আপনার ফোন নম্বরের অংশ থাকতে পারে না',\r\n      'Password cannot contain common Bangladeshi terms': 'পাসওয়ার্ডে সাধারণ বাংলাদেশী শব্দ থাকতে পারে না'\r\n    };\r\n\r\n    return {\r\n      ...validationResult,\r\n      strength: bengaliStrength[validationResult.strength] || validationResult.strength,\r\n      feedback: validationResult.feedback.map(msg => {\r\n        for (const [english, bengali] of Object.entries(bengaliFeedback)) {\r\n          if (msg.includes(english)) {\r\n            return msg.replace(english, bengali);\r\n          }\r\n        }\r\n        return msg;\r\n      })\r\n    };\r\n  }\r\n}\r\n\r\n// Singleton instance\r\nconst passwordService = new PasswordService();\r\n\r\nmodule.exports = {\r\n  PasswordService,\r\n  passwordService\r\n};"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}