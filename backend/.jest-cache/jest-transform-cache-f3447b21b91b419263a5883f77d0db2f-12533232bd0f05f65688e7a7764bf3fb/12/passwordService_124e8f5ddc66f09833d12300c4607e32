1261e09b657dc7b7a09c7ba3fb1f6b9e
const zxcvbn = require('zxcvbn');
const bcrypt = require('bcryptjs');
const {
  PrismaClient
} = require('@prisma/client');
const {
  configService
} = require('./config');
const prisma = new PrismaClient();
class PasswordService {
  constructor() {
    this.securityConfig = configService.getSecurityConfig();
    this.passwordPolicy = configService.getPasswordPolicyConfig();
  }

  /**
   * Validate password strength using zxcvbn and custom rules
   * @param {string} password - The password to validate
   * @param {Object} userInfo - User information for contextual validation
   * @returns {Object} Validation result with score and feedback
   */
  validatePasswordStrength(password, userInfo = {}) {
    const result = {
      isValid: false,
      score: 0,
      feedback: [],
      warnings: [],
      strength: 'very_weak',
      meetsRequirements: false
    };

    // Basic length validation
    if (password.length < this.passwordPolicy.minLength) {
      result.feedback.push(`Password must be at least ${this.passwordPolicy.minLength} characters long`);
    }
    if (password.length > this.passwordPolicy.maxLength) {
      result.feedback.push(`Password must not exceed ${this.passwordPolicy.maxLength} characters`);
    }

    // Use zxcvbn for comprehensive analysis
    const zxcvbnResult = zxcvbn(password, [userInfo.firstName, userInfo.lastName, userInfo.email, userInfo.phone]);

    // Extract zxcvbn feedback
    result.score = zxcvbnResult.score;
    result.warnings = zxcvbnResult.feedback.warning ? [zxcvbnResult.feedback.warning] : [];
    result.suggestions = zxcvbnResult.feedback.suggestions || [];

    // Map score to strength levels
    const strengthLevels = ['very_weak', 'weak', 'fair', 'good', 'strong'];
    result.strength = strengthLevels[result.score] || 'very_weak';

    // Custom validation rules for Bangladesh context
    this.validateCustomRules(password, userInfo, result);

    // Check if meets minimum requirements
    result.meetsRequirements = this.checkMinimumRequirements(password, result);

    // Overall validation
    result.isValid = result.meetsRequirements && result.score >= this.passwordPolicy.minStrengthScore;
    return result;
  }

  /**
   * Validate custom password rules
   * @param {string} password - The password to validate
   * @param {Object} userInfo - User information
   * @param {Object} result - Validation result object to update
   */
  validateCustomRules(password, userInfo, result) {
    const lowerPassword = password.toLowerCase();

    // Check for uppercase letters if required
    if (this.passwordPolicy.requireUppercase && !/[A-Z]/.test(password)) {
      result.feedback.push('Password must contain at least one uppercase letter');
    }

    // Check for lowercase letters if required
    if (this.passwordPolicy.requireLowercase && !/[a-z]/.test(password)) {
      result.feedback.push('Password must contain at least one lowercase letter');
    }

    // Check for numbers if required
    if (this.passwordPolicy.requireNumbers && !/\d/.test(password)) {
      result.feedback.push('Password must contain at least one number');
    }

    // Check for special characters if required
    if (this.passwordPolicy.requireSpecialChars && !/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(password)) {
      result.feedback.push('Password must contain at least one special character');
    }

    // Check for sequential characters if prevention is enabled
    if (this.passwordPolicy.preventSequential && this.hasSequentialChars(password)) {
      result.feedback.push('Password cannot contain sequential characters (e.g., "123", "abc")');
    }

    // Check for repeated characters if prevention is enabled
    if (this.passwordPolicy.preventRepeated && this.hasRepeatedChars(password)) {
      result.feedback.push('Password cannot contain repeated characters (e.g., "aaa", "111")');
    }

    // Check for common Bangladeshi patterns if enabled
    if (this.passwordPolicy.bangladeshPatterns) {
      const bangladeshiPatterns = ['bangladesh', 'dhaka', 'taka', 'bdt', 'bd'];
      const lowerPassword = password.toLowerCase();
      for (const pattern of bangladeshiPatterns) {
        if (lowerPassword.includes(pattern)) {
          result.feedback.push(`Password cannot contain common Bangladeshi terms like "${pattern}"`);
          break;
        }
      }
    }

    // Check for personal information if prevention is enabled
    if (this.passwordPolicy.preventPersonalInfo) {
      if (userInfo.firstName && lowerPassword.includes(userInfo.firstName.toLowerCase())) {
        result.feedback.push('Password cannot contain your first name');
      }
      if (userInfo.lastName && lowerPassword.includes(userInfo.lastName.toLowerCase())) {
        result.feedback.push('Password cannot contain your last name');
      }
      if (userInfo.email && lowerPassword.includes(userInfo.email.split('@')[0].toLowerCase())) {
        result.feedback.push('Password cannot contain your email username');
      }
      if (userInfo.phone && lowerPassword.includes(userInfo.phone.replace(/\D/g, '').slice(-4))) {
        result.feedback.push('Password cannot contain parts of your phone number');
      }
    }
  }

  /**
   * Check if password has sequential characters
   * @param {string} password - The password to check
   * @returns {boolean} True if sequential characters found
   */
  hasSequentialChars(password) {
    const lowerPassword = password.toLowerCase();

    // Check for sequential numbers (123, 234, etc.)
    for (let i = 0; i < lowerPassword.length - 2; i++) {
      const char1 = lowerPassword.charCodeAt(i);
      const char2 = lowerPassword.charCodeAt(i + 1);
      const char3 = lowerPassword.charCodeAt(i + 2);
      if (char2 === char1 + 1 && char3 === char2 + 1) {
        return true;
      }
      if (char2 === char1 - 1 && char3 === char2 - 1) {
        return true;
      }
    }
    return false;
  }

  /**
   * Check if password has repeated characters
   * @param {string} password - The password to check
   * @returns {boolean} True if repeated characters found
   */
  hasRepeatedChars(password) {
    for (let i = 0; i < password.length - 2; i++) {
      if (password[i] === password[i + 1] && password[i] === password[i + 2]) {
        return true;
      }
    }
    return false;
  }

  /**
   * Check if password meets minimum requirements
   * @param {string} password - The password to check
   * @param {Object} result - Validation result object
   * @returns {boolean} True if meets requirements
   */
  checkMinimumRequirements(password, result) {
    const hasMinLength = password.length >= this.passwordPolicy.minLength;
    const hasMaxLength = password.length <= this.passwordPolicy.maxLength;
    const hasUppercase = /[A-Z]/.test(password);
    const hasLowercase = /[a-z]/.test(password);
    const hasNumbers = /\d/.test(password);
    const hasSpecialChars = /[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(password);
    const noSequentialChars = !this.hasSequentialChars(password);
    const noRepeatedChars = !this.hasRepeatedChars(password);
    return hasMinLength && hasMaxLength && hasUppercase && hasLowercase && hasNumbers && hasSpecialChars && noSequentialChars && noRepeatedChars;
  }

  /**
   * Hash password using bcrypt
   * @param {string} password - The password to hash
   * @returns {Promise<string>} Hashed password
   */
  async hashPassword(password) {
    return await bcrypt.hash(password, this.passwordPolicy.bcryptRounds);
  }

  /**
   * Verify password against hash
   * @param {string} password - The password to verify
   * @param {string} hash - The hash to verify against
   * @returns {Promise<boolean>} True if password matches
   */
  async verifyPassword(password, hash) {
    return await bcrypt.compare(password, hash);
  }

  /**
   * Save password to history
   * @param {string} userId - User ID
   * @param {string} passwordHash - Hashed password
   * @returns {Promise<Object>} Created password history record
   */
  async savePasswordToHistory(userId, passwordHash) {
    try {
      // Clean up old password history (keep only last 5)
      await this.cleanupOldPasswordHistory(userId);
      const passwordHistory = await prisma.passwordHistory.create({
        data: {
          userId,
          passwordHash
        }
      });
      return passwordHistory;
    } catch (error) {
      console.error('Error saving password to history:', error);
      throw new Error('Failed to save password to history');
    }
  }

  /**
   * Check if password has been used before
   * @param {string} userId - User ID
   * @param {string} newPassword - New password to check
   * @returns {Promise<boolean>} True if password has been used before
   */
  async isPasswordReused(userId, newPassword) {
    try {
      const passwordHistory = await prisma.passwordHistory.findMany({
        where: {
          userId
        },
        orderBy: {
          createdAt: 'desc'
        },
        take: 5 // Check last 5 passwords
      });
      for (const historyEntry of passwordHistory) {
        const isMatch = await this.verifyPassword(newPassword, historyEntry.passwordHash);
        if (isMatch) {
          return true;
        }
      }
      return false;
    } catch (error) {
      console.error('Error checking password reuse:', error);
      throw new Error('Failed to check password reuse');
    }
  }

  /**
   * Clean up old password history
   * @param {string} userId - User ID
   * @returns {Promise<void>}
   */
  async cleanupOldPasswordHistory(userId) {
    try {
      // Get all password history for user, ordered by creation date
      const allHistory = await prisma.passwordHistory.findMany({
        where: {
          userId
        },
        orderBy: {
          createdAt: 'desc'
        }
      });

      // If more than 5, delete the oldest ones
      if (allHistory.length > 5) {
        const toDelete = allHistory.slice(5);
        const idsToDelete = toDelete.map(entry => entry.id);
        await prisma.passwordHistory.deleteMany({
          where: {
            id: {
              in: idsToDelete
            }
          }
        });
      }
    } catch (error) {
      console.error('Error cleaning up password history:', error);
      // Don't throw error here, as this is not critical
    }
  }

  /**
   * Generate strong temporary password
   * @param {number} length - Password length (default 12)
   * @returns {string} Generated password
   */
  generateStrongPassword(length = 12) {
    const uppercase = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    const lowercase = 'abcdefghijklmnopqrstuvwxyz';
    const numbers = '0123456789';
    const specialChars = '!@#$%^&*()_+-=[]{}|;:,.<>?';
    const allChars = uppercase + lowercase + numbers + specialChars;
    let password = '';

    // Ensure at least one of each type
    password += uppercase[Math.floor(Math.random() * uppercase.length)];
    password += lowercase[Math.floor(Math.random() * lowercase.length)];
    password += numbers[Math.floor(Math.random() * numbers.length)];
    password += specialChars[Math.floor(Math.random() * specialChars.length)];

    // Fill the rest with random characters
    for (let i = 4; i < length; i++) {
      password += allChars[Math.floor(Math.random() * allChars.length)];
    }

    // Shuffle the password
    return password.split('').sort(() => Math.random() - 0.5).join('');
  }

  /**
   * Get password policy configuration
   * @returns {Object} Password policy configuration
   */
  getPasswordPolicy() {
    return {
      minLength: this.passwordPolicy.minLength,
      maxLength: this.passwordPolicy.maxLength,
      requireUppercase: true,
      requireLowercase: true,
      requireNumbers: true,
      requireSpecialChars: true,
      preventSequential: true,
      preventRepeated: true,
      preventPersonalInfo: true,
      preventCommonPatterns: true,
      minStrengthScore: 2,
      historyLimit: 5
    };
  }

  /**
   * Get password strength feedback in Bengali
   * @param {Object} validationResult - Password validation result
   * @returns {Object} Localized feedback
   */
  getLocalizedFeedback(validationResult) {
    const bengaliStrength = {
      very_weak: 'অত্যন্ত দুর্বল',
      weak: 'দুর্বল',
      fair: 'মোটামুটি',
      good: 'ভালো',
      strong: 'শক্তি'
    };
    const bengaliFeedback = {
      'Password must be at least': 'পাসওয়ার্ড অবশ্যই',
      'Password must not exceed': 'পাসওয়ার্ড',
      'Password must contain at least one uppercase letter': 'পাসওয়ার্ডে অবশ্যই একটি বড় হাতের অক্ষর থাকতে হবে',
      'Password must contain at least one lowercase letter': 'পাসওয়ার্ডে অবশ্যই একটি ছোট হাতের অক্ষর থাকতে হবে',
      'Password must contain at least one number': 'পাসওয়ার্ডে অবশ্যই একটি সংখ্যা থাকতে হবে',
      'Password must contain at least one special character': 'পাসওয়ার্ডে অবশ্যই একটি বিশেষ অক্ষর থাকতে হবে',
      'Password cannot contain sequential characters': 'পাসওয়ার্ডে ক্রমিক অক্ষর থাকতে পারে না',
      'Password cannot contain repeated characters': 'পাসওয়ার্ডে পুনরাবৃত্তি অক্ষর থাকতে পারে না',
      'Password cannot contain your first name': 'পাসওয়ার্ডে আপনার প্রথম নাম থাকতে পারে না',
      'Password cannot contain your last name': 'পাসওয়ার্ডে আপনার শেষ নাম থাকতে পারে না',
      'Password cannot contain your email username': 'পাসওয়ার্ডে আপনার ইমেল ব্যবহারকারী নাম থাকতে পারে না',
      'Password cannot contain parts of your phone number': 'পাসওয়ার্ডে আপনার ফোন নম্বরের অংশ থাকতে পারে না',
      'Password cannot contain common Bangladeshi terms': 'পাসওয়ার্ডে সাধারণ বাংলাদেশী শব্দ থাকতে পারে না'
    };
    return {
      ...validationResult,
      strength: bengaliStrength[validationResult.strength] || validationResult.strength,
      feedback: validationResult.feedback.map(msg => {
        for (const [english, bengali] of Object.entries(bengaliFeedback)) {
          if (msg.includes(english)) {
            return msg.replace(english, bengali);
          }
        }
        return msg;
      })
    };
  }
}

// Singleton instance
const passwordService = new PasswordService();
module.exports = {
  PasswordService,
  passwordService
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ6eGN2Ym4iLCJyZXF1aXJlIiwiYmNyeXB0IiwiUHJpc21hQ2xpZW50IiwiY29uZmlnU2VydmljZSIsInByaXNtYSIsIlBhc3N3b3JkU2VydmljZSIsImNvbnN0cnVjdG9yIiwic2VjdXJpdHlDb25maWciLCJnZXRTZWN1cml0eUNvbmZpZyIsInBhc3N3b3JkUG9saWN5IiwiZ2V0UGFzc3dvcmRQb2xpY3lDb25maWciLCJ2YWxpZGF0ZVBhc3N3b3JkU3RyZW5ndGgiLCJwYXNzd29yZCIsInVzZXJJbmZvIiwicmVzdWx0IiwiaXNWYWxpZCIsInNjb3JlIiwiZmVlZGJhY2siLCJ3YXJuaW5ncyIsInN0cmVuZ3RoIiwibWVldHNSZXF1aXJlbWVudHMiLCJsZW5ndGgiLCJtaW5MZW5ndGgiLCJwdXNoIiwibWF4TGVuZ3RoIiwienhjdmJuUmVzdWx0IiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJlbWFpbCIsInBob25lIiwid2FybmluZyIsInN1Z2dlc3Rpb25zIiwic3RyZW5ndGhMZXZlbHMiLCJ2YWxpZGF0ZUN1c3RvbVJ1bGVzIiwiY2hlY2tNaW5pbXVtUmVxdWlyZW1lbnRzIiwibWluU3RyZW5ndGhTY29yZSIsImxvd2VyUGFzc3dvcmQiLCJ0b0xvd2VyQ2FzZSIsInJlcXVpcmVVcHBlcmNhc2UiLCJ0ZXN0IiwicmVxdWlyZUxvd2VyY2FzZSIsInJlcXVpcmVOdW1iZXJzIiwicmVxdWlyZVNwZWNpYWxDaGFycyIsInByZXZlbnRTZXF1ZW50aWFsIiwiaGFzU2VxdWVudGlhbENoYXJzIiwicHJldmVudFJlcGVhdGVkIiwiaGFzUmVwZWF0ZWRDaGFycyIsImJhbmdsYWRlc2hQYXR0ZXJucyIsImJhbmdsYWRlc2hpUGF0dGVybnMiLCJwYXR0ZXJuIiwiaW5jbHVkZXMiLCJwcmV2ZW50UGVyc29uYWxJbmZvIiwic3BsaXQiLCJyZXBsYWNlIiwic2xpY2UiLCJpIiwiY2hhcjEiLCJjaGFyQ29kZUF0IiwiY2hhcjIiLCJjaGFyMyIsImhhc01pbkxlbmd0aCIsImhhc01heExlbmd0aCIsImhhc1VwcGVyY2FzZSIsImhhc0xvd2VyY2FzZSIsImhhc051bWJlcnMiLCJoYXNTcGVjaWFsQ2hhcnMiLCJub1NlcXVlbnRpYWxDaGFycyIsIm5vUmVwZWF0ZWRDaGFycyIsImhhc2hQYXNzd29yZCIsImhhc2giLCJiY3J5cHRSb3VuZHMiLCJ2ZXJpZnlQYXNzd29yZCIsImNvbXBhcmUiLCJzYXZlUGFzc3dvcmRUb0hpc3RvcnkiLCJ1c2VySWQiLCJwYXNzd29yZEhhc2giLCJjbGVhbnVwT2xkUGFzc3dvcmRIaXN0b3J5IiwicGFzc3dvcmRIaXN0b3J5IiwiY3JlYXRlIiwiZGF0YSIsImVycm9yIiwiY29uc29sZSIsIkVycm9yIiwiaXNQYXNzd29yZFJldXNlZCIsIm5ld1Bhc3N3b3JkIiwiZmluZE1hbnkiLCJ3aGVyZSIsIm9yZGVyQnkiLCJjcmVhdGVkQXQiLCJ0YWtlIiwiaGlzdG9yeUVudHJ5IiwiaXNNYXRjaCIsImFsbEhpc3RvcnkiLCJ0b0RlbGV0ZSIsImlkc1RvRGVsZXRlIiwibWFwIiwiZW50cnkiLCJpZCIsImRlbGV0ZU1hbnkiLCJpbiIsImdlbmVyYXRlU3Ryb25nUGFzc3dvcmQiLCJ1cHBlcmNhc2UiLCJsb3dlcmNhc2UiLCJudW1iZXJzIiwic3BlY2lhbENoYXJzIiwiYWxsQ2hhcnMiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzb3J0Iiwiam9pbiIsImdldFBhc3N3b3JkUG9saWN5IiwicHJldmVudENvbW1vblBhdHRlcm5zIiwiaGlzdG9yeUxpbWl0IiwiZ2V0TG9jYWxpemVkRmVlZGJhY2siLCJ2YWxpZGF0aW9uUmVzdWx0IiwiYmVuZ2FsaVN0cmVuZ3RoIiwidmVyeV93ZWFrIiwid2VhayIsImZhaXIiLCJnb29kIiwic3Ryb25nIiwiYmVuZ2FsaUZlZWRiYWNrIiwibXNnIiwiZW5nbGlzaCIsImJlbmdhbGkiLCJPYmplY3QiLCJlbnRyaWVzIiwicGFzc3dvcmRTZXJ2aWNlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbInBhc3N3b3JkU2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB6eGN2Ym4gPSByZXF1aXJlKCd6eGN2Ym4nKTtcclxuY29uc3QgYmNyeXB0ID0gcmVxdWlyZSgnYmNyeXB0anMnKTtcclxuY29uc3QgeyBQcmlzbWFDbGllbnQgfSA9IHJlcXVpcmUoJ0BwcmlzbWEvY2xpZW50Jyk7XHJcbmNvbnN0IHsgY29uZmlnU2VydmljZSB9ID0gcmVxdWlyZSgnLi9jb25maWcnKTtcclxuXHJcbmNvbnN0IHByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoKTtcclxuXHJcbmNsYXNzIFBhc3N3b3JkU2VydmljZSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLnNlY3VyaXR5Q29uZmlnID0gY29uZmlnU2VydmljZS5nZXRTZWN1cml0eUNvbmZpZygpO1xyXG4gICAgdGhpcy5wYXNzd29yZFBvbGljeSA9IGNvbmZpZ1NlcnZpY2UuZ2V0UGFzc3dvcmRQb2xpY3lDb25maWcoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFZhbGlkYXRlIHBhc3N3b3JkIHN0cmVuZ3RoIHVzaW5nIHp4Y3ZibiBhbmQgY3VzdG9tIHJ1bGVzXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhc3N3b3JkIC0gVGhlIHBhc3N3b3JkIHRvIHZhbGlkYXRlXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IHVzZXJJbmZvIC0gVXNlciBpbmZvcm1hdGlvbiBmb3IgY29udGV4dHVhbCB2YWxpZGF0aW9uXHJcbiAgICogQHJldHVybnMge09iamVjdH0gVmFsaWRhdGlvbiByZXN1bHQgd2l0aCBzY29yZSBhbmQgZmVlZGJhY2tcclxuICAgKi9cclxuICB2YWxpZGF0ZVBhc3N3b3JkU3RyZW5ndGgocGFzc3dvcmQsIHVzZXJJbmZvID0ge30pIHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IHtcclxuICAgICAgaXNWYWxpZDogZmFsc2UsXHJcbiAgICAgIHNjb3JlOiAwLFxyXG4gICAgICBmZWVkYmFjazogW10sXHJcbiAgICAgIHdhcm5pbmdzOiBbXSxcclxuICAgICAgc3RyZW5ndGg6ICd2ZXJ5X3dlYWsnLFxyXG4gICAgICBtZWV0c1JlcXVpcmVtZW50czogZmFsc2VcclxuICAgIH07XHJcblxyXG4gICAgLy8gQmFzaWMgbGVuZ3RoIHZhbGlkYXRpb25cclxuICAgIGlmIChwYXNzd29yZC5sZW5ndGggPCB0aGlzLnBhc3N3b3JkUG9saWN5Lm1pbkxlbmd0aCkge1xyXG4gICAgICByZXN1bHQuZmVlZGJhY2sucHVzaChgUGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCAke3RoaXMucGFzc3dvcmRQb2xpY3kubWluTGVuZ3RofSBjaGFyYWN0ZXJzIGxvbmdgKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocGFzc3dvcmQubGVuZ3RoID4gdGhpcy5wYXNzd29yZFBvbGljeS5tYXhMZW5ndGgpIHtcclxuICAgICAgcmVzdWx0LmZlZWRiYWNrLnB1c2goYFBhc3N3b3JkIG11c3Qgbm90IGV4Y2VlZCAke3RoaXMucGFzc3dvcmRQb2xpY3kubWF4TGVuZ3RofSBjaGFyYWN0ZXJzYCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXNlIHp4Y3ZibiBmb3IgY29tcHJlaGVuc2l2ZSBhbmFseXNpc1xyXG4gICAgY29uc3QgenhjdmJuUmVzdWx0ID0genhjdmJuKHBhc3N3b3JkLCBbXHJcbiAgICAgIHVzZXJJbmZvLmZpcnN0TmFtZSxcclxuICAgICAgdXNlckluZm8ubGFzdE5hbWUsXHJcbiAgICAgIHVzZXJJbmZvLmVtYWlsLFxyXG4gICAgICB1c2VySW5mby5waG9uZVxyXG4gICAgXSk7XHJcblxyXG4gICAgLy8gRXh0cmFjdCB6eGN2Ym4gZmVlZGJhY2tcclxuICAgIHJlc3VsdC5zY29yZSA9IHp4Y3ZiblJlc3VsdC5zY29yZTtcclxuICAgIHJlc3VsdC53YXJuaW5ncyA9IHp4Y3ZiblJlc3VsdC5mZWVkYmFjay53YXJuaW5nID8gW3p4Y3ZiblJlc3VsdC5mZWVkYmFjay53YXJuaW5nXSA6IFtdO1xyXG4gICAgcmVzdWx0LnN1Z2dlc3Rpb25zID0genhjdmJuUmVzdWx0LmZlZWRiYWNrLnN1Z2dlc3Rpb25zIHx8IFtdO1xyXG5cclxuICAgIC8vIE1hcCBzY29yZSB0byBzdHJlbmd0aCBsZXZlbHNcclxuICAgIGNvbnN0IHN0cmVuZ3RoTGV2ZWxzID0gWyd2ZXJ5X3dlYWsnLCAnd2VhaycsICdmYWlyJywgJ2dvb2QnLCAnc3Ryb25nJ107XHJcbiAgICByZXN1bHQuc3RyZW5ndGggPSBzdHJlbmd0aExldmVsc1tyZXN1bHQuc2NvcmVdIHx8ICd2ZXJ5X3dlYWsnO1xyXG5cclxuICAgIC8vIEN1c3RvbSB2YWxpZGF0aW9uIHJ1bGVzIGZvciBCYW5nbGFkZXNoIGNvbnRleHRcclxuICAgIHRoaXMudmFsaWRhdGVDdXN0b21SdWxlcyhwYXNzd29yZCwgdXNlckluZm8sIHJlc3VsdCk7XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgbWVldHMgbWluaW11bSByZXF1aXJlbWVudHNcclxuICAgIHJlc3VsdC5tZWV0c1JlcXVpcmVtZW50cyA9IHRoaXMuY2hlY2tNaW5pbXVtUmVxdWlyZW1lbnRzKHBhc3N3b3JkLCByZXN1bHQpO1xyXG5cclxuICAgIC8vIE92ZXJhbGwgdmFsaWRhdGlvblxyXG4gICAgcmVzdWx0LmlzVmFsaWQgPSByZXN1bHQubWVldHNSZXF1aXJlbWVudHMgJiYgcmVzdWx0LnNjb3JlID49IHRoaXMucGFzc3dvcmRQb2xpY3kubWluU3RyZW5ndGhTY29yZTtcclxuXHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVmFsaWRhdGUgY3VzdG9tIHBhc3N3b3JkIHJ1bGVzXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhc3N3b3JkIC0gVGhlIHBhc3N3b3JkIHRvIHZhbGlkYXRlXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IHVzZXJJbmZvIC0gVXNlciBpbmZvcm1hdGlvblxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSByZXN1bHQgLSBWYWxpZGF0aW9uIHJlc3VsdCBvYmplY3QgdG8gdXBkYXRlXHJcbiAgICovXHJcbiAgdmFsaWRhdGVDdXN0b21SdWxlcyhwYXNzd29yZCwgdXNlckluZm8sIHJlc3VsdCkge1xyXG4gICAgY29uc3QgbG93ZXJQYXNzd29yZCA9IHBhc3N3b3JkLnRvTG93ZXJDYXNlKCk7XHJcbiAgICBcclxuICAgIC8vIENoZWNrIGZvciB1cHBlcmNhc2UgbGV0dGVycyBpZiByZXF1aXJlZFxyXG4gICAgaWYgKHRoaXMucGFzc3dvcmRQb2xpY3kucmVxdWlyZVVwcGVyY2FzZSAmJiAhL1tBLVpdLy50ZXN0KHBhc3N3b3JkKSkge1xyXG4gICAgICByZXN1bHQuZmVlZGJhY2sucHVzaCgnUGFzc3dvcmQgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSB1cHBlcmNhc2UgbGV0dGVyJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgZm9yIGxvd2VyY2FzZSBsZXR0ZXJzIGlmIHJlcXVpcmVkXHJcbiAgICBpZiAodGhpcy5wYXNzd29yZFBvbGljeS5yZXF1aXJlTG93ZXJjYXNlICYmICEvW2Etel0vLnRlc3QocGFzc3dvcmQpKSB7XHJcbiAgICAgIHJlc3VsdC5mZWVkYmFjay5wdXNoKCdQYXNzd29yZCBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIGxvd2VyY2FzZSBsZXR0ZXInKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBmb3IgbnVtYmVycyBpZiByZXF1aXJlZFxyXG4gICAgaWYgKHRoaXMucGFzc3dvcmRQb2xpY3kucmVxdWlyZU51bWJlcnMgJiYgIS9cXGQvLnRlc3QocGFzc3dvcmQpKSB7XHJcbiAgICAgIHJlc3VsdC5mZWVkYmFjay5wdXNoKCdQYXNzd29yZCBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIG51bWJlcicpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGZvciBzcGVjaWFsIGNoYXJhY3RlcnMgaWYgcmVxdWlyZWRcclxuICAgIGlmICh0aGlzLnBhc3N3b3JkUG9saWN5LnJlcXVpcmVTcGVjaWFsQ2hhcnMgJiYgIS9bIUAjJCVeJiooKV8rXFwtPVxcW1xcXXt9Oyc6XCJcXFxcfCwuPD5cXC8/XS8udGVzdChwYXNzd29yZCkpIHtcclxuICAgICAgcmVzdWx0LmZlZWRiYWNrLnB1c2goJ1Bhc3N3b3JkIG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgc3BlY2lhbCBjaGFyYWN0ZXInKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBmb3Igc2VxdWVudGlhbCBjaGFyYWN0ZXJzIGlmIHByZXZlbnRpb24gaXMgZW5hYmxlZFxyXG4gICAgaWYgKHRoaXMucGFzc3dvcmRQb2xpY3kucHJldmVudFNlcXVlbnRpYWwgJiYgdGhpcy5oYXNTZXF1ZW50aWFsQ2hhcnMocGFzc3dvcmQpKSB7XHJcbiAgICAgIHJlc3VsdC5mZWVkYmFjay5wdXNoKCdQYXNzd29yZCBjYW5ub3QgY29udGFpbiBzZXF1ZW50aWFsIGNoYXJhY3RlcnMgKGUuZy4sIFwiMTIzXCIsIFwiYWJjXCIpJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgZm9yIHJlcGVhdGVkIGNoYXJhY3RlcnMgaWYgcHJldmVudGlvbiBpcyBlbmFibGVkXHJcbiAgICBpZiAodGhpcy5wYXNzd29yZFBvbGljeS5wcmV2ZW50UmVwZWF0ZWQgJiYgdGhpcy5oYXNSZXBlYXRlZENoYXJzKHBhc3N3b3JkKSkge1xyXG4gICAgICByZXN1bHQuZmVlZGJhY2sucHVzaCgnUGFzc3dvcmQgY2Fubm90IGNvbnRhaW4gcmVwZWF0ZWQgY2hhcmFjdGVycyAoZS5nLiwgXCJhYWFcIiwgXCIxMTFcIiknKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBmb3IgY29tbW9uIEJhbmdsYWRlc2hpIHBhdHRlcm5zIGlmIGVuYWJsZWRcclxuICAgIGlmICh0aGlzLnBhc3N3b3JkUG9saWN5LmJhbmdsYWRlc2hQYXR0ZXJucykge1xyXG4gICAgICBjb25zdCBiYW5nbGFkZXNoaVBhdHRlcm5zID0gWydiYW5nbGFkZXNoJywgJ2RoYWthJywgJ3Rha2EnLCAnYmR0JywgJ2JkJ107XHJcbiAgICAgIGNvbnN0IGxvd2VyUGFzc3dvcmQgPSBwYXNzd29yZC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICBmb3IgKGNvbnN0IHBhdHRlcm4gb2YgYmFuZ2xhZGVzaGlQYXR0ZXJucykge1xyXG4gICAgICAgIGlmIChsb3dlclBhc3N3b3JkLmluY2x1ZGVzKHBhdHRlcm4pKSB7XHJcbiAgICAgICAgICByZXN1bHQuZmVlZGJhY2sucHVzaChgUGFzc3dvcmQgY2Fubm90IGNvbnRhaW4gY29tbW9uIEJhbmdsYWRlc2hpIHRlcm1zIGxpa2UgXCIke3BhdHRlcm59XCJgKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGZvciBwZXJzb25hbCBpbmZvcm1hdGlvbiBpZiBwcmV2ZW50aW9uIGlzIGVuYWJsZWRcclxuICAgIGlmICh0aGlzLnBhc3N3b3JkUG9saWN5LnByZXZlbnRQZXJzb25hbEluZm8pIHtcclxuICAgICAgaWYgKHVzZXJJbmZvLmZpcnN0TmFtZSAmJiBsb3dlclBhc3N3b3JkLmluY2x1ZGVzKHVzZXJJbmZvLmZpcnN0TmFtZS50b0xvd2VyQ2FzZSgpKSkge1xyXG4gICAgICAgIHJlc3VsdC5mZWVkYmFjay5wdXNoKCdQYXNzd29yZCBjYW5ub3QgY29udGFpbiB5b3VyIGZpcnN0IG5hbWUnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHVzZXJJbmZvLmxhc3ROYW1lICYmIGxvd2VyUGFzc3dvcmQuaW5jbHVkZXModXNlckluZm8ubGFzdE5hbWUudG9Mb3dlckNhc2UoKSkpIHtcclxuICAgICAgICByZXN1bHQuZmVlZGJhY2sucHVzaCgnUGFzc3dvcmQgY2Fubm90IGNvbnRhaW4geW91ciBsYXN0IG5hbWUnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHVzZXJJbmZvLmVtYWlsICYmIGxvd2VyUGFzc3dvcmQuaW5jbHVkZXModXNlckluZm8uZW1haWwuc3BsaXQoJ0AnKVswXS50b0xvd2VyQ2FzZSgpKSkge1xyXG4gICAgICAgIHJlc3VsdC5mZWVkYmFjay5wdXNoKCdQYXNzd29yZCBjYW5ub3QgY29udGFpbiB5b3VyIGVtYWlsIHVzZXJuYW1lJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh1c2VySW5mby5waG9uZSAmJiBsb3dlclBhc3N3b3JkLmluY2x1ZGVzKHVzZXJJbmZvLnBob25lLnJlcGxhY2UoL1xcRC9nLCAnJykuc2xpY2UoLTQpKSkge1xyXG4gICAgICAgIHJlc3VsdC5mZWVkYmFjay5wdXNoKCdQYXNzd29yZCBjYW5ub3QgY29udGFpbiBwYXJ0cyBvZiB5b3VyIHBob25lIG51bWJlcicpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayBpZiBwYXNzd29yZCBoYXMgc2VxdWVudGlhbCBjaGFyYWN0ZXJzXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhc3N3b3JkIC0gVGhlIHBhc3N3b3JkIHRvIGNoZWNrXHJcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgc2VxdWVudGlhbCBjaGFyYWN0ZXJzIGZvdW5kXHJcbiAgICovXHJcbiAgaGFzU2VxdWVudGlhbENoYXJzKHBhc3N3b3JkKSB7XHJcbiAgICBjb25zdCBsb3dlclBhc3N3b3JkID0gcGFzc3dvcmQudG9Mb3dlckNhc2UoKTtcclxuICAgIFxyXG4gICAgLy8gQ2hlY2sgZm9yIHNlcXVlbnRpYWwgbnVtYmVycyAoMTIzLCAyMzQsIGV0Yy4pXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvd2VyUGFzc3dvcmQubGVuZ3RoIC0gMjsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGNoYXIxID0gbG93ZXJQYXNzd29yZC5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICBjb25zdCBjaGFyMiA9IGxvd2VyUGFzc3dvcmQuY2hhckNvZGVBdChpICsgMSk7XHJcbiAgICAgIGNvbnN0IGNoYXIzID0gbG93ZXJQYXNzd29yZC5jaGFyQ29kZUF0KGkgKyAyKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChjaGFyMiA9PT0gY2hhcjEgKyAxICYmIGNoYXIzID09PSBjaGFyMiArIDEpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoY2hhcjIgPT09IGNoYXIxIC0gMSAmJiBjaGFyMyA9PT0gY2hhcjIgLSAxKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2sgaWYgcGFzc3dvcmQgaGFzIHJlcGVhdGVkIGNoYXJhY3RlcnNcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFzc3dvcmQgLSBUaGUgcGFzc3dvcmQgdG8gY2hlY2tcclxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiByZXBlYXRlZCBjaGFyYWN0ZXJzIGZvdW5kXHJcbiAgICovXHJcbiAgaGFzUmVwZWF0ZWRDaGFycyhwYXNzd29yZCkge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXNzd29yZC5sZW5ndGggLSAyOyBpKyspIHtcclxuICAgICAgaWYgKHBhc3N3b3JkW2ldID09PSBwYXNzd29yZFtpICsgMV0gJiYgcGFzc3dvcmRbaV0gPT09IHBhc3N3b3JkW2kgKyAyXSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayBpZiBwYXNzd29yZCBtZWV0cyBtaW5pbXVtIHJlcXVpcmVtZW50c1xyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXNzd29yZCAtIFRoZSBwYXNzd29yZCB0byBjaGVja1xyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSByZXN1bHQgLSBWYWxpZGF0aW9uIHJlc3VsdCBvYmplY3RcclxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBtZWV0cyByZXF1aXJlbWVudHNcclxuICAgKi9cclxuICBjaGVja01pbmltdW1SZXF1aXJlbWVudHMocGFzc3dvcmQsIHJlc3VsdCkge1xyXG4gICAgY29uc3QgaGFzTWluTGVuZ3RoID0gcGFzc3dvcmQubGVuZ3RoID49IHRoaXMucGFzc3dvcmRQb2xpY3kubWluTGVuZ3RoO1xyXG4gICAgY29uc3QgaGFzTWF4TGVuZ3RoID0gcGFzc3dvcmQubGVuZ3RoIDw9IHRoaXMucGFzc3dvcmRQb2xpY3kubWF4TGVuZ3RoO1xyXG4gICAgY29uc3QgaGFzVXBwZXJjYXNlID0gL1tBLVpdLy50ZXN0KHBhc3N3b3JkKTtcclxuICAgIGNvbnN0IGhhc0xvd2VyY2FzZSA9IC9bYS16XS8udGVzdChwYXNzd29yZCk7XHJcbiAgICBjb25zdCBoYXNOdW1iZXJzID0gL1xcZC8udGVzdChwYXNzd29yZCk7XHJcbiAgICBjb25zdCBoYXNTcGVjaWFsQ2hhcnMgPSAvWyFAIyQlXiYqKClfK1xcLT1cXFtcXF17fTsnOlwiXFxcXHwsLjw+XFwvP10vLnRlc3QocGFzc3dvcmQpO1xyXG4gICAgY29uc3Qgbm9TZXF1ZW50aWFsQ2hhcnMgPSAhdGhpcy5oYXNTZXF1ZW50aWFsQ2hhcnMocGFzc3dvcmQpO1xyXG4gICAgY29uc3Qgbm9SZXBlYXRlZENoYXJzID0gIXRoaXMuaGFzUmVwZWF0ZWRDaGFycyhwYXNzd29yZCk7XHJcblxyXG4gICAgcmV0dXJuIGhhc01pbkxlbmd0aCAmJiBoYXNNYXhMZW5ndGggJiYgaGFzVXBwZXJjYXNlICYmIGhhc0xvd2VyY2FzZSAmJiBcclxuICAgICAgICAgICBoYXNOdW1iZXJzICYmIGhhc1NwZWNpYWxDaGFycyAmJiBub1NlcXVlbnRpYWxDaGFycyAmJiBub1JlcGVhdGVkQ2hhcnM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBIYXNoIHBhc3N3b3JkIHVzaW5nIGJjcnlwdFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXNzd29yZCAtIFRoZSBwYXNzd29yZCB0byBoYXNoXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gSGFzaGVkIHBhc3N3b3JkXHJcbiAgICovXHJcbiAgYXN5bmMgaGFzaFBhc3N3b3JkKHBhc3N3b3JkKSB7XHJcbiAgICByZXR1cm4gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIHRoaXMucGFzc3dvcmRQb2xpY3kuYmNyeXB0Um91bmRzKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFZlcmlmeSBwYXNzd29yZCBhZ2FpbnN0IGhhc2hcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFzc3dvcmQgLSBUaGUgcGFzc3dvcmQgdG8gdmVyaWZ5XHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGhhc2ggLSBUaGUgaGFzaCB0byB2ZXJpZnkgYWdhaW5zdFxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fSBUcnVlIGlmIHBhc3N3b3JkIG1hdGNoZXNcclxuICAgKi9cclxuICBhc3luYyB2ZXJpZnlQYXNzd29yZChwYXNzd29yZCwgaGFzaCkge1xyXG4gICAgcmV0dXJuIGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBoYXNoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNhdmUgcGFzc3dvcmQgdG8gaGlzdG9yeVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWQgLSBVc2VyIElEXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhc3N3b3JkSGFzaCAtIEhhc2hlZCBwYXNzd29yZFxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IENyZWF0ZWQgcGFzc3dvcmQgaGlzdG9yeSByZWNvcmRcclxuICAgKi9cclxuICBhc3luYyBzYXZlUGFzc3dvcmRUb0hpc3RvcnkodXNlcklkLCBwYXNzd29yZEhhc2gpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIENsZWFuIHVwIG9sZCBwYXNzd29yZCBoaXN0b3J5IChrZWVwIG9ubHkgbGFzdCA1KVxyXG4gICAgICBhd2FpdCB0aGlzLmNsZWFudXBPbGRQYXNzd29yZEhpc3RvcnkodXNlcklkKTtcclxuXHJcbiAgICAgIGNvbnN0IHBhc3N3b3JkSGlzdG9yeSA9IGF3YWl0IHByaXNtYS5wYXNzd29yZEhpc3RvcnkuY3JlYXRlKHtcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICB1c2VySWQsXHJcbiAgICAgICAgICBwYXNzd29yZEhhc2hcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIHBhc3N3b3JkSGlzdG9yeTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBwYXNzd29yZCB0byBoaXN0b3J5OicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gc2F2ZSBwYXNzd29yZCB0byBoaXN0b3J5Jyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayBpZiBwYXNzd29yZCBoYXMgYmVlbiB1c2VkIGJlZm9yZVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWQgLSBVc2VyIElEXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5ld1Bhc3N3b3JkIC0gTmV3IHBhc3N3b3JkIHRvIGNoZWNrXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59IFRydWUgaWYgcGFzc3dvcmQgaGFzIGJlZW4gdXNlZCBiZWZvcmVcclxuICAgKi9cclxuICBhc3luYyBpc1Bhc3N3b3JkUmV1c2VkKHVzZXJJZCwgbmV3UGFzc3dvcmQpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHBhc3N3b3JkSGlzdG9yeSA9IGF3YWl0IHByaXNtYS5wYXNzd29yZEhpc3RvcnkuZmluZE1hbnkoe1xyXG4gICAgICAgIHdoZXJlOiB7IHVzZXJJZCB9LFxyXG4gICAgICAgIG9yZGVyQnk6IHsgY3JlYXRlZEF0OiAnZGVzYycgfSxcclxuICAgICAgICB0YWtlOiA1IC8vIENoZWNrIGxhc3QgNSBwYXNzd29yZHNcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBmb3IgKGNvbnN0IGhpc3RvcnlFbnRyeSBvZiBwYXNzd29yZEhpc3RvcnkpIHtcclxuICAgICAgICBjb25zdCBpc01hdGNoID0gYXdhaXQgdGhpcy52ZXJpZnlQYXNzd29yZChuZXdQYXNzd29yZCwgaGlzdG9yeUVudHJ5LnBhc3N3b3JkSGFzaCk7XHJcbiAgICAgICAgaWYgKGlzTWF0Y2gpIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgcGFzc3dvcmQgcmV1c2U6JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjaGVjayBwYXNzd29yZCByZXVzZScpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2xlYW4gdXAgb2xkIHBhc3N3b3JkIGhpc3RvcnlcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gVXNlciBJRFxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxyXG4gICAqL1xyXG4gIGFzeW5jIGNsZWFudXBPbGRQYXNzd29yZEhpc3RvcnkodXNlcklkKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBHZXQgYWxsIHBhc3N3b3JkIGhpc3RvcnkgZm9yIHVzZXIsIG9yZGVyZWQgYnkgY3JlYXRpb24gZGF0ZVxyXG4gICAgICBjb25zdCBhbGxIaXN0b3J5ID0gYXdhaXQgcHJpc21hLnBhc3N3b3JkSGlzdG9yeS5maW5kTWFueSh7XHJcbiAgICAgICAgd2hlcmU6IHsgdXNlcklkIH0sXHJcbiAgICAgICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6ICdkZXNjJyB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gSWYgbW9yZSB0aGFuIDUsIGRlbGV0ZSB0aGUgb2xkZXN0IG9uZXNcclxuICAgICAgaWYgKGFsbEhpc3RvcnkubGVuZ3RoID4gNSkge1xyXG4gICAgICAgIGNvbnN0IHRvRGVsZXRlID0gYWxsSGlzdG9yeS5zbGljZSg1KTtcclxuICAgICAgICBjb25zdCBpZHNUb0RlbGV0ZSA9IHRvRGVsZXRlLm1hcChlbnRyeSA9PiBlbnRyeS5pZCk7XHJcblxyXG4gICAgICAgIGF3YWl0IHByaXNtYS5wYXNzd29yZEhpc3RvcnkuZGVsZXRlTWFueSh7XHJcbiAgICAgICAgICB3aGVyZToge1xyXG4gICAgICAgICAgICBpZDogeyBpbjogaWRzVG9EZWxldGUgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjbGVhbmluZyB1cCBwYXNzd29yZCBoaXN0b3J5OicsIGVycm9yKTtcclxuICAgICAgLy8gRG9uJ3QgdGhyb3cgZXJyb3IgaGVyZSwgYXMgdGhpcyBpcyBub3QgY3JpdGljYWxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdlbmVyYXRlIHN0cm9uZyB0ZW1wb3JhcnkgcGFzc3dvcmRcclxuICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIC0gUGFzc3dvcmQgbGVuZ3RoIChkZWZhdWx0IDEyKVxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IEdlbmVyYXRlZCBwYXNzd29yZFxyXG4gICAqL1xyXG4gIGdlbmVyYXRlU3Ryb25nUGFzc3dvcmQobGVuZ3RoID0gMTIpIHtcclxuICAgIGNvbnN0IHVwcGVyY2FzZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWic7XHJcbiAgICBjb25zdCBsb3dlcmNhc2UgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonO1xyXG4gICAgY29uc3QgbnVtYmVycyA9ICcwMTIzNDU2Nzg5JztcclxuICAgIGNvbnN0IHNwZWNpYWxDaGFycyA9ICchQCMkJV4mKigpXystPVtde318OzosLjw+Pyc7XHJcbiAgICBcclxuICAgIGNvbnN0IGFsbENoYXJzID0gdXBwZXJjYXNlICsgbG93ZXJjYXNlICsgbnVtYmVycyArIHNwZWNpYWxDaGFycztcclxuICAgIGxldCBwYXNzd29yZCA9ICcnO1xyXG5cclxuICAgIC8vIEVuc3VyZSBhdCBsZWFzdCBvbmUgb2YgZWFjaCB0eXBlXHJcbiAgICBwYXNzd29yZCArPSB1cHBlcmNhc2VbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdXBwZXJjYXNlLmxlbmd0aCldO1xyXG4gICAgcGFzc3dvcmQgKz0gbG93ZXJjYXNlW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGxvd2VyY2FzZS5sZW5ndGgpXTtcclxuICAgIHBhc3N3b3JkICs9IG51bWJlcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbnVtYmVycy5sZW5ndGgpXTtcclxuICAgIHBhc3N3b3JkICs9IHNwZWNpYWxDaGFyc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBzcGVjaWFsQ2hhcnMubGVuZ3RoKV07XHJcblxyXG4gICAgLy8gRmlsbCB0aGUgcmVzdCB3aXRoIHJhbmRvbSBjaGFyYWN0ZXJzXHJcbiAgICBmb3IgKGxldCBpID0gNDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHBhc3N3b3JkICs9IGFsbENoYXJzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFsbENoYXJzLmxlbmd0aCldO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNodWZmbGUgdGhlIHBhc3N3b3JkXHJcbiAgICByZXR1cm4gcGFzc3dvcmQuc3BsaXQoJycpLnNvcnQoKCkgPT4gTWF0aC5yYW5kb20oKSAtIDAuNSkuam9pbignJyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgcGFzc3dvcmQgcG9saWN5IGNvbmZpZ3VyYXRpb25cclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBQYXNzd29yZCBwb2xpY3kgY29uZmlndXJhdGlvblxyXG4gICAqL1xyXG4gIGdldFBhc3N3b3JkUG9saWN5KCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbWluTGVuZ3RoOiB0aGlzLnBhc3N3b3JkUG9saWN5Lm1pbkxlbmd0aCxcclxuICAgICAgbWF4TGVuZ3RoOiB0aGlzLnBhc3N3b3JkUG9saWN5Lm1heExlbmd0aCxcclxuICAgICAgcmVxdWlyZVVwcGVyY2FzZTogdHJ1ZSxcclxuICAgICAgcmVxdWlyZUxvd2VyY2FzZTogdHJ1ZSxcclxuICAgICAgcmVxdWlyZU51bWJlcnM6IHRydWUsXHJcbiAgICAgIHJlcXVpcmVTcGVjaWFsQ2hhcnM6IHRydWUsXHJcbiAgICAgIHByZXZlbnRTZXF1ZW50aWFsOiB0cnVlLFxyXG4gICAgICBwcmV2ZW50UmVwZWF0ZWQ6IHRydWUsXHJcbiAgICAgIHByZXZlbnRQZXJzb25hbEluZm86IHRydWUsXHJcbiAgICAgIHByZXZlbnRDb21tb25QYXR0ZXJuczogdHJ1ZSxcclxuICAgICAgbWluU3RyZW5ndGhTY29yZTogMixcclxuICAgICAgaGlzdG9yeUxpbWl0OiA1XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHBhc3N3b3JkIHN0cmVuZ3RoIGZlZWRiYWNrIGluIEJlbmdhbGlcclxuICAgKiBAcGFyYW0ge09iamVjdH0gdmFsaWRhdGlvblJlc3VsdCAtIFBhc3N3b3JkIHZhbGlkYXRpb24gcmVzdWx0XHJcbiAgICogQHJldHVybnMge09iamVjdH0gTG9jYWxpemVkIGZlZWRiYWNrXHJcbiAgICovXHJcbiAgZ2V0TG9jYWxpemVkRmVlZGJhY2sodmFsaWRhdGlvblJlc3VsdCkge1xyXG4gICAgY29uc3QgYmVuZ2FsaVN0cmVuZ3RoID0ge1xyXG4gICAgICB2ZXJ5X3dlYWs6ICfgpoXgpqTgp43gpq/gpqjgp43gpqQg4Kam4KeB4Kaw4KeN4Kas4KayJyxcclxuICAgICAgd2VhazogJ+CmpuCngeCmsOCnjeCmrOCmsicsXHJcbiAgICAgIGZhaXI6ICfgpq7gp4vgpp/gpr7gpq7gp4Hgpp/gpr8nLFxyXG4gICAgICBnb29kOiAn4Kat4Ka+4Kay4KeLJyxcclxuICAgICAgc3Ryb25nOiAn4Ka24KaV4KeN4Kak4Ka/J1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBiZW5nYWxpRmVlZGJhY2sgPSB7XHJcbiAgICAgICdQYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0JzogJ+CmquCmvuCmuOCmk+Cmr+CmvOCmvuCmsOCnjeCmoSDgpoXgpqzgprbgp43gpq/gpocnLFxyXG4gICAgICAnUGFzc3dvcmQgbXVzdCBub3QgZXhjZWVkJzogJ+CmquCmvuCmuOCmk+Cmr+CmvOCmvuCmsOCnjeCmoScsXHJcbiAgICAgICdQYXNzd29yZCBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIHVwcGVyY2FzZSBsZXR0ZXInOiAn4Kaq4Ka+4Ka44KaT4Kav4Ka84Ka+4Kaw4KeN4Kah4KeHIOCmheCmrOCmtuCnjeCmr+CmhyDgpo/gppXgpp/gpr8g4Kas4Kah4Ka8IOCmueCmvuCmpOCnh+CmsCDgpoXgppXgp43gprfgprAg4Kal4Ka+4KaV4Kak4KeHIOCmueCmrOCnhycsXHJcbiAgICAgICdQYXNzd29yZCBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIGxvd2VyY2FzZSBsZXR0ZXInOiAn4Kaq4Ka+4Ka44KaT4Kav4Ka84Ka+4Kaw4KeN4Kah4KeHIOCmheCmrOCmtuCnjeCmr+CmhyDgpo/gppXgpp/gpr8g4Kab4KeL4KafIOCmueCmvuCmpOCnh+CmsCDgpoXgppXgp43gprfgprAg4Kal4Ka+4KaV4Kak4KeHIOCmueCmrOCnhycsXHJcbiAgICAgICdQYXNzd29yZCBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIG51bWJlcic6ICfgpqrgpr7gprjgppPgpq/gprzgpr7gprDgp43gpqHgp4cg4KaF4Kas4Ka24KeN4Kav4KaHIOCmj+CmleCmn+CmvyDgprjgpoLgppbgp43gpq/gpr4g4Kal4Ka+4KaV4Kak4KeHIOCmueCmrOCnhycsXHJcbiAgICAgICdQYXNzd29yZCBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIHNwZWNpYWwgY2hhcmFjdGVyJzogJ+CmquCmvuCmuOCmk+Cmr+CmvOCmvuCmsOCnjeCmoeCnhyDgpoXgpqzgprbgp43gpq/gpocg4KaP4KaV4Kaf4Ka/IOCmrOCmv+CmtuCnh+CmtyDgpoXgppXgp43gprfgprAg4Kal4Ka+4KaV4Kak4KeHIOCmueCmrOCnhycsXHJcbiAgICAgICdQYXNzd29yZCBjYW5ub3QgY29udGFpbiBzZXF1ZW50aWFsIGNoYXJhY3RlcnMnOiAn4Kaq4Ka+4Ka44KaT4Kav4Ka84Ka+4Kaw4KeN4Kah4KeHIOCmleCnjeCmsOCmruCmv+CmlSDgpoXgppXgp43gprfgprAg4Kal4Ka+4KaV4Kak4KeHIOCmquCmvuCmsOCnhyDgpqjgpr4nLFxyXG4gICAgICAnUGFzc3dvcmQgY2Fubm90IGNvbnRhaW4gcmVwZWF0ZWQgY2hhcmFjdGVycyc6ICfgpqrgpr7gprjgppPgpq/gprzgpr7gprDgp43gpqHgp4cg4Kaq4KeB4Kao4Kaw4Ka+4Kas4KeD4Kak4KeN4Kak4Ka/IOCmheCmleCnjeCmt+CmsCDgpqXgpr7gppXgpqTgp4cg4Kaq4Ka+4Kaw4KeHIOCmqOCmvicsXHJcbiAgICAgICdQYXNzd29yZCBjYW5ub3QgY29udGFpbiB5b3VyIGZpcnN0IG5hbWUnOiAn4Kaq4Ka+4Ka44KaT4Kav4Ka84Ka+4Kaw4KeN4Kah4KeHIOCmhuCmquCmqOCmvuCmsCDgpqrgp43gprDgpqXgpq4g4Kao4Ka+4KauIOCmpeCmvuCmleCmpOCnhyDgpqrgpr7gprDgp4cg4Kao4Ka+JyxcclxuICAgICAgJ1Bhc3N3b3JkIGNhbm5vdCBjb250YWluIHlvdXIgbGFzdCBuYW1lJzogJ+CmquCmvuCmuOCmk+Cmr+CmvOCmvuCmsOCnjeCmoeCnhyDgpobgpqrgpqjgpr7gprAg4Ka24KeH4Ka3IOCmqOCmvuCmriDgpqXgpr7gppXgpqTgp4cg4Kaq4Ka+4Kaw4KeHIOCmqOCmvicsXHJcbiAgICAgICdQYXNzd29yZCBjYW5ub3QgY29udGFpbiB5b3VyIGVtYWlsIHVzZXJuYW1lJzogJ+CmquCmvuCmuOCmk+Cmr+CmvOCmvuCmsOCnjeCmoeCnhyDgpobgpqrgpqjgpr7gprAg4KaH4Kau4KeH4KayIOCmrOCnjeCmr+CmrOCmueCmvuCmsOCmleCmvuCmsOCngCDgpqjgpr7gpq4g4Kal4Ka+4KaV4Kak4KeHIOCmquCmvuCmsOCnhyDgpqjgpr4nLFxyXG4gICAgICAnUGFzc3dvcmQgY2Fubm90IGNvbnRhaW4gcGFydHMgb2YgeW91ciBwaG9uZSBudW1iZXInOiAn4Kaq4Ka+4Ka44KaT4Kav4Ka84Ka+4Kaw4KeN4Kah4KeHIOCmhuCmquCmqOCmvuCmsCDgpqvgp4vgpqgg4Kao4Kau4KeN4Kas4Kaw4KeH4KawIOCmheCmguCmtiDgpqXgpr7gppXgpqTgp4cg4Kaq4Ka+4Kaw4KeHIOCmqOCmvicsXHJcbiAgICAgICdQYXNzd29yZCBjYW5ub3QgY29udGFpbiBjb21tb24gQmFuZ2xhZGVzaGkgdGVybXMnOiAn4Kaq4Ka+4Ka44KaT4Kav4Ka84Ka+4Kaw4KeN4Kah4KeHIOCmuOCmvuCmp+CmvuCmsOCmoyDgpqzgpr7gpoLgprLgpr7gpqbgp4fgprbgp4Ag4Ka24Kas4KeN4KamIOCmpeCmvuCmleCmpOCnhyDgpqrgpr7gprDgp4cg4Kao4Ka+J1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAuLi52YWxpZGF0aW9uUmVzdWx0LFxyXG4gICAgICBzdHJlbmd0aDogYmVuZ2FsaVN0cmVuZ3RoW3ZhbGlkYXRpb25SZXN1bHQuc3RyZW5ndGhdIHx8IHZhbGlkYXRpb25SZXN1bHQuc3RyZW5ndGgsXHJcbiAgICAgIGZlZWRiYWNrOiB2YWxpZGF0aW9uUmVzdWx0LmZlZWRiYWNrLm1hcChtc2cgPT4ge1xyXG4gICAgICAgIGZvciAoY29uc3QgW2VuZ2xpc2gsIGJlbmdhbGldIG9mIE9iamVjdC5lbnRyaWVzKGJlbmdhbGlGZWVkYmFjaykpIHtcclxuICAgICAgICAgIGlmIChtc2cuaW5jbHVkZXMoZW5nbGlzaCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1zZy5yZXBsYWNlKGVuZ2xpc2gsIGJlbmdhbGkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbXNnO1xyXG4gICAgICB9KVxyXG4gICAgfTtcclxuICB9XHJcbn1cclxuXHJcbi8vIFNpbmdsZXRvbiBpbnN0YW5jZVxyXG5jb25zdCBwYXNzd29yZFNlcnZpY2UgPSBuZXcgUGFzc3dvcmRTZXJ2aWNlKCk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBQYXNzd29yZFNlcnZpY2UsXHJcbiAgcGFzc3dvcmRTZXJ2aWNlXHJcbn07Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxNQUFNLEdBQUdDLE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFDaEMsTUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsVUFBVSxDQUFDO0FBQ2xDLE1BQU07RUFBRUU7QUFBYSxDQUFDLEdBQUdGLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQztBQUNsRCxNQUFNO0VBQUVHO0FBQWMsQ0FBQyxHQUFHSCxPQUFPLENBQUMsVUFBVSxDQUFDO0FBRTdDLE1BQU1JLE1BQU0sR0FBRyxJQUFJRixZQUFZLENBQUMsQ0FBQztBQUVqQyxNQUFNRyxlQUFlLENBQUM7RUFDcEJDLFdBQVdBLENBQUEsRUFBRztJQUNaLElBQUksQ0FBQ0MsY0FBYyxHQUFHSixhQUFhLENBQUNLLGlCQUFpQixDQUFDLENBQUM7SUFDdkQsSUFBSSxDQUFDQyxjQUFjLEdBQUdOLGFBQWEsQ0FBQ08sdUJBQXVCLENBQUMsQ0FBQztFQUMvRDs7RUFFQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDRUMsd0JBQXdCQSxDQUFDQyxRQUFRLEVBQUVDLFFBQVEsR0FBRyxDQUFDLENBQUMsRUFBRTtJQUNoRCxNQUFNQyxNQUFNLEdBQUc7TUFDYkMsT0FBTyxFQUFFLEtBQUs7TUFDZEMsS0FBSyxFQUFFLENBQUM7TUFDUkMsUUFBUSxFQUFFLEVBQUU7TUFDWkMsUUFBUSxFQUFFLEVBQUU7TUFDWkMsUUFBUSxFQUFFLFdBQVc7TUFDckJDLGlCQUFpQixFQUFFO0lBQ3JCLENBQUM7O0lBRUQ7SUFDQSxJQUFJUixRQUFRLENBQUNTLE1BQU0sR0FBRyxJQUFJLENBQUNaLGNBQWMsQ0FBQ2EsU0FBUyxFQUFFO01BQ25EUixNQUFNLENB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