{"version":3,"names":["require","config","ConfigService","constructor","PORT","process","env","NODE_ENV","DATABASE_URL","DATABASE_SSL","JWT_SECRET","JWT_EXPIRES_IN","CORS_ORIGIN","CORS_CREDENTIALS","MAX_FILE_SIZE","UPLOAD_PATH","SMTP_HOST","SMTP_PORT","SMTP_USER","SMTP_PASS","SMTP_FROM","BKASH_API_KEY","BKASH_API_SECRET","NAGAD_API_KEY","NAGAD_API_SECRET","ROCKET_API_KEY","ROCKET_API_SECRET","REDIS_URL","REDIS_TTL","ELASTICSEARCH_URL","ELASTICSEARCH_INDEX","validateConfig","console","log","startTime","Date","now","Error","requiredFields","missingFields","filter","field","criticalFields","missingCriticalFields","length","error","missing","environment","timestamp","toISOString","validationDuration","join","warn","impact","URL","message","serviceUrls","forEach","urlField","url","protocol","startsWith","includes","smtpFields","missingSmtpFields","smtpPort","parseInt","isNaN","maxSize","port","test","criticalServicesConfigured","get","key","getAll","isProduction","isDevelopment","isTest","getDatabaseConfig","ssl","connectionTimeout","queryTimeout","statementTimeout","pool","min","max","acquireTimeoutMillis","createTimeoutMillis","destroyTimeoutMillis","idleTimeoutMillis","reapIntervalMillis","createRetryIntervalMillis","getJWTConfig","secret","expiresIn","algorithm","issuer","getCORSConfig","origin","credentials","methods","allowedHeaders","exposedHeaders","getFileUploadConfig","allowedTypes","uploadPath","allowedMimeTypes","getPaymentConfig","bkash","apiKey","apiSecret","baseUrl","nagad","rocket","getCacheConfig","redis","ttl","keyPrefix","retryDelayOnFailover","maxRetriesPerRequest","getSearchConfig","elasticsearch","index","maxResults","timeout","getEmailConfig","host","secure","auth","user","pass","from","templates","welcome","orderConfirmation","passwordReset","getRateLimitConfig","windowMs","standardHeaders","getSecurityConfig","bcryptRounds","passwordMinLength","passwordMaxLength","sessionMaxAge","cookieSecure","helmet","contentSecurityPolicy","directives","defaultSrc","styleSrc","scriptSrc","imgSrc","hsts","maxAge","includeSubDomains","getLoggingConfig","level","format","colorize","file","getAPIConfig","version","prefix","rateLimit","pagination","defaultLimit","maxLimit","compression","trustProxy","configService","module","exports"],"sources":["config.js"],"sourcesContent":["require('dotenv').config();\r\n\r\nclass ConfigService {\r\n  constructor() {\r\n    this.config = {\r\n      // Server configuration\r\n      PORT: process.env.PORT || 3001,\r\n      NODE_ENV: process.env.NODE_ENV || 'development',\r\n      \r\n      // Database configuration\r\n      DATABASE_URL: process.env.DATABASE_URL,\r\n      DATABASE_SSL: process.env.DATABASE_SSL === 'true',\r\n      \r\n      // JWT configuration\r\n      JWT_SECRET: process.env.JWT_SECRET,\r\n      JWT_EXPIRES_IN: process.env.JWT_EXPIRES_IN || '7d',\r\n      \r\n      // CORS configuration\r\n      CORS_ORIGIN: process.env.CORS_ORIGIN || 'http://localhost:3000',\r\n      CORS_CREDENTIALS: process.env.CORS_CREDENTIALS === 'true',\r\n      \r\n      // File upload configuration\r\n      MAX_FILE_SIZE: process.env.MAX_FILE_SIZE || '5242880', // 5MB\r\n      UPLOAD_PATH: process.env.UPLOAD_PATH || './uploads',\r\n      \r\n      // Email configuration\r\n      SMTP_HOST: process.env.SMTP_HOST,\r\n      SMTP_PORT: process.env.SMTP_PORT || 587,\r\n      SMTP_USER: process.env.SMTP_USER,\r\n      SMTP_PASS: process.env.SMTP_PASS,\r\n      SMTP_FROM: process.env.SMTP_FROM || 'noreply@smarttechnologies.bd',\r\n      \r\n      // Payment gateway configuration\r\n      BKASH_API_KEY: process.env.BKASH_API_KEY,\r\n      BKASH_API_SECRET: process.env.BKASH_API_SECRET,\r\n      NAGAD_API_KEY: process.env.NAGAD_API_KEY,\r\n      NAGAD_API_SECRET: process.env.NAGAD_API_SECRET,\r\n      ROCKET_API_KEY: process.env.ROCKET_API_KEY,\r\n      ROCKET_API_SECRET: process.env.ROCKET_API_SECRET,\r\n      \r\n      // Redis configuration (for caching)\r\n      REDIS_URL: process.env.REDIS_URL || 'redis://localhost:6379',\r\n      REDIS_TTL: process.env.REDIS_TTL || 3600, // 1 hour\r\n      \r\n      // Elasticsearch configuration\r\n      ELASTICSEARCH_URL: process.env.ELASTICSEARCH_URL || 'http://localhost:9200',\r\n      ELASTICSEARCH_INDEX: process.env.ELASTICSEARCH_INDEX || 'smart_ecommerce'\r\n    };\r\n\r\n    this.validateConfig();\r\n  }\r\n\r\n  validateConfig() {\r\n    console.log('üîç Starting configuration validation...');\r\n    const startTime = Date.now();\r\n    \r\n    // JWT Secret validation - no fallback in any environment\r\n    if (!this.config.JWT_SECRET) {\r\n      throw new Error('JWT_SECRET is required in all environments. Please set a secure JWT secret in your environment variables.');\r\n    }\r\n\r\n    const requiredFields = [\r\n      'DATABASE_URL'\r\n    ];\r\n\r\n    const missingFields = requiredFields.filter(field => !this.config[field]);\r\n    \r\n    // Enhanced validation for critical services including payment gateway secrets\r\n    const criticalFields = [\r\n      'DATABASE_URL',\r\n      'JWT_SECRET',\r\n      'BKASH_API_KEY',\r\n      'BKASH_API_SECRET',\r\n      'NAGAD_API_KEY',\r\n      'NAGAD_API_SECRET',\r\n      'ROCKET_API_KEY',\r\n      'ROCKET_API_SECRET'\r\n    ];\r\n    \r\n    const missingCriticalFields = criticalFields.filter(field => !this.config[field]);\r\n    \r\n    if (missingFields.length > 0) {\r\n      console.error('‚ùå Missing required environment variables:', {\r\n        missing: missingFields,\r\n        environment: this.config.NODE_ENV,\r\n        timestamp: new Date().toISOString(),\r\n        validationDuration: Date.now() - startTime\r\n      });\r\n      if (this.config.NODE_ENV === 'production') {\r\n        throw new Error(`Missing required environment variables: ${missingFields.join(', ')}`);\r\n      } else {\r\n        console.warn('‚ö†Ô∏è  Missing environment variables (using defaults):', missingFields);\r\n      }\r\n    }\r\n    \r\n    if (missingCriticalFields.length > 0) {\r\n      console.warn('‚ö†Ô∏è  Missing critical payment gateway configuration:', {\r\n        missing: missingCriticalFields,\r\n        impact: 'Payment processing will be disabled for these gateways',\r\n        timestamp: new Date().toISOString()\r\n      });\r\n    }\r\n\r\n    // Validate database URL format\r\n    if (this.config.DATABASE_URL) {\r\n      try {\r\n        new URL(this.config.DATABASE_URL);\r\n      } catch (error) {\r\n        console.error('‚ùå Invalid DATABASE_URL format:', error.message);\r\n        if (this.config.NODE_ENV === 'production') {\r\n          throw new Error('Invalid DATABASE_URL format');\r\n        }\r\n      }\r\n    }\r\n\r\n    // Validate external service URLs\r\n    const serviceUrls = ['ELASTICSEARCH_URL', 'REDIS_URL'];\r\n    serviceUrls.forEach(urlField => {\r\n      if (this.config[urlField]) {\r\n        try {\r\n          const url = new URL(this.config[urlField]);\r\n          // Additional validation for specific protocols\r\n          if (urlField === 'REDIS_URL' && !url.protocol.startsWith('redis://')) {\r\n            throw new Error('REDIS_URL must use redis:// protocol');\r\n          }\r\n          if (urlField === 'ELASTICSEARCH_URL' && !['http:', 'https:'].includes(url.protocol)) {\r\n            throw new Error('ELASTICSEARCH_URL must use http:// or https:// protocol');\r\n          }\r\n        } catch (error) {\r\n          console.error(`‚ùå Invalid ${urlField} format:`, error.message);\r\n          if (this.config.NODE_ENV === 'production') {\r\n            throw new Error(`Invalid ${urlField} format`);\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    // Validate SMTP configuration\r\n    const smtpFields = ['SMTP_HOST', 'SMTP_PORT', 'SMTP_USER', 'SMTP_PASS'];\r\n    const missingSmtpFields = smtpFields.filter(field => !this.config[field]);\r\n    \r\n    if (missingSmtpFields.length > 0) {\r\n      console.warn('‚ö†Ô∏è  Missing SMTP configuration:', {\r\n        missing: missingSmtpFields,\r\n        impact: 'Email functionality will be disabled',\r\n        timestamp: new Date().toISOString()\r\n      });\r\n    }\r\n\r\n    // Validate SMTP port if provided\r\n    if (this.config.SMTP_PORT) {\r\n      const smtpPort = parseInt(this.config.SMTP_PORT);\r\n      if (isNaN(smtpPort) || smtpPort < 1 || smtpPort > 65535) {\r\n        console.error('‚ùå Invalid SMTP_PORT:', this.config.SMTP_PORT);\r\n        if (this.config.NODE_ENV === 'production') {\r\n          throw new Error('Invalid SMTP_PORT number');\r\n        }\r\n      }\r\n    }\r\n\r\n    // Validate file upload security settings\r\n    if (this.config.MAX_FILE_SIZE) {\r\n      const maxSize = parseInt(this.config.MAX_FILE_SIZE);\r\n      if (isNaN(maxSize) || maxSize <= 0) {\r\n        console.error('‚ùå Invalid MAX_FILE_SIZE:', this.config.MAX_FILE_SIZE);\r\n        if (this.config.NODE_ENV === 'production') {\r\n          throw new Error('Invalid MAX_FILE_SIZE');\r\n        }\r\n      }\r\n      // Security check: limit file size to 50MB maximum\r\n      if (maxSize > 52428800) {\r\n        console.warn('‚ö†Ô∏è  MAX_FILE_SIZE exceeds 50MB security limit:', this.config.MAX_FILE_SIZE);\r\n        if (this.config.NODE_ENV === 'production') {\r\n          throw new Error('MAX_FILE_SIZE exceeds security limit of 50MB');\r\n        }\r\n      }\r\n    }\r\n\r\n    // Validate upload path security\r\n    if (this.config.UPLOAD_PATH) {\r\n      // Prevent path traversal attacks\r\n      if (this.config.UPLOAD_PATH.includes('..') || this.config.UPLOAD_PATH.includes('~')) {\r\n        console.error('‚ùå Unsafe UPLOAD_PATH detected:', this.config.UPLOAD_PATH);\r\n        if (this.config.NODE_ENV === 'production') {\r\n          throw new Error('Unsafe UPLOAD_PATH detected');\r\n        }\r\n      }\r\n    }\r\n\r\n    // Validate CORS origin\r\n    if (this.config.CORS_ORIGIN) {\r\n      if (this.config.CORS_ORIGIN === '*') {\r\n        console.warn('‚ö†Ô∏è  Wildcard CORS_ORIGIN detected, this may be insecure in production');\r\n      }\r\n    }\r\n\r\n    // Validate port\r\n    const port = parseInt(this.config.PORT);\r\n    if (isNaN(port) || port < 1 || port > 65535) {\r\n      console.error('‚ùå Invalid PORT:', this.config.PORT);\r\n      if (this.config.NODE_ENV === 'production') {\r\n        throw new Error('Invalid PORT number');\r\n      }\r\n    }\r\n\r\n    // Validate JWT expiration\r\n    if (this.config.JWT_EXPIRES_IN && !/^\\d+[smhdw]$/.test(this.config.JWT_EXPIRES_IN)) {\r\n      console.error('‚ùå Invalid JWT_EXPIRES_IN format:', this.config.JWT_EXPIRES_IN);\r\n      if (this.config.NODE_ENV === 'production') {\r\n        throw new Error('Invalid JWT_EXPIRES_IN format');\r\n      }\r\n    }\r\n\r\n    console.log('‚úÖ Configuration validated successfully', {\r\n      validationDuration: Date.now() - startTime,\r\n      environment: this.config.NODE_ENV,\r\n      criticalServicesConfigured: missingCriticalFields.length === 0,\r\n      timestamp: new Date().toISOString()\r\n    });\r\n  }\r\n\r\n  get(key) {\r\n    return this.config[key];\r\n  }\r\n\r\n  getAll() {\r\n    return { ...this.config };\r\n  }\r\n\r\n  isProduction() {\r\n    return this.config.NODE_ENV === 'production';\r\n  }\r\n\r\n  isDevelopment() {\r\n    return this.config.NODE_ENV === 'development';\r\n  }\r\n\r\n  isTest() {\r\n    return this.config.NODE_ENV === 'test';\r\n  }\r\n\r\n  // Database helpers\r\n  getDatabaseConfig() {\r\n    return {\r\n      url: this.config.DATABASE_URL,\r\n      ssl: this.config.DATABASE_SSL === 'true',\r\n      connectionTimeout: 10000,\r\n      queryTimeout: 30000,\r\n      statementTimeout: 30000,\r\n      pool: {\r\n        min: 2,\r\n        max: 10,\r\n        acquireTimeoutMillis: 30000,\r\n        createTimeoutMillis: 30000,\r\n        destroyTimeoutMillis: 5000,\r\n        idleTimeoutMillis: 10000,\r\n        reapIntervalMillis: 1000,\r\n        createRetryIntervalMillis: 200\r\n      }\r\n    };\r\n  }\r\n\r\n  // JWT helpers\r\n  getJWTConfig() {\r\n    return {\r\n      secret: this.config.JWT_SECRET,\r\n      expiresIn: this.config.JWT_EXPIRES_IN,\r\n      algorithm: 'HS256',\r\n      issuer: 'smart-technologies-bd'\r\n    };\r\n  }\r\n\r\n  // CORS helpers\r\n  getCORSConfig() {\r\n    return {\r\n      origin: this.config.CORS_ORIGIN,\r\n      credentials: this.config.CORS_CREDENTIALS === 'true',\r\n      methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'],\r\n      allowedHeaders: ['Content-Type', 'Authorization', 'X-Requested-With'],\r\n      exposedHeaders: ['X-Total-Count', 'X-Page-Count']\r\n    };\r\n  }\r\n\r\n  // File upload helpers\r\n  getFileUploadConfig() {\r\n    return {\r\n      maxSize: parseInt(this.config.MAX_FILE_SIZE),\r\n      allowedTypes: ['image/jpeg', 'image/png', 'image/gif', 'image/webp'],\r\n      uploadPath: this.config.UPLOAD_PATH,\r\n      allowedMimeTypes: [\r\n        'image/jpeg',\r\n        'image/png', \r\n        'image/gif',\r\n        'image/webp'\r\n      ]\r\n    };\r\n  }\r\n\r\n  // Payment gateway helpers with environment-specific URLs\r\n  getPaymentConfig() {\r\n    const isProduction = this.isProduction();\r\n    \r\n    return {\r\n      bkash: {\r\n        apiKey: this.config.BKASH_API_KEY,\r\n        apiSecret: this.config.BKASH_API_SECRET,\r\n        baseUrl: isProduction\r\n          ? 'https://checkout.pay.bka.sh/v1.2.0-beta'\r\n          : 'https://checkout.sandbox.bka.sh/v1.2.0-beta'\r\n      },\r\n      nagad: {\r\n        apiKey: this.config.NAGAD_API_KEY,\r\n        apiSecret: this.config.NAGAD_API_SECRET,\r\n        baseUrl: isProduction\r\n          ? 'https://api.nagad.com/v1'\r\n          : 'https://api.sandbox.nagad.com/v1'\r\n      },\r\n      rocket: {\r\n        apiKey: this.config.ROCKET_API_KEY,\r\n        apiSecret: this.config.ROCKET_API_SECRET,\r\n        baseUrl: isProduction\r\n          ? 'https://api.rocket.com/v1'\r\n          : 'https://api.sandbox.rocket.com/v1'\r\n      }\r\n    };\r\n  }\r\n\r\n  // Cache helpers\r\n  getCacheConfig() {\r\n    return {\r\n      redis: {\r\n        url: this.config.REDIS_URL,\r\n        ttl: parseInt(this.config.REDIS_TTL),\r\n        keyPrefix: 'smart_ecommerce:',\r\n        retryDelayOnFailover: 100,\r\n        maxRetriesPerRequest: 3\r\n      }\r\n    };\r\n  }\r\n\r\n  // Search helpers\r\n  getSearchConfig() {\r\n    return {\r\n      elasticsearch: {\r\n        url: this.config.ELASTICSEARCH_URL,\r\n        index: this.config.ELASTICSEARCH_INDEX,\r\n        maxResults: 100,\r\n        timeout: 5000\r\n      }\r\n    };\r\n  }\r\n\r\n  // Email helpers\r\n  getEmailConfig() {\r\n    return {\r\n      host: this.config.SMTP_HOST,\r\n      port: parseInt(this.config.SMTP_PORT),\r\n      secure: this.config.SMTP_PORT === '465',\r\n      auth: {\r\n        user: this.config.SMTP_USER,\r\n        pass: this.config.SMTP_PASS\r\n      },\r\n      from: this.config.SMTP_FROM,\r\n      templates: {\r\n        welcome: './emails/welcome.html',\r\n        orderConfirmation: './emails/order-confirmation.html',\r\n        passwordReset: './emails/password-reset.html'\r\n      }\r\n    };\r\n  }\r\n\r\n  // Rate limiting helpers\r\n  getRateLimitConfig() {\r\n    return {\r\n      windowMs: 15 * 60 * 1000, // 15 minutes\r\n      max: this.isProduction() ? 100 : 1000, // More lenient in development\r\n      message: 'Too many requests from this IP, please try again later.',\r\n      standardHeaders: true\r\n    };\r\n  }\r\n\r\n  // Security helpers\r\n  getSecurityConfig() {\r\n    return {\r\n      bcryptRounds: 12,\r\n      passwordMinLength: 8,\r\n      passwordMaxLength: 128,\r\n      sessionMaxAge: 24 * 60 * 60 * 1000, // 24 hours\r\n      cookieSecure: this.isProduction(),\r\n      helmet: {\r\n        contentSecurityPolicy: {\r\n          directives: {\r\n            defaultSrc: [\"'self'\"],\r\n            styleSrc: [\"'self'\", \"'unsafe-inline'\"],\r\n            scriptSrc: [\"'self'\"],\r\n            imgSrc: [\"'self'\", \"data:\", \"https:\"]\r\n          }\r\n        },\r\n        hsts: {\r\n          maxAge: 31536000, // 1 year\r\n          includeSubDomains: false\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  // Logging helpers\r\n  getLoggingConfig() {\r\n    return {\r\n      level: this.isProduction() ? 'info' : 'debug',\r\n      format: this.isProduction() ? 'json' : 'dev',\r\n      colorize: !this.isProduction(),\r\n      timestamp: true,\r\n      file: this.isProduction() ? './logs/app.log' : null,\r\n      console: !this.isProduction()\r\n    };\r\n  }\r\n\r\n  // API helpers\r\n  getAPIConfig() {\r\n    return {\r\n      version: '1.0.0',\r\n      prefix: '/api/v1',\r\n      rateLimit: this.getRateLimitConfig(),\r\n      pagination: {\r\n        defaultLimit: 20,\r\n        maxLimit: 100\r\n      },\r\n      timeout: 30000,\r\n      compression: true,\r\n      trustProxy: this.isProduction()\r\n    };\r\n  }\r\n}\r\n\r\n// Singleton instance\r\nconst configService = new ConfigService();\r\n\r\nmodule.exports = {\r\n  ConfigService,\r\n  configService\r\n};"],"mappings":"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","ignoreList":[]}