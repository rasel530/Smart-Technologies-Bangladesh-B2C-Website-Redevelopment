# ============================================
# SMART TECHNOLOGIES BANGLADESH - BACKEND ENVIRONMENT VARIABLES
# ============================================
# 
# This file contains all environment variables required for the backend application.
# Copy this file to .env and fill in the actual values.
# 
# IMPORTANT: Never commit .env file to version control!
# ============================================

# ============================================
# SERVER CONFIGURATION
# ============================================
NODE_ENV=development
PORT=3001
HOST=localhost

# Frontend URL for email verification links
FRONTEND_URL=http://localhost:3000

# ============================================
# DATABASE CONFIGURATION
# ============================================
# PostgreSQL Database Connection String
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql://smarttech:your_password@localhost:5432/smarttech_db

# Alternative database URL variable (alias for DATABASE_URL)
# Some systems may reference this variable instead of DATABASE_URL
POSTGRES_DATABASE_URL=postgresql://smarttech:your_password@localhost:5432/smarttech_db

# PostgreSQL SSL Configuration (set to 'true' for production)
POSTGRES_SSL=false

# ============================================
# REDIS CONFIGURATION
# ============================================
# Option 1: Use REDIS_URL (recommended for production)
# REDIS_URL=redis://:password@localhost:6379/0

# Option 2: Use separate Redis variables (recommended for development)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# Redis TTL (Time To Live) in seconds (default: 3600 = 1 hour)
REDIS_TTL=3600

# ============================================
# JWT CONFIGURATION
# ============================================
# Secret key for JWT token signing (MUST be at least 32 characters)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-at-least-32-characters-long

# JWT token expiration times
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# ============================================
# EMAIL CONFIGURATION (SMTP)
# ============================================
# SMTP Server Configuration
# Example for Gmail: smtp.gmail.com
# Example for SendGrid: smtp.sendgrid.net
# Example for AWS SES: email-smtp.us-east-1.amazonaws.com
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false

# SMTP Authentication
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-specific-password

# From email address
EMAIL_FROM=noreply@smarttechnologies.bd

# Email Verification Configuration
DISABLE_EMAIL_VERIFICATION=false

# ============================================
# SMS CONFIGURATION (TWILIO)
# ============================================
# Twilio Account SID (starts with AC)
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Twilio Auth Token
TWILIO_AUTH_TOKEN=your-twilio-auth-token

# Twilio Phone Number (E.164 format)
# Example for Bangladesh: +8801XXXXXXXXX
TWILIO_PHONE_NUMBER=+8801XXXXXXXXX

# SMS Configuration
SMS_SENDER=SmartTech
DISABLE_PHONE_VERIFICATION=false

# ============================================
# SECURITY CONFIGURATION
# ============================================
# Bcrypt rounds for password hashing (higher = more secure but slower)
BCRYPT_ROUNDS=12

# Password policy
PASSWORD_MIN_LENGTH=8

# Rate limiting configuration
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=900000

# Session configuration
SESSION_SECRET=your-session-secret-key-change-in-production
COOKIE_MAX_AGE=86400000

# ============================================
# CORS CONFIGURATION
# ============================================
# Allowed CORS origins (comma-separated)
CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# ============================================
# FILE UPLOAD CONFIGURATION
# ============================================
# Maximum file size in bytes (default: 5MB = 5242880)
MAX_FILE_SIZE=5242880

# Allowed file types (comma-separated)
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif

# Upload destination directory
UPLOAD_DEST=uploads/

# ============================================
# LOGGING CONFIGURATION
# ============================================
# Log level: error, warn, info, debug
LOG_LEVEL=info

# Log format: combined, common, dev, short, tiny
LOG_FORMAT=combined

# File logging
LOG_FILE_ENABLED=true
LOG_FILENAME=logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# ============================================
# TESTING CONFIGURATION
# ============================================
# Enable testing mode (bypasses email/SMS verification)
TESTING_MODE=false

# ============================================
# DOCKER CONFIGURATION
# ============================================
# Docker environment flag
IS_DOCKER=false

# ============================================
# ENVIRONMENT-SPECIFIC CONFIGURATIONS
# ============================================

# Development Environment
# NODE_ENV=development
# PORT=3001
# HOST=localhost
# DATABASE_URL=postgresql://smarttech:password@localhost:5432/smarttech_db
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# EMAIL_FROM=noreply@smarttechnologies.bd
# TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# TWILIO_AUTH_TOKEN=your-twilio-auth-token
# TWILIO_PHONE_NUMBER=+8801XXXXXXXXX

# Production Environment
# NODE_ENV=production
# PORT=3001
# HOST=0.0.0.0
# DATABASE_URL=postgresql://smarttech:strong-password@production-db:5432/smarttech_db
# REDIS_HOST=redis
# REDIS_PORT=6379
# REDIS_PASSWORD=strong-redis-password
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_SECURE=true
# SMTP_USER=apikey
# SMTP_PASS=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# EMAIL_FROM=noreply@smarttechnologies.bd
# TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# TWILIO_AUTH_TOKEN=your-production-twilio-auth-token
# TWILIO_PHONE_NUMBER=+8801XXXXXXXXX
# POSTGRES_SSL=true
# CORS_ORIGIN=https://smarttechnologies.bd

# Docker Environment
# NODE_ENV=docker
# IS_DOCKER=true
# DATABASE_URL=postgresql://smarttech:password@postgres:5432/smarttech_db
# REDIS_HOST=redis
# REDIS_PORT=6379
# REDIS_PASSWORD=
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# EMAIL_FROM=noreply@smarttechnologies.bd
# TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# TWILIO_AUTH_TOKEN=your-twilio-auth-token
# TWILIO_PHONE_NUMBER=+8801XXXXXXXXX

# ============================================
# NOTES AND GUIDELINES
# ============================================
# 
# 1. SMTP Configuration:
#    - For Gmail, use App Passwords: https://support.google.com/accounts/answer/185833
#    - For SendGrid, use API Key as SMTP_PASS
#    - For AWS SES, use SMTP credentials from AWS Console
# 
# 2. Twilio Configuration:
#    - Get credentials from: https://console.twilio.com
#    - Purchase Bangladesh phone number for SMS delivery
#    - Phone numbers must be in E.164 format: +8801XXXXXXXXX
# 
# 3. Security:
#    - Generate strong JWT_SECRET using crypto.randomBytes(32)
#    - Never use default secrets in production
#    - Rotate secrets periodically
#    - Use environment-specific secrets
# 
# 4. Database:
#    - Use connection pooling for production
#    - Enable SSL for production databases
#    - Use strong passwords
# 
# 5. Redis:
#    - Set appropriate TTL based on use case
#    - Use Redis password in production
#    - Configure persistence for production
# 
# 6. Testing:
#    - Set TESTING_MODE=true to bypass email/SMS verification
#    - Only use in development/staging environments
#    - Never use in production
# 
# ============================================
