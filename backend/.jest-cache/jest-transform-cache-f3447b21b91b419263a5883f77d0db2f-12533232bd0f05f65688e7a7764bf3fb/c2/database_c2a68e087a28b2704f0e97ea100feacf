62f05854cbbfad82610b2b65b636b2a0
/* istanbul ignore next */
function cov_2a79bg5wc3() {
  var path = "E:\\Drive_D_Backup\\Smart_Tech_B2C_Website_Redevelopment\\backend\\services\\database.js";
  var hash = "7e86e41c99e4e0e2a1c85571ebb742fdb8799c73";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "E:\\Drive_D_Backup\\Smart_Tech_B2C_Website_Redevelopment\\backend\\services\\database.js",
    statementMap: {
      "0": {
        start: {
          line: 1,
          column: 25
        },
        end: {
          line: 1,
          column: 50
        }
      },
      "1": {
        start: {
          line: 5,
          column: 4
        },
        end: {
          line: 20,
          column: 6
        }
      },
      "2": {
        start: {
          line: 22,
          column: 4
        },
        end: {
          line: 56,
          column: 7
        }
      },
      "3": {
        start: {
          line: 59,
          column: 4
        },
        end: {
          line: 59,
          column: 31
        }
      },
      "4": {
        start: {
          line: 63,
          column: 22
        },
        end: {
          line: 63,
          column: 32
        }
      },
      "5": {
        start: {
          line: 64,
          column: 23
        },
        end: {
          line: 64,
          column: 24
        }
      },
      "6": {
        start: {
          line: 65,
          column: 23
        },
        end: {
          line: 65,
          column: 27
        }
      },
      "7": {
        start: {
          line: 67,
          column: 4
        },
        end: {
          line: 101,
          column: 5
        }
      },
      "8": {
        start: {
          line: 67,
          column: 23
        },
        end: {
          line: 67,
          column: 24
        }
      },
      "9": {
        start: {
          line: 68,
          column: 6
        },
        end: {
          line: 100,
          column: 7
        }
      },
      "10": {
        start: {
          line: 69,
          column: 8
        },
        end: {
          line: 69,
          column: 37
        }
      },
      "11": {
        start: {
          line: 70,
          column: 31
        },
        end: {
          line: 70,
          column: 53
        }
      },
      "12": {
        start: {
          line: 71,
          column: 8
        },
        end: {
          line: 71,
          column: 99
        }
      },
      "13": {
        start: {
          line: 74,
          column: 26
        },
        end: {
          line: 74,
          column: 55
        }
      },
      "14": {
        start: {
          line: 75,
          column: 8
        },
        end: {
          line: 75,
          column: 69
        }
      },
      "15": {
        start: {
          line: 77,
          column: 8
        },
        end: {
          line: 77,
          column: 20
        }
      },
      "16": {
        start: {
          line: 79,
          column: 8
        },
        end: {
          line: 85,
          column: 11
        }
      },
      "17": {
        start: {
          line: 87,
          column: 8
        },
        end: {
          line: 99,
          column: 9
        }
      },
      "18": {
        start: {
          line: 88,
          column: 10
        },
        end: {
          line: 88,
          column: 79
        }
      },
      "19": {
        start: {
          line: 89,
          column: 10
        },
        end: {
          line: 89,
          column: 72
        }
      },
      "20": {
        start: {
          line: 89,
          column: 39
        },
        end: {
          line: 89,
          column: 70
        }
      },
      "21": {
        start: {
          line: 92,
          column: 10
        },
        end: {
          line: 97,
          column: 13
        }
      },
      "22": {
        start: {
          line: 98,
          column: 10
        },
        end: {
          line: 98,
          column: 22
        }
      },
      "23": {
        start: {
          line: 105,
          column: 4
        },
        end: {
          line: 111,
          column: 5
        }
      },
      "24": {
        start: {
          line: 106,
          column: 6
        },
        end: {
          line: 106,
          column: 38
        }
      },
      "25": {
        start: {
          line: 107,
          column: 6
        },
        end: {
          line: 107,
          column: 58
        }
      },
      "26": {
        start: {
          line: 109,
          column: 6
        },
        end: {
          line: 109,
          column: 63
        }
      },
      "27": {
        start: {
          line: 110,
          column: 6
        },
        end: {
          line: 110,
          column: 18
        }
      },
      "28": {
        start: {
          line: 115,
          column: 22
        },
        end: {
          line: 115,
          column: 32
        }
      },
      "29": {
        start: {
          line: 116,
          column: 4
        },
        end: {
          line: 139,
          column: 5
        }
      },
      "30": {
        start: {
          line: 118,
          column: 21
        },
        end: {
          line: 118,
          column: 90
        }
      },
      "31": {
        start: {
          line: 119,
          column: 27
        },
        end: {
          line: 119,
          column: 49
        }
      },
      "32": {
        start: {
          line: 120,
          column: 24
        },
        end: {
          line: 120,
          column: 53
        }
      },
      "33": {
        start: {
          line: 122,
          column: 6
        },
        end: {
          line: 128,
          column: 8
        }
      },
      "34": {
        start: {
          line: 130,
          column: 27
        },
        end: {
          line: 130,
          column: 49
        }
      },
      "35": {
        start: {
          line: 131,
          column: 6
        },
        end: {
          line: 138,
          column: 8
        }
      },
      "36": {
        start: {
          line: 143,
          column: 4
        },
        end: {
          line: 175,
          column: 5
        }
      },
      "37": {
        start: {
          line: 152,
          column: 10
        },
        end: {
          line: 160,
          column: 8
        }
      },
      "38": {
        start: {
          line: 162,
          column: 6
        },
        end: {
          line: 171,
          column: 8
        }
      },
      "39": {
        start: {
          line: 173,
          column: 6
        },
        end: {
          line: 173,
          column: 60
        }
      },
      "40": {
        start: {
          line: 174,
          column: 6
        },
        end: {
          line: 174,
          column: 18
        }
      },
      "41": {
        start: {
          line: 180,
          column: 4
        },
        end: {
          line: 180,
          column: 52
        }
      },
      "42": {
        start: {
          line: 185,
          column: 4
        },
        end: {
          line: 185,
          column: 23
        }
      },
      "43": {
        start: {
          line: 190,
          column: 4
        },
        end: {
          line: 195,
          column: 5
        }
      },
      "44": {
        start: {
          line: 191,
          column: 6
        },
        end: {
          line: 191,
          column: 49
        }
      },
      "45": {
        start: {
          line: 193,
          column: 6
        },
        end: {
          line: 193,
          column: 47
        }
      },
      "46": {
        start: {
          line: 194,
          column: 6
        },
        end: {
          line: 194,
          column: 18
        }
      },
      "47": {
        start: {
          line: 200,
          column: 4
        },
        end: {
          line: 210,
          column: 5
        }
      },
      "48": {
        start: {
          line: 201,
          column: 24
        },
        end: {
          line: 205,
          column: 7
        }
      },
      "49": {
        start: {
          line: 206,
          column: 6
        },
        end: {
          line: 206,
          column: 48
        }
      },
      "50": {
        start: {
          line: 206,
          column: 34
        },
        end: {
          line: 206,
          column: 46
        }
      },
      "51": {
        start: {
          line: 208,
          column: 6
        },
        end: {
          line: 208,
          column: 55
        }
      },
      "52": {
        start: {
          line: 209,
          column: 6
        },
        end: {
          line: 209,
          column: 18
        }
      },
      "53": {
        start: {
          line: 214,
          column: 4
        },
        end: {
          line: 224,
          column: 5
        }
      },
      "54": {
        start: {
          line: 215,
          column: 29
        },
        end: {
          line: 219,
          column: 7
        }
      },
      "55": {
        start: {
          line: 220,
          column: 6
        },
        end: {
          line: 220,
          column: 58
        }
      },
      "56": {
        start: {
          line: 220,
          column: 39
        },
        end: {
          line: 220,
          column: 56
        }
      },
      "57": {
        start: {
          line: 222,
          column: 6
        },
        end: {
          line: 222,
          column: 61
        }
      },
      "58": {
        start: {
          line: 223,
          column: 6
        },
        end: {
          line: 223,
          column: 18
        }
      },
      "59": {
        start: {
          line: 228,
          column: 4
        },
        end: {
          line: 251,
          column: 5
        }
      },
      "60": {
        start: {
          line: 229,
          column: 30
        },
        end: {
          line: 231,
          column: 11
        }
      },
      "61": {
        start: {
          line: 233,
          column: 6
        },
        end: {
          line: 247,
          column: 8
        }
      },
      "62": {
        start: {
          line: 249,
          column: 6
        },
        end: {
          line: 249,
          column: 69
        }
      },
      "63": {
        start: {
          line: 250,
          column: 6
        },
        end: {
          line: 250,
          column: 18
        }
      },
      "64": {
        start: {
          line: 256,
          column: 4
        },
        end: {
          line: 305,
          column: 5
        }
      },
      "65": {
        start: {
          line: 258,
          column: 6
        },
        end: {
          line: 266,
          column: 9
        }
      },
      "66": {
        start: {
          line: 259,
          column: 8
        },
        end: {
          line: 259,
          column: 41
        }
      },
      "67": {
        start: {
          line: 260,
          column: 8
        },
        end: {
          line: 265,
          column: 11
        }
      },
      "68": {
        start: {
          line: 269,
          column: 6
        },
        end: {
          line: 276,
          column: 9
        }
      },
      "69": {
        start: {
          line: 270,
          column: 8
        },
        end: {
          line: 270,
          column: 41
        }
      },
      "70": {
        start: {
          line: 271,
          column: 8
        },
        end: {
          line: 275,
          column: 11
        }
      },
      "71": {
        start: {
          line: 279,
          column: 6
        },
        end: {
          line: 285,
          column: 9
        }
      },
      "72": {
        start: {
          line: 280,
          column: 8
        },
        end: {
          line: 284,
          column: 11
        }
      },
      "73": {
        start: {
          line: 288,
          column: 6
        },
        end: {
          line: 294,
          column: 9
        }
      },
      "74": {
        start: {
          line: 289,
          column: 8
        },
        end: {
          line: 293,
          column: 11
        }
      },
      "75": {
        start: {
          line: 297,
          column: 6
        },
        end: {
          line: 300,
          column: 9
        }
      },
      "76": {
        start: {
          line: 298,
          column: 8
        },
        end: {
          line: 298,
          column: 79
        }
      },
      "77": {
        start: {
          line: 299,
          column: 8
        },
        end: {
          line: 299,
          column: 40
        }
      },
      "78": {
        start: {
          line: 302,
          column: 6
        },
        end: {
          line: 302,
          column: 64
        }
      },
      "79": {
        start: {
          line: 304,
          column: 6
        },
        end: {
          line: 304,
          column: 65
        }
      },
      "80": {
        start: {
          line: 310,
          column: 4
        },
        end: {
          line: 325,
          column: 5
        }
      },
      "81": {
        start: {
          line: 311,
          column: 6
        },
        end: {
          line: 311,
          column: 55
        }
      },
      "82": {
        start: {
          line: 314,
          column: 6
        },
        end: {
          line: 314,
          column: 48
        }
      },
      "83": {
        start: {
          line: 315,
          column: 6
        },
        end: {
          line: 315,
          column: 46
        }
      },
      "84": {
        start: {
          line: 316,
          column: 6
        },
        end: {
          line: 316,
          column: 47
        }
      },
      "85": {
        start: {
          line: 319,
          column: 6
        },
        end: {
          line: 319,
          column: 38
        }
      },
      "86": {
        start: {
          line: 321,
          column: 6
        },
        end: {
          line: 321,
          column: 68
        }
      },
      "87": {
        start: {
          line: 323,
          column: 6
        },
        end: {
          line: 323,
          column: 63
        }
      },
      "88": {
        start: {
          line: 324,
          column: 6
        },
        end: {
          line: 324,
          column: 18
        }
      },
      "89": {
        start: {
          line: 330,
          column: 24
        },
        end: {
          line: 330,
          column: 45
        }
      },
      "90": {
        start: {
          line: 332,
          column: 0
        },
        end: {
          line: 335,
          column: 2
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 4,
            column: 2
          },
          end: {
            line: 4,
            column: 3
          }
        },
        loc: {
          start: {
            line: 4,
            column: 16
          },
          end: {
            line: 60,
            column: 3
          }
        },
        line: 4
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 62,
            column: 2
          },
          end: {
            line: 62,
            column: 3
          }
        },
        loc: {
          start: {
            line: 62,
            column: 18
          },
          end: {
            line: 102,
            column: 3
          }
        },
        line: 62
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 89,
            column: 28
          },
          end: {
            line: 89,
            column: 29
          }
        },
        loc: {
          start: {
            line: 89,
            column: 39
          },
          end: {
            line: 89,
            column: 70
          }
        },
        line: 89
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 104,
            column: 2
          },
          end: {
            line: 104,
            column: 3
          }
        },
        loc: {
          start: {
            line: 104,
            column: 21
          },
          end: {
            line: 112,
            column: 3
          }
        },
        line: 104
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 114,
            column: 2
          },
          end: {
            line: 114,
            column: 3
          }
        },
        loc: {
          start: {
            line: 114,
            column: 22
          },
          end: {
            line: 140,
            column: 3
          }
        },
        line: 114
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 142,
            column: 2
          },
          end: {
            line: 142,
            column: 3
          }
        },
        loc: {
          start: {
            line: 142,
            column: 19
          },
          end: {
            line: 176,
            column: 3
          }
        },
        line: 142
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 179,
            column: 2
          },
          end: {
            line: 179,
            column: 3
          }
        },
        loc: {
          start: {
            line: 179,
            column: 30
          },
          end: {
            line: 181,
            column: 3
          }
        },
        line: 179
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 184,
            column: 2
          },
          end: {
            line: 184,
            column: 3
          }
        },
        loc: {
          start: {
            line: 184,
            column: 14
          },
          end: {
            line: 186,
            column: 3
          }
        },
        line: 184
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 189,
            column: 2
          },
          end: {
            line: 189,
            column: 3
          }
        },
        loc: {
          start: {
            line: 189,
            column: 32
          },
          end: {
            line: 196,
            column: 3
          }
        },
        line: 189
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 199,
            column: 2
          },
          end: {
            line: 199,
            column: 3
          }
        },
        loc: {
          start: {
            line: 199,
            column: 23
          },
          end: {
            line: 211,
            column: 3
          }
        },
        line: 199
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 206,
            column: 27
          },
          end: {
            line: 206,
            column: 28
          }
        },
        loc: {
          start: {
            line: 206,
            column: 34
          },
          end: {
            line: 206,
            column: 46
          }
        },
        line: 206
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 213,
            column: 2
          },
          end: {
            line: 213,
            column: 3
          }
        },
        loc: {
          start: {
            line: 213,
            column: 28
          },
          end: {
            line: 225,
            column: 3
          }
        },
        line: 213
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 220,
            column: 32
          },
          end: {
            line: 220,
            column: 33
          }
        },
        loc: {
          start: {
            line: 220,
            column: 39
          },
          end: {
            line: 220,
            column: 56
          }
        },
        line: 220
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 227,
            column: 2
          },
          end: {
            line: 227,
            column: 3
          }
        },
        loc: {
          start: {
            line: 227,
            column: 27
          },
          end: {
            line: 252,
            column: 3
          }
        },
        line: 227
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 255,
            column: 2
          },
          end: {
            line: 255,
            column: 3
          }
        },
        loc: {
          start: {
            line: 255,
            column: 24
          },
          end: {
            line: 306,
            column: 3
          }
        },
        line: 255
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 258,
            column: 31
          },
          end: {
            line: 258,
            column: 32
          }
        },
        loc: {
          start: {
            line: 258,
            column: 42
          },
          end: {
            line: 266,
            column: 7
          }
        },
        line: 258
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 269,
            column: 31
          },
          end: {
            line: 269,
            column: 32
          }
        },
        loc: {
          start: {
            line: 269,
            column: 42
          },
          end: {
            line: 276,
            column: 7
          }
        },
        line: 269
      },
      "17": {
        name: "(anonymous_17)",
        decl: {
          start: {
            line: 279,
            column: 30
          },
          end: {
            line: 279,
            column: 31
          }
        },
        loc: {
          start: {
            line: 279,
            column: 41
          },
          end: {
            line: 285,
            column: 7
          }
        },
        line: 279
      },
      "18": {
        name: "(anonymous_18)",
        decl: {
          start: {
            line: 288,
            column: 30
          },
          end: {
            line: 288,
            column: 31
          }
        },
        loc: {
          start: {
            line: 288,
            column: 41
          },
          end: {
            line: 294,
            column: 7
          }
        },
        line: 288
      },
      "19": {
        name: "(anonymous_19)",
        decl: {
          start: {
            line: 297,
            column: 31
          },
          end: {
            line: 297,
            column: 32
          }
        },
        loc: {
          start: {
            line: 297,
            column: 43
          },
          end: {
            line: 300,
            column: 7
          }
        },
        line: 297
      },
      "20": {
        name: "(anonymous_20)",
        decl: {
          start: {
            line: 309,
            column: 2
          },
          end: {
            line: 309,
            column: 3
          }
        },
        loc: {
          start: {
            line: 309,
            column: 29
          },
          end: {
            line: 326,
            column: 3
          }
        },
        line: 309
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 87,
            column: 8
          },
          end: {
            line: 99,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 87,
            column: 8
          },
          end: {
            line: 99,
            column: 9
          }
        }, {
          start: {
            line: 90,
            column: 15
          },
          end: {
            line: 99,
            column: 9
          }
        }],
        line: 87
      },
      "1": {
        loc: {
          start: {
            line: 95,
            column: 25
          },
          end: {
            line: 95,
            column: 77
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 95,
            column: 53
          },
          end: {
            line: 95,
            column: 65
          }
        }, {
          start: {
            line: 95,
            column: 68
          },
          end: {
            line: 95,
            column: 77
          }
        }],
        line: 95
      },
      "2": {
        loc: {
          start: {
            line: 96,
            column: 25
          },
          end: {
            line: 96,
            column: 58
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 96,
            column: 25
          },
          end: {
            line: 96,
            column: 45
          }
        }, {
          start: {
            line: 96,
            column: 49
          },
          end: {
            line: 96,
            column: 58
          }
        }],
        line: 96
      },
      "3": {
        loc: {
          start: {
            line: 189,
            column: 19
          },
          end: {
            line: 189,
            column: 30
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 189,
            column: 28
          },
          end: {
            line: 189,
            column: 30
          }
        }],
        line: 189
      },
      "4": {
        loc: {
          start: {
            line: 229,
            column: 30
          },
          end: {
            line: 231,
            column: 11
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 230,
            column: 10
          },
          end: {
            line: 230,
            column: 103
          }
        }, {
          start: {
            line: 231,
            column: 10
          },
          end: {
            line: 231,
            column: 11
          }
        }],
        line: 229
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0],
      "4": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "7e86e41c99e4e0e2a1c85571ebb742fdb8799c73"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2a79bg5wc3 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2a79bg5wc3();
const {
  PrismaClient
} =
/* istanbul ignore next */
(cov_2a79bg5wc3().s[0]++, require('@prisma/client'));
class DatabaseService {
  constructor() {
    /* istanbul ignore next */
    cov_2a79bg5wc3().f[0]++;
    cov_2a79bg5wc3().s[1]++;
    this.connectionPool = {
      activeConnections: 0,
      idleConnections: 0,
      totalConnections: 0,
      maxConnections: 10,
      connectionTimeout: 30000,
      idleTimeout: 10000,
      acquireTimeoutMillis: 30000,
      createTimeoutMillis: 30000,
      destroyTimeoutMillis: 5000,
      reapIntervalMillis: 1000,
      createRetryIntervalMillis: 200,
      connectionStartTime: null,
      queryCount: 0,
      errorCount: 0
    };
    /* istanbul ignore next */
    cov_2a79bg5wc3().s[2]++;
    this.prisma = new PrismaClient({
      log: [{
        emit: 'event',
        level: 'query'
      }, {
        emit: 'event',
        level: 'error'
      }, {
        emit: 'event',
        level: 'info'
      }, {
        emit: 'event',
        level: 'warn'
      }],
      // Enhanced connection configuration
      datasources: {
        db: {
          url: process.env.POSTGRES_DATABASE_URL
        }
      },
      // Connection pool settings
      __internal: {
        engine: {
          connectionLimit: this.connectionPool.maxConnections,
          poolTimeout: this.connectionPool.acquireTimeoutMillis,
          idleTimeout: this.connectionPool.idleTimeout,
          connectionTimeout: this.connectionPool.connectionTimeout
        }
      }
    });

    // Set up event listeners for connection monitoring
    /* istanbul ignore next */
    cov_2a79bg5wc3().s[3]++;
    this.setupEventListeners();
  }
  async connect() {
    /* istanbul ignore next */
    cov_2a79bg5wc3().f[1]++;
    const startTime =
    /* istanbul ignore next */
    (cov_2a79bg5wc3().s[4]++, Date.now());
    const maxRetries =
    /* istanbul ignore next */
    (cov_2a79bg5wc3().s[5]++, 3);
    const retryDelay =
    /* istanbul ignore next */
    (cov_2a79bg5wc3().s[6]++, 1000); // 1 second
    /* istanbul ignore next */
    cov_2a79bg5wc3().s[7]++;
    for (let attempt =
    /* istanbul ignore next */
    (cov_2a79bg5wc3().s[8]++, 1); attempt <= maxRetries; attempt++) {
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[9]++;
      try {
        /* istanbul ignore next */
        cov_2a79bg5wc3().s[10]++;
        await this.prisma.$connect();
        const connectionTime =
        /* istanbul ignore next */
        (cov_2a79bg5wc3().s[11]++, Date.now() - startTime);
        /* istanbul ignore next */
        cov_2a79bg5wc3().s[12]++;
        console.log(`‚úÖ Database connected successfully (attempt ${attempt}, ${connectionTime}ms)`);

        // Log connection pool status
        const poolStats =
        /* istanbul ignore next */
        (cov_2a79bg5wc3().s[13]++, this.getConnectionPoolStats());
        /* istanbul ignore next */
        cov_2a79bg5wc3().s[14]++;
        console.log('üîç Database connection pool stats:', poolStats);
        /* istanbul ignore next */
        cov_2a79bg5wc3().s[15]++;
        return true;
      } catch (error) {
        /* istanbul ignore next */
        cov_2a79bg5wc3().s[16]++;
        console.error(`‚ùå Database connection attempt ${attempt} failed:`, {
          error: error.message,
          code: error.code,
          attempt,
          maxRetries,
          timestamp: new Date().toISOString()
        });
        /* istanbul ignore next */
        cov_2a79bg5wc3().s[17]++;
        if (attempt < maxRetries) {
          /* istanbul ignore next */
          cov_2a79bg5wc3().b[0][0]++;
          cov_2a79bg5wc3().s[18]++;
          console.log(`üîÑ Retrying database connection in ${retryDelay}ms...`);
          /* istanbul ignore next */
          cov_2a79bg5wc3().s[19]++;
          await new Promise(resolve => {
            /* istanbul ignore next */
            cov_2a79bg5wc3().f[2]++;
            cov_2a79bg5wc3().s[20]++;
            return setTimeout(resolve, retryDelay);
          });
        } else {
          /* istanbul ignore next */
          cov_2a79bg5wc3().b[0][1]++;
          cov_2a79bg5wc3().s[21]++;
          // Log final failure with diagnostic info
          console.error('üí• All database connection attempts failed:', {
            totalAttempts: maxRetries,
            totalDuration: Date.now() - startTime,
            databaseUrl: this.config?.DATABASE_URL ?
            /* istanbul ignore next */
            (cov_2a79bg5wc3().b[1][0]++, 'CONFIGURED') :
            /* istanbul ignore next */
            (cov_2a79bg5wc3().b[1][1]++, 'MISSING'),
            environment:
            /* istanbul ignore next */
            (cov_2a79bg5wc3().b[2][0]++, process.env.NODE_ENV) ||
            /* istanbul ignore next */
            (cov_2a79bg5wc3().b[2][1]++, 'unknown')
          });
          /* istanbul ignore next */
          cov_2a79bg5wc3().s[22]++;
          throw error;
        }
      }
    }
  }
  async disconnect() {
    /* istanbul ignore next */
    cov_2a79bg5wc3().f[3]++;
    cov_2a79bg5wc3().s[23]++;
    try {
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[24]++;
      await this.prisma.$disconnect();
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[25]++;
      console.log('‚úÖ Database disconnected successfully');
    } catch (error) {
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[26]++;
      console.error('‚ùå Database disconnection failed:', error);
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[27]++;
      throw error;
    }
  }
  async healthCheck() {
    /* istanbul ignore next */
    cov_2a79bg5wc3().f[4]++;
    const startTime =
    /* istanbul ignore next */
    (cov_2a79bg5wc3().s[28]++, Date.now());
    /* istanbul ignore next */
    cov_2a79bg5wc3().s[29]++;
    try {
      // Enhanced query with NOW() for better timing measurement
      const result =
      /* istanbul ignore next */
      (cov_2a79bg5wc3().s[30]++, await this.prisma.$queryRaw`SELECT 1 as status, NOW() as server_time`);
      const responseTime =
      /* istanbul ignore next */
      (cov_2a79bg5wc3().s[31]++, Date.now() - startTime);
      const poolStats =
      /* istanbul ignore next */
      (cov_2a79bg5wc3().s[32]++, this.getConnectionPoolStats());
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[33]++;
      return {
        status: 'healthy',
        database: 'connected',
        responseTime: `${responseTime}ms`,
        connectionPool: poolStats,
        timestamp: new Date().toISOString()
      };
    } catch (error) {
      const responseTime =
      /* istanbul ignore next */
      (cov_2a79bg5wc3().s[34]++, Date.now() - startTime);
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[35]++;
      return {
        status: 'unhealthy',
        database: 'disconnected',
        responseTime: `${responseTime}ms`,
        error: error.message,
        connectionPool: this.getConnectionPoolStats(),
        timestamp: new Date().toISOString()
      };
    }
  }
  async getStats() {
    /* istanbul ignore next */
    cov_2a79bg5wc3().f[5]++;
    cov_2a79bg5wc3().s[36]++;
    try {
      const [userCount, productCount, categoryCount, brandCount, orderCount, reviewCount, couponCount] =
      /* istanbul ignore next */
      (cov_2a79bg5wc3().s[37]++, await Promise.all([this.prisma.user.count(), this.prisma.product.count(), this.prisma.category.count(), this.prisma.brand.count(), this.prisma.order.count(), this.prisma.review.count(), this.prisma.coupon.count()]));
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[38]++;
      return {
        users: userCount,
        products: productCount,
        categories: categoryCount,
        brands: brandCount,
        orders: orderCount,
        reviews: reviewCount,
        coupons: couponCount,
        timestamp: new Date().toISOString()
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[39]++;
      console.error('Error getting database stats:', error);
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[40]++;
      throw error;
    }
  }

  // Transaction helper
  async transaction(callback) {
    /* istanbul ignore next */
    cov_2a79bg5wc3().f[6]++;
    cov_2a79bg5wc3().s[41]++;
    return await this.prisma.$transaction(callback);
  }

  // Get client instance
  getClient() {
    /* istanbul ignore next */
    cov_2a79bg5wc3().f[7]++;
    cov_2a79bg5wc3().s[42]++;
    return this.prisma;
  }

  // Raw query helper
  async query(sql, params =
  /* istanbul ignore next */
  (cov_2a79bg5wc3().b[3][0]++, [])) {
    /* istanbul ignore next */
    cov_2a79bg5wc3().f[8]++;
    cov_2a79bg5wc3().s[43]++;
    try {
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[44]++;
      return await this.prisma.$queryRaw`${sql}`;
    } catch (error) {
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[45]++;
      console.error('Raw query error:', error);
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[46]++;
      throw error;
    }
  }

  // Bangladesh-specific helpers
  async getDivisions() {
    /* istanbul ignore next */
    cov_2a79bg5wc3().f[9]++;
    cov_2a79bg5wc3().s[47]++;
    try {
      const divisions =
      /* istanbul ignore next */
      (cov_2a79bg5wc3().s[48]++, await this.prisma.$queryRaw`
        SELECT DISTINCT division FROM addresses 
        WHERE division IS NOT NULL 
        ORDER BY division
      `);
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[49]++;
      return divisions.map(row => {
        /* istanbul ignore next */
        cov_2a79bg5wc3().f[10]++;
        cov_2a79bg5wc3().s[50]++;
        return row.division;
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[51]++;
      console.error('Error getting divisions:', error);
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[52]++;
      throw error;
    }
  }
  async getPaymentMethods() {
    /* istanbul ignore next */
    cov_2a79bg5wc3().f[11]++;
    cov_2a79bg5wc3().s[53]++;
    try {
      const paymentMethods =
      /* istanbul ignore next */
      (cov_2a79bg5wc3().s[54]++, await this.prisma.$queryRaw`
        SELECT DISTINCT paymentMethod FROM orders 
        WHERE paymentMethod IS NOT NULL 
        ORDER BY paymentMethod
      `);
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[55]++;
      return paymentMethods.map(row => {
        /* istanbul ignore next */
        cov_2a79bg5wc3().f[12]++;
        cov_2a79bg5wc3().s[56]++;
        return row.paymentMethod;
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[57]++;
      console.error('Error getting payment methods:', error);
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[58]++;
      throw error;
    }
  }
  // Get connection pool statistics for diagnostics
  getConnectionPoolStats() {
    /* istanbul ignore next */
    cov_2a79bg5wc3().f[13]++;
    cov_2a79bg5wc3().s[59]++;
    try {
      const utilizationRate =
      /* istanbul ignore next */
      (cov_2a79bg5wc3().s[60]++, this.connectionPool.maxConnections > 0 ?
      /* istanbul ignore next */
      (cov_2a79bg5wc3().b[4][0]++, (this.connectionPool.activeConnections / this.connectionPool.maxConnections * 100).toFixed(2)) :
      /* istanbul ignore next */
      (cov_2a79bg5wc3().b[4][1]++, 0));
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[61]++;
      return {
        activeConnections: this.connectionPool.activeConnections,
        idleConnections: this.connectionPool.idleConnections,
        totalConnections: this.connectionPool.totalConnections,
        maxConnections: this.connectionPool.maxConnections,
        utilizationRate: `${utilizationRate}%`,
        timeouts: {
          connection: this.connectionPool.connectionTimeout,
          idle: this.connectionPool.idleTimeout,
          acquire: this.connectionPool.acquireTimeoutMillis
        },
        queryCount: this.connectionPool.queryCount,
        errorCount: this.connectionPool.errorCount,
        timestamp: new Date().toISOString()
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[62]++;
      console.error('‚ùå Failed to get connection pool stats:', error);
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[63]++;
      return null;
    }
  }

  // Setup event listeners for Prisma events
  setupEventListeners() {
    /* istanbul ignore next */
    cov_2a79bg5wc3().f[14]++;
    cov_2a79bg5wc3().s[64]++;
    try {
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[65]++;
      // Monitor query events
      this.prisma.$on('query', event => {
        /* istanbul ignore next */
        cov_2a79bg5wc3().f[15]++;
        cov_2a79bg5wc3().s[66]++;
        this.connectionPool.queryCount++;
        /* istanbul ignore next */
        cov_2a79bg5wc3().s[67]++;
        console.log('üîç Query:', {
          query: event.query,
          params: event.params,
          duration: `${event.duration}ms`,
          timestamp: event.timestamp
        });
      });

      // Monitor error events
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[68]++;
      this.prisma.$on('error', event => {
        /* istanbul ignore next */
        cov_2a79bg5wc3().f[16]++;
        cov_2a79bg5wc3().s[69]++;
        this.connectionPool.errorCount++;
        /* istanbul ignore next */
        cov_2a79bg5wc3().s[70]++;
        console.error('‚ùå Database Error:', {
          target: event.target,
          message: event.message,
          timestamp: event.timestamp
        });
      });

      // Monitor info events
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[71]++;
      this.prisma.$on('info', event => {
        /* istanbul ignore next */
        cov_2a79bg5wc3().f[17]++;
        cov_2a79bg5wc3().s[72]++;
        console.log('‚ÑπÔ∏è Database Info:', {
          target: event.target,
          message: event.message,
          timestamp: event.timestamp
        });
      });

      // Monitor warning events
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[73]++;
      this.prisma.$on('warn', event => {
        /* istanbul ignore next */
        cov_2a79bg5wc3().f[18]++;
        cov_2a79bg5wc3().s[74]++;
        console.warn('‚ö†Ô∏è Database Warning:', {
          target: event.target,
          message: event.message,
          timestamp: event.timestamp
        });
      });

      // Handle process exit for graceful cleanup
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[75]++;
      process.on('beforeExit', async () => {
        /* istanbul ignore next */
        cov_2a79bg5wc3().f[19]++;
        cov_2a79bg5wc3().s[76]++;
        console.log('üîÑ Process exiting, cleaning up database connections...');
        /* istanbul ignore next */
        cov_2a79bg5wc3().s[77]++;
        await this.cleanupConnections();
      });
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[78]++;
      console.log('‚úÖ Database event listeners setup completed');
    } catch (error) {
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[79]++;
      console.error('‚ùå Failed to setup event listeners:', error);
    }
  }

  // Cleanup connections gracefully
  async cleanupConnections() {
    /* istanbul ignore next */
    cov_2a79bg5wc3().f[20]++;
    cov_2a79bg5wc3().s[80]++;
    try {
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[81]++;
      console.log('üßπ Starting connection cleanup...');

      // Reset connection tracking
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[82]++;
      this.connectionPool.activeConnections = 0;
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[83]++;
      this.connectionPool.idleConnections = 0;
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[84]++;
      this.connectionPool.totalConnections = 0;

      // Disconnect from database
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[85]++;
      await this.prisma.$disconnect();
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[86]++;
      console.log('‚úÖ Database connections cleaned up successfully');
    } catch (error) {
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[87]++;
      console.error('‚ùå Failed to cleanup connections:', error);
      /* istanbul ignore next */
      cov_2a79bg5wc3().s[88]++;
      throw error;
    }
  }
}

// Singleton instance
const databaseService =
/* istanbul ignore next */
(cov_2a79bg5wc3().s[89]++, new DatabaseService());
/* istanbul ignore next */
cov_2a79bg5wc3().s[90]++;
module.exports = {
  DatabaseService,
  databaseService
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMmE3OWJnNXdjMyIsImFjdHVhbENvdmVyYWdlIiwiUHJpc21hQ2xpZW50IiwicyIsInJlcXVpcmUiLCJEYXRhYmFzZVNlcnZpY2UiLCJjb25zdHJ1Y3RvciIsImYiLCJjb25uZWN0aW9uUG9vbCIsImFjdGl2ZUNvbm5lY3Rpb25zIiwiaWRsZUNvbm5lY3Rpb25zIiwidG90YWxDb25uZWN0aW9ucyIsIm1heENvbm5lY3Rpb25zIiwiY29ubmVjdGlvblRpbWVvdXQiLCJpZGxlVGltZW91dCIsImFjcXVpcmVUaW1lb3V0TWlsbGlzIiwiY3JlYXRlVGltZW91dE1pbGxpcyIsImRlc3Ryb3lUaW1lb3V0TWlsbGlzIiwicmVhcEludGVydmFsTWlsbGlzIiwiY3JlYXRlUmV0cnlJbnRlcnZhbE1pbGxpcyIsImNvbm5lY3Rpb25TdGFydFRpbWUiLCJxdWVyeUNvdW50IiwiZXJyb3JDb3VudCIsInByaXNtYSIsImxvZyIsImVtaXQiLCJsZXZlbCIsImRhdGFzb3VyY2VzIiwiZGIiLCJ1cmwiLCJwcm9jZXNzIiwiZW52IiwiUE9TVEdSRVNfREFUQUJBU0VfVVJMIiwiX19pbnRlcm5hbCIsImVuZ2luZSIsImNvbm5lY3Rpb25MaW1pdCIsInBvb2xUaW1lb3V0Iiwic2V0dXBFdmVudExpc3RlbmVycyIsImNvbm5lY3QiLCJzdGFydFRpbWUiLCJEYXRlIiwibm93IiwibWF4UmV0cmllcyIsInJldHJ5RGVsYXkiLCJhdHRlbXB0IiwiJGNvbm5lY3QiLCJjb25uZWN0aW9uVGltZSIsImNvbnNvbGUiLCJwb29sU3RhdHMiLCJnZXRDb25uZWN0aW9uUG9vbFN0YXRzIiwiZXJyb3IiLCJtZXNzYWdlIiwiY29kZSIsInRpbWVzdGFtcCIsInRvSVNPU3RyaW5nIiwiYiIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsInRvdGFsQXR0ZW1wdHMiLCJ0b3RhbER1cmF0aW9uIiwiZGF0YWJhc2VVcmwiLCJjb25maWciLCJEQVRBQkFTRV9VUkwiLCJlbnZpcm9ubWVudCIsIk5PREVfRU5WIiwiZGlzY29ubmVjdCIsIiRkaXNjb25uZWN0IiwiaGVhbHRoQ2hlY2siLCJyZXN1bHQiLCIkcXVlcnlSYXciLCJyZXNwb25zZVRpbWUiLCJzdGF0dXMiLCJkYXRhYmFzZSIsImdldFN0YXRzIiwidXNlckNvdW50IiwicHJvZHVjdENvdW50IiwiY2F0ZWdvcnlDb3VudCIsImJyYW5kQ291bnQiLCJvcmRlckNvdW50IiwicmV2aWV3Q291bnQiLCJjb3Vwb25Db3VudCIsImFsbCIsInVzZXIiLCJjb3VudCIsInByb2R1Y3QiLCJjYXRlZ29yeSIsImJyYW5kIiwib3JkZXIiLCJyZXZpZXciLCJjb3Vwb24iLCJ1c2VycyIsInByb2R1Y3RzIiwiY2F0ZWdvcmllcyIsImJyYW5kcyIsIm9yZGVycyIsInJldmlld3MiLCJjb3Vwb25zIiwidHJhbnNhY3Rpb24iLCJjYWxsYmFjayIsIiR0cmFuc2FjdGlvbiIsImdldENsaWVudCIsInF1ZXJ5Iiwic3FsIiwicGFyYW1zIiwiZ2V0RGl2aXNpb25zIiwiZGl2aXNpb25zIiwibWFwIiwicm93IiwiZGl2aXNpb24iLCJnZXRQYXltZW50TWV0aG9kcyIsInBheW1lbnRNZXRob2RzIiwicGF5bWVudE1ldGhvZCIsInV0aWxpemF0aW9uUmF0ZSIsInRvRml4ZWQiLCJ0aW1lb3V0cyIsImNvbm5lY3Rpb24iLCJpZGxlIiwiYWNxdWlyZSIsIiRvbiIsImV2ZW50IiwiZHVyYXRpb24iLCJ0YXJnZXQiLCJ3YXJuIiwib24iLCJjbGVhbnVwQ29ubmVjdGlvbnMiLCJkYXRhYmFzZVNlcnZpY2UiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiZGF0YWJhc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBQcmlzbWFDbGllbnQgfSA9IHJlcXVpcmUoJ0BwcmlzbWEvY2xpZW50Jyk7XHJcblxyXG5jbGFzcyBEYXRhYmFzZVNlcnZpY2Uge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5jb25uZWN0aW9uUG9vbCA9IHtcclxuICAgICAgYWN0aXZlQ29ubmVjdGlvbnM6IDAsXHJcbiAgICAgIGlkbGVDb25uZWN0aW9uczogMCxcclxuICAgICAgdG90YWxDb25uZWN0aW9uczogMCxcclxuICAgICAgbWF4Q29ubmVjdGlvbnM6IDEwLFxyXG4gICAgICBjb25uZWN0aW9uVGltZW91dDogMzAwMDAsXHJcbiAgICAgIGlkbGVUaW1lb3V0OiAxMDAwMCxcclxuICAgICAgYWNxdWlyZVRpbWVvdXRNaWxsaXM6IDMwMDAwLFxyXG4gICAgICBjcmVhdGVUaW1lb3V0TWlsbGlzOiAzMDAwMCxcclxuICAgICAgZGVzdHJveVRpbWVvdXRNaWxsaXM6IDUwMDAsXHJcbiAgICAgIHJlYXBJbnRlcnZhbE1pbGxpczogMTAwMCxcclxuICAgICAgY3JlYXRlUmV0cnlJbnRlcnZhbE1pbGxpczogMjAwLFxyXG4gICAgICBjb25uZWN0aW9uU3RhcnRUaW1lOiBudWxsLFxyXG4gICAgICBxdWVyeUNvdW50OiAwLFxyXG4gICAgICBlcnJvckNvdW50OiAwXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLnByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoe1xyXG4gICAgICBsb2c6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBlbWl0OiAnZXZlbnQnLFxyXG4gICAgICAgICAgbGV2ZWw6ICdxdWVyeScsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBlbWl0OiAnZXZlbnQnLFxyXG4gICAgICAgICAgbGV2ZWw6ICdlcnJvcicsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBlbWl0OiAnZXZlbnQnLFxyXG4gICAgICAgICAgbGV2ZWw6ICdpbmZvJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGVtaXQ6ICdldmVudCcsXHJcbiAgICAgICAgICBsZXZlbDogJ3dhcm4nLFxyXG4gICAgICAgIH1cclxuICAgICAgXSxcclxuICAgICAgLy8gRW5oYW5jZWQgY29ubmVjdGlvbiBjb25maWd1cmF0aW9uXHJcbiAgICAgIGRhdGFzb3VyY2VzOiB7XHJcbiAgICAgICAgZGI6IHtcclxuICAgICAgICAgIHVybDogcHJvY2Vzcy5lbnYuUE9TVEdSRVNfREFUQUJBU0VfVVJMLFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgLy8gQ29ubmVjdGlvbiBwb29sIHNldHRpbmdzXHJcbiAgICAgIF9faW50ZXJuYWw6IHtcclxuICAgICAgICBlbmdpbmU6IHtcclxuICAgICAgICAgIGNvbm5lY3Rpb25MaW1pdDogdGhpcy5jb25uZWN0aW9uUG9vbC5tYXhDb25uZWN0aW9ucyxcclxuICAgICAgICAgIHBvb2xUaW1lb3V0OiB0aGlzLmNvbm5lY3Rpb25Qb29sLmFjcXVpcmVUaW1lb3V0TWlsbGlzLFxyXG4gICAgICAgICAgaWRsZVRpbWVvdXQ6IHRoaXMuY29ubmVjdGlvblBvb2wuaWRsZVRpbWVvdXQsXHJcbiAgICAgICAgICBjb25uZWN0aW9uVGltZW91dDogdGhpcy5jb25uZWN0aW9uUG9vbC5jb25uZWN0aW9uVGltZW91dFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIC8vIFNldCB1cCBldmVudCBsaXN0ZW5lcnMgZm9yIGNvbm5lY3Rpb24gbW9uaXRvcmluZ1xyXG4gICAgdGhpcy5zZXR1cEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBjb25uZWN0KCkge1xyXG4gICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgIGNvbnN0IG1heFJldHJpZXMgPSAzO1xyXG4gICAgY29uc3QgcmV0cnlEZWxheSA9IDEwMDA7IC8vIDEgc2Vjb25kXHJcbiAgICBcclxuICAgIGZvciAobGV0IGF0dGVtcHQgPSAxOyBhdHRlbXB0IDw9IG1heFJldHJpZXM7IGF0dGVtcHQrKykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMucHJpc21hLiRjb25uZWN0KCk7XHJcbiAgICAgICAgY29uc3QgY29ubmVjdGlvblRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUgRGF0YWJhc2UgY29ubmVjdGVkIHN1Y2Nlc3NmdWxseSAoYXR0ZW1wdCAke2F0dGVtcHR9LCAke2Nvbm5lY3Rpb25UaW1lfW1zKWApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIExvZyBjb25uZWN0aW9uIHBvb2wgc3RhdHVzXHJcbiAgICAgICAgY29uc3QgcG9vbFN0YXRzID0gdGhpcy5nZXRDb25uZWN0aW9uUG9vbFN0YXRzKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/CflI0gRGF0YWJhc2UgY29ubmVjdGlvbiBwb29sIHN0YXRzOicsIHBvb2xTdGF0cyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIERhdGFiYXNlIGNvbm5lY3Rpb24gYXR0ZW1wdCAke2F0dGVtcHR9IGZhaWxlZDpgLCB7XHJcbiAgICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcclxuICAgICAgICAgIGNvZGU6IGVycm9yLmNvZGUsXHJcbiAgICAgICAgICBhdHRlbXB0LFxyXG4gICAgICAgICAgbWF4UmV0cmllcyxcclxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGF0dGVtcHQgPCBtYXhSZXRyaWVzKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+UhCBSZXRyeWluZyBkYXRhYmFzZSBjb25uZWN0aW9uIGluICR7cmV0cnlEZWxheX1tcy4uLmApO1xyXG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIHJldHJ5RGVsYXkpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gTG9nIGZpbmFsIGZhaWx1cmUgd2l0aCBkaWFnbm9zdGljIGluZm9cclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ/CfkqUgQWxsIGRhdGFiYXNlIGNvbm5lY3Rpb24gYXR0ZW1wdHMgZmFpbGVkOicsIHtcclxuICAgICAgICAgICAgdG90YWxBdHRlbXB0czogbWF4UmV0cmllcyxcclxuICAgICAgICAgICAgdG90YWxEdXJhdGlvbjogRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSxcclxuICAgICAgICAgICAgZGF0YWJhc2VVcmw6IHRoaXMuY29uZmlnPy5EQVRBQkFTRV9VUkwgPyAnQ09ORklHVVJFRCcgOiAnTUlTU0lORycsXHJcbiAgICAgICAgICAgIGVudmlyb25tZW50OiBwcm9jZXNzLmVudi5OT0RFX0VOViB8fCAndW5rbm93bidcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBkaXNjb25uZWN0KCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgdGhpcy5wcmlzbWEuJGRpc2Nvbm5lY3QoKTtcclxuICAgICAgY29uc29sZS5sb2coJ+KchSBEYXRhYmFzZSBkaXNjb25uZWN0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRGF0YWJhc2UgZGlzY29ubmVjdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGhlYWx0aENoZWNrKCkge1xyXG4gICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIEVuaGFuY2VkIHF1ZXJ5IHdpdGggTk9XKCkgZm9yIGJldHRlciB0aW1pbmcgbWVhc3VyZW1lbnRcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5wcmlzbWEuJHF1ZXJ5UmF3YFNFTEVDVCAxIGFzIHN0YXR1cywgTk9XKCkgYXMgc2VydmVyX3RpbWVgO1xyXG4gICAgICBjb25zdCByZXNwb25zZVRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xyXG4gICAgICBjb25zdCBwb29sU3RhdHMgPSB0aGlzLmdldENvbm5lY3Rpb25Qb29sU3RhdHMoKTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3RhdHVzOiAnaGVhbHRoeScsXHJcbiAgICAgICAgZGF0YWJhc2U6ICdjb25uZWN0ZWQnLFxyXG4gICAgICAgIHJlc3BvbnNlVGltZTogYCR7cmVzcG9uc2VUaW1lfW1zYCxcclxuICAgICAgICBjb25uZWN0aW9uUG9vbDogcG9vbFN0YXRzLFxyXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zdCByZXNwb25zZVRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN0YXR1czogJ3VuaGVhbHRoeScsXHJcbiAgICAgICAgZGF0YWJhc2U6ICdkaXNjb25uZWN0ZWQnLFxyXG4gICAgICAgIHJlc3BvbnNlVGltZTogYCR7cmVzcG9uc2VUaW1lfW1zYCxcclxuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcclxuICAgICAgICBjb25uZWN0aW9uUG9vbDogdGhpcy5nZXRDb25uZWN0aW9uUG9vbFN0YXRzKCksXHJcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldFN0YXRzKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgW1xyXG4gICAgICAgIHVzZXJDb3VudCxcclxuICAgICAgICBwcm9kdWN0Q291bnQsXHJcbiAgICAgICAgY2F0ZWdvcnlDb3VudCxcclxuICAgICAgICBicmFuZENvdW50LFxyXG4gICAgICAgIG9yZGVyQ291bnQsXHJcbiAgICAgICAgcmV2aWV3Q291bnQsXHJcbiAgICAgICAgY291cG9uQ291bnRcclxuICAgICAgXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgICB0aGlzLnByaXNtYS51c2VyLmNvdW50KCksXHJcbiAgICAgICAgdGhpcy5wcmlzbWEucHJvZHVjdC5jb3VudCgpLFxyXG4gICAgICAgIHRoaXMucHJpc21hLmNhdGVnb3J5LmNvdW50KCksXHJcbiAgICAgICAgdGhpcy5wcmlzbWEuYnJhbmQuY291bnQoKSxcclxuICAgICAgICB0aGlzLnByaXNtYS5vcmRlci5jb3VudCgpLFxyXG4gICAgICAgIHRoaXMucHJpc21hLnJldmlldy5jb3VudCgpLFxyXG4gICAgICAgIHRoaXMucHJpc21hLmNvdXBvbi5jb3VudCgpXHJcbiAgICAgIF0pO1xyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB1c2VyczogdXNlckNvdW50LFxyXG4gICAgICAgIHByb2R1Y3RzOiBwcm9kdWN0Q291bnQsXHJcbiAgICAgICAgY2F0ZWdvcmllczogY2F0ZWdvcnlDb3VudCxcclxuICAgICAgICBicmFuZHM6IGJyYW5kQ291bnQsXHJcbiAgICAgICAgb3JkZXJzOiBvcmRlckNvdW50LFxyXG4gICAgICAgIHJldmlld3M6IHJldmlld0NvdW50LFxyXG4gICAgICAgIGNvdXBvbnM6IGNvdXBvbkNvdW50LFxyXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGRhdGFiYXNlIHN0YXRzOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBUcmFuc2FjdGlvbiBoZWxwZXJcclxuICBhc3luYyB0cmFuc2FjdGlvbihjYWxsYmFjaykge1xyXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMucHJpc21hLiR0cmFuc2FjdGlvbihjYWxsYmFjayk7XHJcbiAgfVxyXG5cclxuICAvLyBHZXQgY2xpZW50IGluc3RhbmNlXHJcbiAgZ2V0Q2xpZW50KCkge1xyXG4gICAgcmV0dXJuIHRoaXMucHJpc21hO1xyXG4gIH1cclxuXHJcbiAgLy8gUmF3IHF1ZXJ5IGhlbHBlclxyXG4gIGFzeW5jIHF1ZXJ5KHNxbCwgcGFyYW1zID0gW10pIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLnByaXNtYS4kcXVlcnlSYXdgJHtzcWx9YDtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1JhdyBxdWVyeSBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQmFuZ2xhZGVzaC1zcGVjaWZpYyBoZWxwZXJzXHJcbiAgYXN5bmMgZ2V0RGl2aXNpb25zKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGl2aXNpb25zID0gYXdhaXQgdGhpcy5wcmlzbWEuJHF1ZXJ5UmF3YFxyXG4gICAgICAgIFNFTEVDVCBESVNUSU5DVCBkaXZpc2lvbiBGUk9NIGFkZHJlc3NlcyBcclxuICAgICAgICBXSEVSRSBkaXZpc2lvbiBJUyBOT1QgTlVMTCBcclxuICAgICAgICBPUkRFUiBCWSBkaXZpc2lvblxyXG4gICAgICBgO1xyXG4gICAgICByZXR1cm4gZGl2aXNpb25zLm1hcChyb3cgPT4gcm93LmRpdmlzaW9uKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgZGl2aXNpb25zOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRQYXltZW50TWV0aG9kcygpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHBheW1lbnRNZXRob2RzID0gYXdhaXQgdGhpcy5wcmlzbWEuJHF1ZXJ5UmF3YFxyXG4gICAgICAgIFNFTEVDVCBESVNUSU5DVCBwYXltZW50TWV0aG9kIEZST00gb3JkZXJzIFxyXG4gICAgICAgIFdIRVJFIHBheW1lbnRNZXRob2QgSVMgTk9UIE5VTEwgXHJcbiAgICAgICAgT1JERVIgQlkgcGF5bWVudE1ldGhvZFxyXG4gICAgICBgO1xyXG4gICAgICByZXR1cm4gcGF5bWVudE1ldGhvZHMubWFwKHJvdyA9PiByb3cucGF5bWVudE1ldGhvZCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHBheW1lbnQgbWV0aG9kczonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH1cclxuICAvLyBHZXQgY29ubmVjdGlvbiBwb29sIHN0YXRpc3RpY3MgZm9yIGRpYWdub3N0aWNzXHJcbiAgZ2V0Q29ubmVjdGlvblBvb2xTdGF0cygpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHV0aWxpemF0aW9uUmF0ZSA9IHRoaXMuY29ubmVjdGlvblBvb2wubWF4Q29ubmVjdGlvbnMgPiAwXHJcbiAgICAgICAgPyAodGhpcy5jb25uZWN0aW9uUG9vbC5hY3RpdmVDb25uZWN0aW9ucyAvIHRoaXMuY29ubmVjdGlvblBvb2wubWF4Q29ubmVjdGlvbnMgKiAxMDApLnRvRml4ZWQoMilcclxuICAgICAgICA6IDA7XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGFjdGl2ZUNvbm5lY3Rpb25zOiB0aGlzLmNvbm5lY3Rpb25Qb29sLmFjdGl2ZUNvbm5lY3Rpb25zLFxyXG4gICAgICAgIGlkbGVDb25uZWN0aW9uczogdGhpcy5jb25uZWN0aW9uUG9vbC5pZGxlQ29ubmVjdGlvbnMsXHJcbiAgICAgICAgdG90YWxDb25uZWN0aW9uczogdGhpcy5jb25uZWN0aW9uUG9vbC50b3RhbENvbm5lY3Rpb25zLFxyXG4gICAgICAgIG1heENvbm5lY3Rpb25zOiB0aGlzLmNvbm5lY3Rpb25Qb29sLm1heENvbm5lY3Rpb25zLFxyXG4gICAgICAgIHV0aWxpemF0aW9uUmF0ZTogYCR7dXRpbGl6YXRpb25SYXRlfSVgLFxyXG4gICAgICAgIHRpbWVvdXRzOiB7XHJcbiAgICAgICAgICBjb25uZWN0aW9uOiB0aGlzLmNvbm5lY3Rpb25Qb29sLmNvbm5lY3Rpb25UaW1lb3V0LFxyXG4gICAgICAgICAgaWRsZTogdGhpcy5jb25uZWN0aW9uUG9vbC5pZGxlVGltZW91dCxcclxuICAgICAgICAgIGFjcXVpcmU6IHRoaXMuY29ubmVjdGlvblBvb2wuYWNxdWlyZVRpbWVvdXRNaWxsaXNcclxuICAgICAgICB9LFxyXG4gICAgICAgIHF1ZXJ5Q291bnQ6IHRoaXMuY29ubmVjdGlvblBvb2wucXVlcnlDb3VudCxcclxuICAgICAgICBlcnJvckNvdW50OiB0aGlzLmNvbm5lY3Rpb25Qb29sLmVycm9yQ291bnQsXHJcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gZ2V0IGNvbm5lY3Rpb24gcG9vbCBzdGF0czonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gU2V0dXAgZXZlbnQgbGlzdGVuZXJzIGZvciBQcmlzbWEgZXZlbnRzXHJcbiAgc2V0dXBFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIE1vbml0b3IgcXVlcnkgZXZlbnRzXHJcbiAgICAgIHRoaXMucHJpc21hLiRvbigncXVlcnknLCAoZXZlbnQpID0+IHtcclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25Qb29sLnF1ZXJ5Q291bnQrKztcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBRdWVyeTonLCB7XHJcbiAgICAgICAgICBxdWVyeTogZXZlbnQucXVlcnksXHJcbiAgICAgICAgICBwYXJhbXM6IGV2ZW50LnBhcmFtcyxcclxuICAgICAgICAgIGR1cmF0aW9uOiBgJHtldmVudC5kdXJhdGlvbn1tc2AsXHJcbiAgICAgICAgICB0aW1lc3RhbXA6IGV2ZW50LnRpbWVzdGFtcFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIE1vbml0b3IgZXJyb3IgZXZlbnRzXHJcbiAgICAgIHRoaXMucHJpc21hLiRvbignZXJyb3InLCAoZXZlbnQpID0+IHtcclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25Qb29sLmVycm9yQ291bnQrKztcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRGF0YWJhc2UgRXJyb3I6Jywge1xyXG4gICAgICAgICAgdGFyZ2V0OiBldmVudC50YXJnZXQsXHJcbiAgICAgICAgICBtZXNzYWdlOiBldmVudC5tZXNzYWdlLFxyXG4gICAgICAgICAgdGltZXN0YW1wOiBldmVudC50aW1lc3RhbXBcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBNb25pdG9yIGluZm8gZXZlbnRzXHJcbiAgICAgIHRoaXMucHJpc21hLiRvbignaW5mbycsIChldmVudCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfihLnvuI8gRGF0YWJhc2UgSW5mbzonLCB7XHJcbiAgICAgICAgICB0YXJnZXQ6IGV2ZW50LnRhcmdldCxcclxuICAgICAgICAgIG1lc3NhZ2U6IGV2ZW50Lm1lc3NhZ2UsXHJcbiAgICAgICAgICB0aW1lc3RhbXA6IGV2ZW50LnRpbWVzdGFtcFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIE1vbml0b3Igd2FybmluZyBldmVudHNcclxuICAgICAgdGhpcy5wcmlzbWEuJG9uKCd3YXJuJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gRGF0YWJhc2UgV2FybmluZzonLCB7XHJcbiAgICAgICAgICB0YXJnZXQ6IGV2ZW50LnRhcmdldCxcclxuICAgICAgICAgIG1lc3NhZ2U6IGV2ZW50Lm1lc3NhZ2UsXHJcbiAgICAgICAgICB0aW1lc3RhbXA6IGV2ZW50LnRpbWVzdGFtcFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIEhhbmRsZSBwcm9jZXNzIGV4aXQgZm9yIGdyYWNlZnVsIGNsZWFudXBcclxuICAgICAgcHJvY2Vzcy5vbignYmVmb3JlRXhpdCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBQcm9jZXNzIGV4aXRpbmcsIGNsZWFuaW5nIHVwIGRhdGFiYXNlIGNvbm5lY3Rpb25zLi4uJyk7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5jbGVhbnVwQ29ubmVjdGlvbnMoKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIERhdGFiYXNlIGV2ZW50IGxpc3RlbmVycyBzZXR1cCBjb21wbGV0ZWQnKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gc2V0dXAgZXZlbnQgbGlzdGVuZXJzOicsIGVycm9yKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIENsZWFudXAgY29ubmVjdGlvbnMgZ3JhY2VmdWxseVxyXG4gIGFzeW5jIGNsZWFudXBDb25uZWN0aW9ucygpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn6e5IFN0YXJ0aW5nIGNvbm5lY3Rpb24gY2xlYW51cC4uLicpO1xyXG4gICAgICBcclxuICAgICAgLy8gUmVzZXQgY29ubmVjdGlvbiB0cmFja2luZ1xyXG4gICAgICB0aGlzLmNvbm5lY3Rpb25Qb29sLmFjdGl2ZUNvbm5lY3Rpb25zID0gMDtcclxuICAgICAgdGhpcy5jb25uZWN0aW9uUG9vbC5pZGxlQ29ubmVjdGlvbnMgPSAwO1xyXG4gICAgICB0aGlzLmNvbm5lY3Rpb25Qb29sLnRvdGFsQ29ubmVjdGlvbnMgPSAwO1xyXG4gICAgICBcclxuICAgICAgLy8gRGlzY29ubmVjdCBmcm9tIGRhdGFiYXNlXHJcbiAgICAgIGF3YWl0IHRoaXMucHJpc21hLiRkaXNjb25uZWN0KCk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIERhdGFiYXNlIGNvbm5lY3Rpb25zIGNsZWFuZWQgdXAgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIGNsZWFudXAgY29ubmVjdGlvbnM6JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIFNpbmdsZXRvbiBpbnN0YW5jZVxyXG5jb25zdCBkYXRhYmFzZVNlcnZpY2UgPSBuZXcgRGF0YWJhc2VTZXJ2aWNlKCk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBEYXRhYmFzZVNlcnZpY2UsXHJcbiAgZGF0YWJhc2VTZXJ2aWNlXHJcbn07Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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